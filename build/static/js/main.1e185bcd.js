/*! For license information please see main.1e185bcd.js.LICENSE.txt */
(()=>{var e={540:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return w(e)===h}t.isForwardRef=function(e){return w(e)===d}},904:(e,t,n)=>{"use strict";e.exports=n(540)},172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(396);n(554);var i=n(43);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){s(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return l(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var o=this.handlers[i];-1===t.indexOf(o)&&n.push(o)}return new e(n)}}]),e}();function m(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function g(e){return Array.isArray(e)?e:[e]}function v(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===o(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){s(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return l(e,[{key:"addHandlers",value:function(t,n){var r=m(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=m(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var _=function(){function e(t){var n=this;s(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return l(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=new(function(){function e(){var t=this;s(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=v(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new _(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(v(e))}))}return l(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s;this.getTarget(o).addHandlers(a,e,g(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s,l=this.getTarget(o,!1);l&&(l.removeHandlers(a,e,g(t)),l.hasHandlers()||this.removeTarget(o))}}}]),e}()),w=function(e){function t(){return s(this,t),f(this,h(t).apply(this,arguments))}return u(t,i.PureComponent),l(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(w,"defaultProps",{pool:"default",target:"document"}),w.propTypes={},t.instance=b,t.default=w},173:(e,t,n)=>{"use strict";var r;r=n(172),e.exports=r.default,e.exports.instance=r.instance},396:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},90:e=>{"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var o=i+65;n[o]=[String.fromCharCode(o+32),String.fromCharCode(o)]}var s={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};s.Spacebar=s[" "],s.Digit0=s[0],s.Digit1=s[1],s.Digit2=s[2],s.Digit3=s[3],s.Digit4=s[4],s.Digit5=s[5],s.Digit6=s[6],s.Digit7=s[7],s.Digit8=s[8],s.Digit9=s[9],s.Tilde=s["~"],s.GraveAccent=s["`"],s.ExclamationPoint=s["!"],s.AtSign=s["@"],s.PoundSign=s["#"],s.PercentSign=s["%"],s.Caret=s["^"],s.Ampersand=s["&"],s.PlusSign=s["+"],s.MinusSign=s["-"],s.EqualsSign=s["="],s.DivisionSign=s["/"],s.MultiplicationSign=s["*"],s.Comma=s[","],s.Decimal=s["."],s.Colon=s[":"],s.Semicolon=s[";"],s.Pipe=s["|"],s.BackSlash=s["\\"],s.QuestionMark=s["?"],s.SingleQuote=s["'"],s.DoubleQuote=s['"'],s.LeftCurlyBrace=s["{"],s.RightCurlyBrace=s["}"],s.LeftParenthesis=s["("],s.RightParenthesis=s[")"],s.LeftAngleBracket=s["<"],s.RightAngleBracket=s[">"],s.LeftSquareBracket=s["["],s.RightSquareBracket=s["]"],e.exports=s},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},554:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ce=null;function ke(e){if(e=gi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=yi(t),Ee(e.stateNode,e.type,t))}}function Te(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function xe(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ce)&&(xe(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,St,Ct,kt=!1,Tt=[],It=null,Nt=null,xt=null,Pt=new Map,Rt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=mi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){kt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==xt&&Ft(xt)&&(xt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Nt&&Vt(Nt,e),null!==xt&&Vt(xt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Mt(n),null===n.blockedOn&&At.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=yt,o=Bt.transition;Bt.transition=null;try{yt=1,Wt(e,t,n,r)}finally{yt=i,Bt.transition=o}}function Ht(e,t,n,r){var i=yt,o=Bt.transition;Bt.transition=null;try{yt=4,Wt(e,t,n,r)}finally{yt=i,Bt.transition=o}}function Wt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)Br(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return xt=Lt(xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Lt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=gi(i);if(null!==o&&bt(o),null===(o=Gt(e,t,n,r))&&Br(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=mi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,$t=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,on,sn,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(an),cn=F({},an,{view:0,detail:0}),un=nn(cn),hn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(rn=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=rn=0,sn=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),dn=nn(hn),fn=nn(F({},hn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),mn=nn(F({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(F({},an,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return En}var Cn=F({},cn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=nn(Cn),Tn=nn(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=nn(F({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=nn(xn),Rn=[9,13,27,32],An=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Dn=u&&"TextEvent"in window&&!On,Ln=u&&(!An||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Kn(e){Mr(e,0)}function Gn(e){if(G(vi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var $n;if(u){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"===typeof Xn.oninput}$n=Jn}else $n=!1;Yn=$n&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",er),Wn=Hn=null)}function er(e){if("value"===e.propertyName&&Gn(Wn)){var t=[];qn(t,Wn,e,we(e)),Re(Kn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Wn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Wn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=u&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},wr={},Er={};function Sr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return wr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Cr=Sr("animationend"),kr=Sr("animationiteration"),Tr=Sr("animationstart"),Ir=Sr("transitionend"),Nr=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var Rr=0;Rr<xr.length;Rr++){var Ar=xr[Rr];Pr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(kr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,a,c),o=l}}}if(Ue)throw e=je,Ue=!1,je=null,e}function Fr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[jr]){e[jr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=mi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=o,i=we(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=ln,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Cr:case kr:case Tr:l=mn;break;case Ir:l=Nn;break;case"scroll":l=un;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ae(p,d))&&u.push(qr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[hi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=dn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:vi(l),f=null==c?a:vi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,mi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==h&&Kr(s,h,c,u,!0)}if("select"===(l=(a=r?vi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Bn(a))if(Yn)g=ir;else{g=nr;var v=tr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=rr);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?vi(r):window,e){case"focusin":(Bn(v)||"true"===v.contentEditable)&&(pr=v,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(s,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(s,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=Xt()):($t="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(v=Hr(r,_)).length&&(_=new yn(_,e,null,n,i),s.push({event:_,listeners:v}),y?_.data=y:null!==(y=jn(n))&&(_.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!An&&Un(e,t)?(e=Xt(),Jt=$t=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Mr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Ae(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,o))&&s.unshift(qr(n,l,a)):i||null!=(l=Ae(n,o))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function $r(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Jr(){}var Xr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,ui="__reactProps$"+li,hi="__reactContainer$"+li,di="__reactEvents$"+li,fi="__reactListeners$"+li,pi="__reactHandles$"+li;function mi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[ci])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function yi(e){return e[ui]||null}var _i=[],bi=-1;function wi(e){return{current:e}}function Ei(e){0>bi||(e.current=_i[bi],_i[bi]=null,bi--)}function Si(e,t){bi++,_i[bi]=e.current,e.current=t}var Ci={},ki=wi(Ci),Ti=wi(!1),Ii=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ti),Ei(ki)}function Ri(e,t,n){if(ki.current!==Ci)throw Error(o(168));Si(ki,t),Si(Ti,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=ki.current,Si(ki,e),Si(Ti,Ti.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ai(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(ki),Si(ki,e)):Ei(Ti),Si(Ti,n)}var Li=null,Mi=!1,Fi=!1;function Ui(e){null===Li?Li=[e]:Li.push(e)}function ji(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Ze,ji),i}finally{yt=t,Fi=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Hi=null,Wi=null;function Ki(){Wi=Hi=qi=null}function Gi(e){var t=Bi.current;Ei(Bi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){qi=e,Wi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function $i(e){var t=e._currentValue;if(Wi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===qi)throw Error(o(308));Hi=e,qi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Ji=null,Xi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function no(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==_l&&0!==(1&e.mode)&&0===(2&yl)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,r){var i=e.updateQueue;Xi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Xi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Tl|=s,e.lanes=s,e.memoizedState=h}}function so(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ao=(new r.Component).refs;function lo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var co={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ql(),i=Hl(e),o=to(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),no(e,o),null!==(t=Wl(e,i,r))&&ro(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ql(),i=Hl(e),o=to(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),no(e,o),null!==(t=Wl(e,i,r))&&ro(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ql(),r=Hl(e),i=to(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),no(e,i),null!==(t=Wl(e,r,n))&&ro(t,e,r)}};function uo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function ho(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=$i(o):(i=xi(t)?Ii:ki.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=co,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function po(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ao,Zi(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=$i(o):(o=xi(t)?Ii:ki.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(lo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&co.enqueueReplaceState(i,i.state,null),oo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var mo=[],go=0,vo=null,yo=0,_o=[],bo=0,wo=null,Eo=1,So="";function Co(e,t){mo[go++]=yo,mo[go++]=vo,vo=e,yo=t}function ko(e,t,n){_o[bo++]=Eo,_o[bo++]=So,_o[bo++]=wo,wo=e;var r=Eo;e=So;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Eo=1<<32-st(t)+i|n<<i|r,So=o+e}else Eo=1<<o|n<<i|r,So=e}function To(e){null!==e.return&&(Co(e,1),ko(e,1,0))}function Io(e){for(;e===vo;)vo=mo[--go],mo[go]=null,yo=mo[--go],mo[go]=null;for(;e===wo;)wo=_o[--bo],_o[bo]=null,So=_o[--bo],_o[bo]=null,Eo=_o[--bo],_o[bo]=null}var No=null,xo=null,Po=!1,Ro=null;function Ao(e,t){var n=wc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Oo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,No=e,xo=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,No=e,xo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==wo?{id:Eo,overflow:So}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=wc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,No=e,xo=null,!0);default:return!1}}function Do(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Lo(e){if(Po){var t=xo;if(t){var n=t;if(!Oo(e,t)){if(Do(e))throw Error(o(418));t=si(n.nextSibling);var r=No;t&&Oo(e,t)?Ao(r,n):(e.flags=-4097&e.flags|2,Po=!1,No=e)}}else{if(Do(e))throw Error(o(418));e.flags=-4097&e.flags|2,Po=!1,No=e}}}function Mo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;No=e}function Fo(e){if(e!==No)return!1;if(!Po)return Mo(e),Po=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=xo)){if(Do(e)){for(e=xo;e;)e=si(e.nextSibling);throw Error(o(418))}for(;t;)Ao(e,t),t=si(t.nextSibling)}if(Mo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xo=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xo=null}}else xo=No?si(e.stateNode.nextSibling):null;return!0}function Uo(){xo=No=null,Po=!1}function jo(e){null===Ro?Ro=[e]:Ro.push(e)}function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===ao&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function zo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bo(e){return(0,e._init)(e._payload)}function qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Sc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Bo(o)===t.type)?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=Cc(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=kc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Cc(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case E:return(t=Nc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=kc(t,e.mode,n,null)).return=e,t;zo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);zo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);zo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),Po&&Co(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return Po&&Co(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),Po&&Co(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),a=s(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(i,m),Po&&Co(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return Po&&Co(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),Po&&Co(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=kc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Cc(s.type,s.key,s.props,null,r.mode,l)).ref=Vo(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Nc(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);zo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Ic(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Ho=qo(!0),Wo=qo(!1),Ko={},Go=wi(Ko),Qo=wi(Ko),Yo=wi(Ko);function $o(e){if(e===Ko)throw Error(o(174));return e}function Jo(e,t){switch(Si(Yo,t),Si(Qo,e),Si(Go,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Go),Si(Go,t)}function Xo(){Ei(Go),Ei(Qo),Ei(Yo)}function Zo(e){$o(Yo.current);var t=$o(Go.current),n=le(t,e.type);t!==n&&(Si(Qo,e),Si(Go,n))}function es(e){Qo.current===e&&(Ei(Go),Ei(Qo))}var ts=wi(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function is(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var os=b.ReactCurrentDispatcher,ss=b.ReactCurrentBatchConfig,as=0,ls=null,cs=null,us=null,hs=!1,ds=!1,fs=0,ps=0;function ms(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function vs(e,t,n,r,i,s){if(as=s,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(o(301));s+=1,us=cs=null,t.updateQueue=null,os.current=ta,e=n(r,i)}while(ds)}if(os.current=Xs,t=null!==cs&&null!==cs.next,as=0,us=cs=ls=null,hs=!1,t)throw Error(o(300));return e}function ys(){var e=0!==fs;return fs=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ls.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?ls.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?ls.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((as&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,ls.lanes|=h,Tl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,or(r,t.memoizedState)||(ya=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ls.lanes|=s,Tl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);or(s,t.memoizedState)||(ya=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(){}function ks(e,t){var n=ls,r=bs(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,ya=!0),r=r.queue,Ms(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Rs(9,Is.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(o(349));0!==(30&as)||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&Wl(e,1,-1)}function Ns(e,t,n){return n((function(){xs(t)&&Wl(e,1,-1)}))}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ps(e){var t=_s();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,ls,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function As(){return bs().memoizedState}function Os(e,t,n,r){var i=_s();ls.flags|=e,i.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Rs(t,n,o,r))}ls.flags|=e,i.memoizedState=Rs(1|t,n,o,r)}function Ls(e,t){return Os(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function Us(e,t){return Ds(4,4,e,t)}function js(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,js.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ss.transition;ss.transition={};try{e(!1),t()}finally{yt=n,ss.transition=r}}function Ws(){return bs().memoizedState}function Ks(e,t,n){var r=Hl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e)?Ys(t,n):($s(e,t,n),null!==(e=Wl(e,r,n=ql()))&&Js(e,t,r))}function Gs(e,t,n){var r=Hl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Ys(t,i);else{$s(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,or(a,s))return}catch(l){}null!==(e=Wl(e,r,n=ql()))&&Js(e,t,r)}}function Qs(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function Ys(e,t){ds=hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){null!==_l&&0!==(1&e.mode)&&0===(2&yl)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:$i,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Zs={readContext:$i,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:$i,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_s();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:Ps,useDebugValue:zs,useDeferredValue:function(e){var t=Ps(e),n=t[0],r=t[1];return Ls((function(){var t=ss.transition;ss.transition={};try{r(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){var e=Ps(!1),t=e[0];return e=Hs.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ls,i=_s();if(Po){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===_l)throw Error(o(349));0!==(30&as)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_s(),t=_l.identifierPrefix;if(Po){var n=So;t=":"+t+"R"+(n=(Eo&~(1<<32-st(Eo)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:$i,useCallback:Bs,useContext:$i,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:Es,useRef:As,useState:function(){return Es(ws)},useDebugValue:zs,useDeferredValue:function(e){var t=Es(ws),n=t[0],r=t[1];return Ms((function(){var t=ss.transition;ss.transition={};try{r(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){return[Es(ws)[0],bs().memoizedState]},useMutableSource:Cs,useSyncExternalStore:ks,useId:Ws,unstable_isNewReconciler:!1},ta={readContext:$i,useCallback:Bs,useContext:$i,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:Ss,useRef:As,useState:function(){return Ss(ws)},useDebugValue:zs,useDeferredValue:function(e){var t=Ss(ws),n=t[0],r=t[1];return Ms((function(){var t=ss.transition;ss.transition={};try{r(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:Cs,useSyncExternalStore:ks,useId:Ws,unstable_isNewReconciler:!1};function na(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ra(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ia,oa,sa,aa,la="function"===typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=to(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ol||(Ol=!0,Dl=r),ra(0,t)},n}function ua(e,t,n){(n=to(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ra(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ra(0,t),"function"!==typeof r&&(null===Ll?Ll=new Set([this]):Ll.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ha(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new la;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mc.bind(null,e,t,n),t.then(e,e))}function da(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fa(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=to(-1,1)).tag=2,no(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function pa(e,t){if(!Po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ma(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ga(e,t,n){var r=t.pendingProps;switch(Io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ma(t),null;case 1:case 17:return xi(t.type)&&Pi(),ma(t),null;case 3:return r=t.stateNode,Xo(),Ei(Ti),Ei(ki),is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ro&&($l(Ro),Ro=null))),oa(e,t),ma(t),null;case 5:es(t);var i=$o(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)sa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ma(t),null}if(e=$o(Go.current),Fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ci]=t,r[ui]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&($r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&($r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ci]=t,e[ui]=r,ia(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ma(t),null;case 6:if(e&&null!=t.stateNode)aa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Yo.current),$o(Go.current),Fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(s=r.nodeValue!==n)&&null!==(e=No))switch(l=0!==(1&e.mode),e.tag){case 3:$r(r.nodeValue,n,l);break;case 5:!0!==e.memoizedProps[void 0]&&$r(r.nodeValue,n,l)}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return ma(t),null;case 13:if(Ei(ts),r=t.memoizedState,Po&&null!==xo&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=xo;r;)r=si(r.nextSibling);return Uo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Fo(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[ci]=t}else Uo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ma(t),null}return null!==Ro&&($l(Ro),Ro=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Fo(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===Cl&&(Cl=3):oc())),null!==t.updateQueue&&(t.flags|=4),ma(t),null);case 4:return Xo(),oa(e,t),null===e&&Vr(t.stateNode.containerInfo),ma(t),null;case 10:return Gi(t.type._context),ma(t),null;case 19:if(Ei(ts),null===(s=t.memoizedState))return ma(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)pa(s,!1);else{if(0!==Cl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ns(e))){for(t.flags|=128,pa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Al&&(t.flags|=128,r=!0,pa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),pa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!Po)return ma(t),null}else 2*Je()-s.renderingStartTime>Al&&1073741824!==n&&(t.flags|=128,r=!0,pa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ts.current,Si(ts,r?1&n|2:1&n),t):(ma(t),null);case 22:case 23:return tc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&El)&&(ma(t),6&t.subtreeFlags&&(t.flags|=8192)):ma(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},oa=function(){},sa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Go.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},aa=function(e,t,n,r){n!==r&&(t.flags|=4)};var va=b.ReactCurrentOwner,ya=!1;function _a(e,t,n,r){t.child=null===e?Wo(t,null,n,r):Ho(t,e.child,n,r)}function ba(e,t,n,r,i){n=n.render;var o=t.ref;return Yi(t,i),r=vs(e,t,n,r,o,i),n=ys(),null===e||ya?(Po&&n&&To(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function wa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ec(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Cc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Sc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(ya=!1,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(ya=!0)}return ka(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Si(Sl,El),El|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Si(Sl,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==o?o.baseLanes:n,Si(Sl,El),El|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Sl,El),El|=r;return _a(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var o=xi(n)?Ii:ki.current;return o=Ni(t,o),Yi(t,i),n=vs(e,t,n,r,o,i),r=ys(),null===e||ya?(Po&&r&&To(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ta(e,t,n,r,i){if(xi(n)){var o=!0;Oi(t)}else o=!1;if(Yi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ho(t,n,r),po(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=$i(c):c=Ni(t,c=xi(n)?Ii:ki.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&fo(t,s,r,c),Xi=!1;var d=t.memoizedState;s.state=d,oo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ti.current||Xi?("function"===typeof u&&(lo(t,n,u,r),l=t.memoizedState),(a=Xi||uo(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,eo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:zi(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=$i(l):l=Ni(t,l=xi(n)?Ii:ki.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&fo(t,s,r,l),Xi=!1,d=t.memoizedState,s.state=d,oo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ti.current||Xi?("function"===typeof f&&(lo(t,n,f,r),p=t.memoizedState),(c=Xi||uo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),Va(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ho(t,e.child,null,o),t.child=Ho(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Jo(e,t.containerInfo)}function xa(e,t,n,r,i){return Uo(),jo(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null}}function Aa(e,t,n){var r,i=t.pendingProps,s=ts.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Si(ts,1&s),null===e)return Lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,a?(i=t.mode,a=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=s):a=Tc(s,i,0,null),e=kc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Pa,e):Oa(t,s));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Ma(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=Tc({mode:"visible",children:i.children},s,0,null),(a=kc(a,s,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Ho(t,e.child,null,n),t.child.memoizedState=Ra(n),t.memoizedState=Pa,a);if(0===(1&t.mode))t=Ma(e,t,n,null);else if("$!"===r.data)t=Ma(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),ya||i){if(null!==(i=_l)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(i=0!==(a&(i.suspendedLanes|n))?0:a)&&i!==s.retryLane&&(s.retryLane=i,Wl(e,i,-1))}oc(),t=Ma(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=vc.bind(null,e),r._reactRetry=t,t=null):(n=s.treeContext,xo=si(r.nextSibling),No=t,Po=!0,Ro=null,null!==n&&(_o[bo++]=Eo,_o[bo++]=So,_o[bo++]=wo,Eo=n.id,So=n.overflow,wo=t),(t=Oa(t,t.pendingProps.children)).flags|=4096);return t}return a?(i=La(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?Ra(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Pa,i):(n=Da(e,t,i.children,n),t.memoizedState=null,n)}return a?(i=La(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?Ra(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Pa,i):(n=Da(e,t,i.children,n),t.memoizedState=null,n)}function Oa(e,t){return(t=Tc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Da(e,t,n,r){var i=e.child;return e=i.sibling,n=Sc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function La(e,t,n,r,i){var o=t.mode,s=(e=e.child).sibling,a={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=a,t.deletions=null):(n=Sc(e,a)).subtreeFlags=14680064&e.subtreeFlags,null!==s?r=Sc(s,r):(r=kc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ma(e,t,n,r){return null!==r&&jo(r),Ho(t,e.child,null,n),(e=Oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Ua(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ts.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ts,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ns(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,o);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Sc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Sc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function za(e,t){switch(Io(t),t.tag){case 1:return xi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ei(Ti),Ei(ki),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Ei(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Uo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ts),null;case 4:return Xo(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return tc(),null;default:return null}}var Ba=!1,qa=!1,Ha="function"===typeof WeakSet?WeakSet:Set,Wa=null;function Ka(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){pc(e,t,r)}else n.current=null}function Ga(e,t,n){try{n()}catch(r){pc(e,t,r)}}var Qa=!1;function Ya(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Ga(t,n,o)}i=i.next}while(i!==r)}}function $a(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ja(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xa(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&Ga(t,n,o),r=r.next}while(r!==e)}break;case 1:if(Ka(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){pc(t,n,s)}break;case 5:Ka(t,n);break;case 4:ol(e,t,n)}}function Za(e){var t=e.alternate;null!==t&&(e.alternate=null,Za(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[ui],delete t[di],delete t[fi],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function el(e){return 5===e.tag||3===e.tag||4===e.tag}function tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||el(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nl(e){e:{for(var t=e.return;null!==t;){if(el(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),il(e,n=tl(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,rl(e,n=tl(e),t);break;default:throw Error(o(161))}}function rl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(rl(e,t,n),e=e.sibling;null!==e;)rl(e,t,n),e=e.sibling}function il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function ol(e,t,n){for(var r,i,s=t,a=!1;;){if(!a){a=s.return;e:for(;;){if(null===a)throw Error(o(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===s.tag||6===s.tag){e:for(var l=e,c=s,u=n,h=c;;)if(Xa(l,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,c=s.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(s.stateNode)}else if(18===s.tag)i?(l=r,c=s.stateNode,8===l.nodeType?oi(l.parentNode,c):1===l.nodeType&&oi(l,c),zt(l)):oi(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(Xa(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function sl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Ya(3,t,t.return),$a(3,t),void Ya(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),_e(e,i),t=_e(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?ge(n,l):"dangerouslySetInnerHTML"===a?he(n,l):"children"===a?de(n,l):_(n,a,l,t)}switch(e){case"input":X(n,r);break;case"textarea":oe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?ne(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[ui]=r}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void al(t)}throw Error(o(163))}function al(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ha),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ll(e,t,n){Wa=e,cl(e,t,n)}function cl(e,t,n){for(var r=0!==(1&e.mode);null!==Wa;){var i=Wa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ba;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||qa;a=Ba;var c=qa;if(Ba=s,(qa=l)&&!c)for(Wa=i;null!==Wa;)l=(s=Wa).child,22===s.tag&&null!==s.memoizedState?dl(i):null!==l?(l.return=s,Wa=l):dl(i);for(;null!==o;)Wa=o,cl(o,t,n),o=o.sibling;Wa=i,Ba=a,qa=c}ul(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Wa=o):ul(e)}}function ul(e){for(;null!==Wa;){var t=Wa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qa||$a(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&so(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}so(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}qa||512&t.flags&&Ja(t)}catch(f){pc(t,t.return,f)}}if(t===e){Wa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wa=n;break}Wa=t.return}}function hl(e){for(;null!==Wa;){var t=Wa;if(t===e){Wa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wa=n;break}Wa=t.return}}function dl(e){for(;null!==Wa;){var t=Wa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$a(4,t)}catch(l){pc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){pc(t,i,l)}}var o=t.return;try{Ja(t)}catch(l){pc(t,o,l)}break;case 5:var s=t.return;try{Ja(t)}catch(l){pc(t,s,l)}}}catch(l){pc(t,t.return,l)}if(t===e){Wa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Wa=a;break}Wa=t.return}}var fl,pl=Math.ceil,ml=b.ReactCurrentDispatcher,gl=b.ReactCurrentOwner,vl=b.ReactCurrentBatchConfig,yl=0,_l=null,bl=null,wl=0,El=0,Sl=wi(0),Cl=0,kl=null,Tl=0,Il=0,Nl=0,xl=null,Pl=null,Rl=0,Al=1/0,Ol=!1,Dl=null,Ll=null,Ml=!1,Fl=null,Ul=0,jl=0,Vl=null,zl=-1,Bl=0;function ql(){return 0!==(6&yl)?Je():-1!==zl?zl:zl=Je()}function Hl(e){return 0===(1&e.mode)?1:0!==(2&yl)&&0!==wl?wl&-wl:null!==Vi.transition?(0===Bl&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Bl=e),Bl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Wl(e,t,n){if(50<jl)throw jl=0,Vl=null,Error(o(185));var r=Kl(e,t);return null===r?null:(gt(r,t,n),0!==(2&yl)&&r===_l||(r===_l&&(0===(2&yl)&&(Il|=t),4===Cl&&Jl(r,wl)),Gl(r,n),1===t&&0===yl&&0===(1&e.mode)&&(Al=Je()+500,Mi&&ji())),r)}function Kl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===_l?wl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Ui(e)}(Xl.bind(null,e)):Ui(Xl.bind(null,e)),ri((function(){0===yl&&ji()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,Ql.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ql(e,t){if(zl=-1,Bl=0,0!==(6&yl))throw Error(o(327));var n=e.callbackNode;if(dc()&&e.callbackNode!==n)return null;var r=dt(e,e===_l?wl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=sc(e,r);else{t=r;var i=yl;yl|=2;var s=ic();for(_l===e&&wl===t||(Al=Je()+500,nc(e,t));;)try{lc();break}catch(l){rc(e,l)}Ki(),ml.current=s,yl=i,null!==bl?t=0:(_l=null,wl=0,t=Cl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Yl(e,i))),1===t)throw n=kl,nc(e,0),Jl(e,r),Gl(e,Je()),n;if(6===t)Jl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!or(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=sc(e,r))&&(0!==(s=pt(e))&&(r=s,t=Yl(e,s))),1===t))throw n=kl,nc(e,0),Jl(e,r),Gl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:hc(e,Pl);break;case 3:if(Jl(e,r),(130023424&r)===r&&10<(t=Rl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ql(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(hc.bind(null,e,Pl),t);break}hc(e,Pl);break;case 4:if(Jl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pl(r/1960))-r)){e.timeoutHandle=ei(hc.bind(null,e,Pl),r);break}hc(e,Pl);break;default:throw Error(o(329))}}}return Gl(e,Je()),e.callbackNode===n?Ql.bind(null,e):null}function Yl(e,t){var n=xl;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),2!==(e=sc(e,t))&&(t=Pl,Pl=n,null!==t&&$l(t)),e}function $l(e){null===Pl?Pl=e:Pl.push.apply(Pl,e)}function Jl(e,t){for(t&=~Nl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function Xl(e){if(0!==(6&yl))throw Error(o(327));dc();var t=dt(e,0);if(0===(1&t))return Gl(e,Je()),null;var n=sc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Yl(e,r))}if(1===n)throw n=kl,nc(e,0),Jl(e,t),Gl(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hc(e,Pl),Gl(e,Je()),null}function Zl(e,t){var n=yl;yl|=1;try{return e(t)}finally{0===(yl=n)&&(Al=Je()+500,Mi&&ji())}}function ec(e){null!==Fl&&0===Fl.tag&&0===(6&yl)&&dc();var t=yl;yl|=1;var n=vl.transition,r=yt;try{if(vl.transition=null,yt=1,e)return e()}finally{yt=r,vl.transition=n,0===(6&(yl=t))&&ji()}}function tc(){El=Sl.current,Ei(Sl)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==bl)for(n=bl.return;null!==n;){var r=n;switch(Io(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xo(),Ei(Ti),Ei(ki),is();break;case 5:es(r);break;case 4:Xo();break;case 13:case 19:Ei(ts);break;case 10:Gi(r.type._context);break;case 22:case 23:tc()}n=n.return}if(_l=e,bl=e=Sc(e.current,null),wl=El=t,Cl=0,kl=null,Nl=Il=Tl=0,Pl=xl=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ji=null}return e}function rc(e,t){for(;;){var n=bl;try{if(Ki(),os.current=Xs,hs){for(var r=ls.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}hs=!1}if(as=0,us=cs=ls=null,ds=!1,fs=0,gl.current=null,null===n||null===n.return){Cl=1,kl=t,bl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=wl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=da(a);if(null!==p){p.flags&=-257,fa(p,a,l,0,t),1&p.mode&&ha(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ha(s,u,t),oc();break e}c=Error(o(426))}else if(Po&&1&l.mode){var v=da(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),fa(v,a,l,0,t),jo(c);break e}}s=c,4!==Cl&&(Cl=2),null===xl?xl=[s]:xl.push(s),c=na(c,l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,io(l,ca(0,c,t));break e;case 1:s=c;var y=l.type,_=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ll||!Ll.has(_)))){l.flags|=65536,t&=-t,l.lanes|=t,io(l,ua(l,s,t));break e}}l=l.return}while(null!==l)}uc(n)}catch(b){t=b,bl===n&&null!==n&&(bl=n=n.return);continue}break}}function ic(){var e=ml.current;return ml.current=Xs,null===e?Xs:e}function oc(){0!==Cl&&3!==Cl&&2!==Cl||(Cl=4),null===_l||0===(268435455&Tl)&&0===(268435455&Il)||Jl(_l,wl)}function sc(e,t){var n=yl;yl|=2;var r=ic();for(_l===e&&wl===t||nc(e,t);;)try{ac();break}catch(i){rc(e,i)}if(Ki(),yl=n,ml.current=r,null!==bl)throw Error(o(261));return _l=null,wl=0,Cl}function ac(){for(;null!==bl;)cc(bl)}function lc(){for(;null!==bl&&!Ye();)cc(bl)}function cc(e){var t=fl(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?uc(e):bl=t,gl.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ga(n,t,El)))return void(bl=n)}else{if(null!==(n=za(n,t)))return n.flags&=32767,void(bl=n);if(null===e)return Cl=6,void(bl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bl=t);bl=t=e}while(null!==t);0===Cl&&(Cl=5)}function hc(e,t){var n=yt,r=vl.transition;try{vl.transition=null,yt=1,function(e,t,n){do{dc()}while(null!==Fl);if(0!==(6&yl))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===_l&&(bl=_l=null,wl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ml||(Ml=!0,_c(tt,(function(){return dc(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=vl.transition,vl.transition=null;var a=yt;yt=1;var l=yl;yl|=4,gl.current=null,function(e,t){if(hr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wa=t;null!==Wa;)if(e=(t=Wa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wa=e;else for(;null!==Wa;){t=Wa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:zi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(o(163))}}catch(E){pc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Wa=e;break}Wa=t.return}m=Qa,Qa=!1}(e,r),function(e,t){for(Wa=t;null!==Wa;){var n=(t=Wa).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{ol(e,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(C){pc(i,t,C)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wa=n;else for(;null!==Wa;){t=Wa;try{var s=t.flags;if(32&s&&de(t.stateNode,""),512&s){var a=t.alternate;if(null!==a){var l=a.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Rl=Je())}break;case 22:var u=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;e:{i=u;for(var f=null,p=r=n=t;;){if(5===p.tag){if(null===f){f=p;var m=p.stateNode;if(i){var g=m.style;"function"===typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=p.stateNode,y=p.memoizedProps.style,_=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;v.style.display=me("display",_)}}}else if(6===p.tag)null===f&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}if(u&&!d&&0!==(1&n.mode)){Wa=n;for(var b=n.child;null!==b;){for(n=Wa=b;null!==Wa;){var w=(r=Wa).child;switch(r.tag){case 0:case 11:case 14:case 15:Ya(4,r,r.return);break;case 1:Ka(r,r.return);var E=r.stateNode;if("function"===typeof E.componentWillUnmount){var S=r.return;try{E.props=r.memoizedProps,E.state=r.memoizedState,E.componentWillUnmount()}catch(C){pc(r,S,C)}}break;case 5:Ka(r,r.return);break;case 22:if(null!==r.memoizedState){hl(n);continue}}null!==w?(w.return=r,Wa=w):hl(n)}b=b.sibling}}}switch(4102&s){case 2:nl(t),t.flags&=-3;break;case 6:nl(t),t.flags&=-3,sl(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,sl(t.alternate,t);break;case 4:sl(t.alternate,t)}}catch(C){pc(t,t.return,C)}if(null!==(n=t.sibling)){n.return=t.return,Wa=n;break}Wa=t.return}}}(e,r),dr(Xr),Xr=null,e.current=r,ll(r,e,i),$e(),yl=l,yt=a,vl.transition=s}else e.current=r;if(Ml&&(Ml=!1,Fl=e,Ul=i),s=e.pendingLanes,0===s&&(Ll=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gl(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ol)throw Ol=!1,e=Dl,Dl=null,e;0!==(1&Ul)&&0!==e.tag&&dc(),s=e.pendingLanes,0!==(1&s)?e===Vl?jl++:(jl=0,Vl=e):jl=0,ji()}(e,t,n)}finally{vl.transition=r,yt=n}return null}function dc(){if(null!==Fl){var e=_t(Ul),t=vl.transition,n=yt;try{if(vl.transition=null,yt=16>e?16:e,null===Fl)var r=!1;else{if(e=Fl,Fl=null,Ul=0,0!==(6&yl))throw Error(o(331));var i=yl;for(yl|=4,Wa=e.current;null!==Wa;){var s=Wa,a=s.child;if(0!==(16&Wa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Wa=u;null!==Wa;){var h=Wa;switch(h.tag){case 0:case 11:case 15:Ya(8,h,s)}var d=h.child;if(null!==d)d.return=h,Wa=d;else for(;null!==Wa;){var f=(h=Wa).sibling,p=h.return;if(Za(h),h===u){Wa=null;break}if(null!==f){f.return=p,Wa=f;break}Wa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Wa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Wa=a;else e:for(;null!==Wa;){if(0!==(2048&(s=Wa).flags))switch(s.tag){case 0:case 11:case 15:Ya(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Wa=y;break e}Wa=s.return}}var _=e.current;for(Wa=_;null!==Wa;){var b=(a=Wa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Wa=b;else e:for(a=_;null!==Wa;){if(0!==(2048&(l=Wa).flags))try{switch(l.tag){case 0:case 11:case 15:$a(9,l)}}catch(E){pc(l,l.return,E)}if(l===a){Wa=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Wa=w;break e}Wa=l.return}}if(yl=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{yt=n,vl.transition=t}}return!1}function fc(e,t,n){no(e,t=ca(0,t=na(n,t),1)),t=ql(),null!==(e=Kl(e,1))&&(gt(e,1,t),Gl(e,t))}function pc(e,t,n){if(3===e.tag)fc(e,e,n);else for(;null!==t;){if(3===t.tag){fc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ll||!Ll.has(r))){no(t,e=ua(t,e=na(n,e),1)),e=ql(),null!==(t=Kl(t,1))&&(gt(t,1,e),Gl(t,e));break}}t=t.return}}function mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ql(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(wl&n)===n&&(4===Cl||3===Cl&&(130023424&wl)===wl&&500>Je()-Rl?nc(e,0):Nl|=n),Gl(e,t)}function gc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ql();null!==(e=Kl(e,t))&&(gt(e,t,n),Gl(e,n))}function vc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),gc(e,n)}function _c(e,t){return Ge(e,t)}function bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wc(e,t,n,r){return new bc(e,t,n,r)}function Ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Sc(e,t){var n=e.alternate;return null===n?((n=wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Ec(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return kc(n.children,i,s,t);case C:a=8,i|=8;break;case k:return(e=wc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case x:return(e=wc(13,n,t,i)).elementType=x,e.lanes=s,e;case P:return(e=wc(19,n,t,i)).elementType=P,e.lanes=s,e;case O:return Tc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case N:a=11;break e;case R:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=wc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function kc(e,t,n,r){return(e=wc(7,e,r,t)).lanes=n,e}function Tc(e,t,n,r){return(e=wc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ic(e,t,n){return(e=wc(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=wc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pc(e,t,n,r,i,o,s,a,l){return e=new xc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=wc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(o),e}function Rc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(xi(n))return Ai(e,n,t)}return t}function Ac(e,t,n,r,i,o,s,a,l){return(e=Pc(n,r,!0,e,0,o,0,a,l)).context=Rc(null),n=e.current,(o=to(r=ql(),i=Hl(n))).callback=void 0!==t&&null!==t?t:null,no(n,o),e.current.lanes=i,gt(e,i,r),Gl(e,r),e}function Oc(e,t,n,r){var i=t.current,o=ql(),s=Hl(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=to(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),no(i,t),null!==(e=Wl(i,s,o))&&ro(e,i,s),s}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}fl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ya=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:Na(t),Uo();break;case 5:Zo(t);break;case 1:xi(t.type)&&Oi(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Aa(e,t,n):(Si(ts,1&ts.current),null!==(e=Va(e,t,n))?e.sibling:null);Si(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ja(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Va(e,t,n)}(e,t,n);ya=0!==(131072&e.flags)}else ya=!1,Po&&0!==(1048576&t.flags)&&ko(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ni(t,ki.current);Yi(t,n),i=vs(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(s=!0,Oi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=co,t.stateNode=i,i._reactInternals=t,po(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,Po&&s&&To(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ec(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=zi(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=wa(null,t,r,zi(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,eo(e,t),oo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=xa(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=xa(e,t,r,n,i=Error(o(424)));break e}for(xo=si(t.stateNode.containerInfo.firstChild),No=t,Po=!0,Ro=null,n=Wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Uo(),r===i){t=Va(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&Lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Zr(r,i)?a=null:null!==s&&Zr(r,s)&&(t.flags|=32),Ca(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&Lo(t),null;case 13:return Aa(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ho(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ba(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Si(Bi,r._currentValue),r._currentValue=a,null!==s)if(or(s.value,a)){if(s.children===i.children&&!Ti.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=to(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Qi(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Qi(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yi(t,n),r=r(i=$i(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),wa(e,t,r,i=zi(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,xi(r)?(e=!0,Oi(t)):e=!1,Yi(t,n),ho(t,r,i),po(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return ja(e,t,n);case 22:return Sa(e,t,n)}throw Error(o(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}function jc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Dc(s);a.call(e)}}Oc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Dc(s);o.call(e)}}var s=Ac(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=s,e[hi]=s.current,Vr(8===e.nodeType?e.parentNode:e),ec(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Dc(l);a.call(e)}}var l=Pc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=l,e[hi]=l.current,Vr(8===e.nodeType?e.parentNode:e),ec((function(){Oc(t,l,n,r)})),l}(n,t,e,i,r);return Dc(s)}jc.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Oc(e,t,null,null)},jc.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ec((function(){Oc(null,e,null,null)})),t[hi]=null}},jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),Gl(t,Je()),0===(6&yl)&&(Al=Je()+500,ji()))}break;case 13:var r=ql();ec((function(){return Wl(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Wl(e,134217728,ql()),Mc(e,134217728))},Et=function(e){if(13===e.tag){var t=ql(),n=Hl(e);Wl(e,n,t),Mc(e,n)}},St=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=Zl,xe=ec;var Hc={usingClientEntryPoint:!1,Events:[gi,vi,yi,Te,Ie,Zl]},Wc={findFiberByHostInstance:mi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Kc={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Kc),ot=Gc}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(o(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Pc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Uc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ec(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(o(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Ac(t,null,e,1,null!=n?n:null,i,0,s,a),e[hi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(o(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(o(40));return!!e._reactRootContainer&&(ec((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=Zl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+N(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),x(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+N(a=e[c],c);l+=x(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=x(a=a.value,t,i,u=o+N(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!x());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,k=null,T=-1,I=5,N=-1;function x(){return!(t.unstable_now()-N<I)}function P(){if(null!==k){var e=t.unstable_now();N=e;var n=!0;try{n=k(!0,e)}finally{n?S():(C=!1,k=null)}}else C=!1}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=P,S=function(){A.postMessage(null)}}else S=function(){v(P,0)};function O(e){k=e,C||(C=!0,S())}function D(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,D(w,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d2142cf0.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="recipe-finder:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkrecipe_finder=self.webpackChunkrecipe_finder||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>XA,hasStandardBrowserEnv:()=>ZA,hasStandardBrowserWebWorkerEnv:()=>tO});var t=n(43),r=n.t(t,2),i=n(391);n.p;function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const a="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:c=!1}=r,f=i.history,p=s.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=s.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:t})}function _(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(o({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return e(i,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(a,y),m=e,()=>{i.removeEventListener(a,y),m=null}},createHref:e=>t(i,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=s.Push;let r=h(b.location,e,t);n&&n(r,e),g=v()+1;let o=u(r,g),a=b.createHref(r);try{f.pushState(o,"",a)}catch(jd){if(jd instanceof DOMException&&"DataCloneError"===jd.name)throw jd;i.location.assign(a)}c&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=s.Replace;let r=h(b.location,e,t);n&&n(r,e),g=v();let i=u(r,g),o=b.createHref(r);f.replaceState(i,"",o),c&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=x(r);o=I(i[s],e)}return o}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(l(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=L([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=y(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,b=3,w=2,E=1,S=10,C=-2,k=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=C),t&&(r+=w),n.filter((e=>!k(e))).reduce(((e,t)=>e+(_.test(t)?b:""===t?E:S)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:L([i,c.pathname]),pathnameBase:M(L([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return o}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function x(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(jd){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+jd+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=A(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=o({},e),l(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,c=a?"/":i.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:U(i)}}(i,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],z=(new Set(V),["get",...V]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const q=t.createContext(null);const H=t.createContext(null);const W=t.createContext(null);const K=t.createContext(null);const G=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=t.createContext(null);function Y(){return null!=t.useContext(K)}function $(){return Y()||l(!1),t.useContext(K).location}function J(e){t.useContext(W).static||t.useLayoutEffect(e)}function X(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=le(se.UseNavigateStable),n=ue(ae.UseNavigateStable),r=t.useRef(!1);J((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,B({fromRouteId:n},i)))}),[e,n]);return i}():function(){Y()||l(!1);let e=t.useContext(q),{basename:n,future:r,navigator:i}=t.useContext(W),{matches:o}=t.useContext(G),{pathname:s}=$(),a=JSON.stringify(O(o,r.v7_relativeSplatPath)),c=t.useRef(!1);return J((()=>{c.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let o=D(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:L([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e])}()}function Z(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(W),{matches:o}=t.useContext(G),{pathname:s}=$(),a=JSON.stringify(O(o,i.v7_relativeSplatPath));return t.useMemo((()=>D(e,JSON.parse(a),s,"path"===r)),[e,a,s,r])}function ee(e,n,r,i){Y()||l(!1);let{navigator:o}=t.useContext(W),{matches:a}=t.useContext(G),c=a[a.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,p=$();if(n){var m;let e="string"===typeof n?f(n):n;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||l(!1),d=e}else d=p;let v=d.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=g(e,{pathname:y});let b=oe(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&b?t.createElement(K.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},b):b}function te(){let e=function(){var e;let n=t.useContext(Q),r=ce(ae.UseRouteError),i=ue(ae.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const ne=t.createElement(te,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(q);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(G.Provider,{value:n},i)}function oe(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,c=null==(o=r)?void 0:o.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,l=!1,d=null,f=null;var p;r&&(s=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||ne,u&&(h<0&&0===o?(p="route-fallback",!1||he[p]||(he[p]=!0),l=!0,f=null):h===o&&(l=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?d:l?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ie,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(re,{location:r.location,revalidation:r.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ae||{});function le(e){let n=t.useContext(q);return n||l(!1),n}function ce(e){let n=t.useContext(H);return n||l(!1),n}function ue(e){let n=function(e){let n=t.useContext(G);return n||l(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||l(!1),r.route.id}const he={};r.startTransition;function de(e){let{to:n,replace:r,state:i,relative:o}=e;Y()||l(!1);let{future:s,static:a}=t.useContext(W),{matches:c}=t.useContext(G),{pathname:u}=$(),h=X(),d=D(n,O(c,s.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(f),{replace:r,state:i,relative:o})),[h,f,o,r,i]),null}function fe(e){l(!1)}function pe(e){let{basename:n="/",children:r=null,location:i,navigationType:o=s.Pop,navigator:a,static:c=!1,future:u}=e;Y()&&l(!1);let h=n.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:a,static:c,future:B({v7_relativeSplatPath:!1},u)})),[h,u,a,c]);"string"===typeof i&&(i=f(i));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=i,_=t.useMemo((()=>{let e=P(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}}),[h,p,m,g,v,y,o]);return null==_?null:t.createElement(W.Provider,{value:d},t.createElement(K.Provider,{children:r,value:_}))}function me(e){let{children:t,location:n}=e;return ee(ge(t),n)}new Promise((()=>{}));t.Component;function ge(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ge(e.props.children,o));e.type!==fe&&l(!1),e.props.index&&e.props.children&&l(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ge(e.props.children,o)),r.push(s)})),r}const ve=!1,ye=!1,_e="${JSCORE_VERSION}",be=function(e,t){if(!e)throw we(t)},we=function(e){return new Error("Firebase Database ("+_e+") INTERNAL ASSERT FAILED: "+e)},Ee=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ee(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ce;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(e){const t=Ee(e);return Se.encodeByteArray(t,!0)},Te=function(e){return ke(e).replace(/\./g,"")},Ie=function(e){try{return Se.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ne(e){return xe(void 0,e)}function xe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=xe(e[n],t[n]));return e}const Pe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Re=()=>{try{return Pe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ie(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ae=e=>{var t,n;return null===(n=null===(t=Re())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Oe=()=>{var e;return null===(e=Re())||void 0===e?void 0:e.config},De=e=>{var t;return null===(t=Re())||void 0===t?void 0:t["_".concat(e)]};class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Me(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Ue(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function je(){return!0===ve||!0===ye}function Ve(){return!function(){var e;const t=null===(e=Re())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Be extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(He,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Be(n,o,t)}}const He=/\{\$([^}]+)}/g;function We(e){return JSON.parse(e)}function Ke(e){return JSON.stringify(e)}const Ge=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=We(Ie(o[0])||""),n=We(Ie(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Je(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Xe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ze(n)&&Ze(o)){if(!Xe(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ze(e){return null!==e&&"object"===typeof e}function et(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class rt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class it{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ot),void 0===r.error&&(r.error=ot),void 0===r.complete&&(r.complete=ot);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ot(){}function st(e,t){return"".concat(e," failed: ").concat(t," argument ")}const at=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function lt(e){return e&&e._delegate?e._delegate:e}class ct{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ut="[DEFAULT]";class ht{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Le;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ut})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ut?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.component?this.component.multipleInstances?e:ut:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ht(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ft=[];var pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));const mt={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},gt=pt.INFO,vt={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},yt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=vt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class _t{constructor(e){this.name=e,this._logLevel=gt,this._logHandler=yt,this._userLogHandler=null,ft.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?mt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}const bt=(e,t)=>t.some((t=>e instanceof t));let wt,Et;const St=new WeakMap,Ct=new WeakMap,kt=new WeakMap,Tt=new WeakMap,It=new WeakMap;let Nt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ct.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Et||(Et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(At(this),n),Rt(St.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rt(e.apply(At(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(At(this),t,...r);return kt.set(o,t.sort?t.sort():[t]),Rt(o)}}function Pt(e){return"function"===typeof e?xt(e):(e instanceof IDBTransaction&&function(e){if(Ct.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ct.set(e,t)}(e),bt(e,wt||(wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Nt):e)}function Rt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Rt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&St.set(t,e)})).catch((()=>{})),It.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=Pt(e);return t!==e&&(Tt.set(e,t),It.set(t,e)),t}const At=e=>It.get(e);const Ot=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Lt=new Map;function Mt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Lt.get(t))return Lt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Dt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ot.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Lt.set(t,o),o}Nt=(e=>({...e,get:(t,n,r)=>Mt(t,n)||e.get(t,n,r),has:(t,n)=>!!Mt(t,n)||e.has(t,n)}))(Nt);class Ft{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ut="@firebase/app",jt="0.10.2",Vt=new _t("@firebase/app"),zt="@firebase/app-compat",Bt="@firebase/analytics-compat",qt="@firebase/analytics",Ht="@firebase/app-check-compat",Wt="@firebase/app-check",Kt="@firebase/auth",Gt="@firebase/auth-compat",Qt="@firebase/database",Yt="@firebase/database-compat",$t="@firebase/functions",Jt="@firebase/functions-compat",Xt="@firebase/installations",Zt="@firebase/installations-compat",en="@firebase/messaging",tn="@firebase/messaging-compat",nn="@firebase/performance",rn="@firebase/performance-compat",on="@firebase/remote-config",sn="@firebase/remote-config-compat",an="@firebase/storage",ln="@firebase/storage-compat",cn="@firebase/firestore",un="@firebase/firestore-compat",hn="firebase",dn="[DEFAULT]",fn={[Ut]:"fire-core",[zt]:"fire-core-compat",[qt]:"fire-analytics",[Bt]:"fire-analytics-compat",[Wt]:"fire-app-check",[Ht]:"fire-app-check-compat",[Kt]:"fire-auth",[Gt]:"fire-auth-compat",[Qt]:"fire-rtdb",[Yt]:"fire-rtdb-compat",[$t]:"fire-fn",[Jt]:"fire-fn-compat",[Xt]:"fire-iid",[Zt]:"fire-iid-compat",[en]:"fire-fcm",[tn]:"fire-fcm-compat",[nn]:"fire-perf",[rn]:"fire-perf-compat",[on]:"fire-rc",[sn]:"fire-rc-compat",[an]:"fire-gcs",[ln]:"fire-gcs-compat",[cn]:"fire-fst",[un]:"fire-fst-compat","fire-js":"fire-js",[hn]:"fire-js-all"},pn=new Map,mn=new Map,gn=new Map;function vn(e,t){try{e.container.addComponent(t)}catch(n){Vt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yn(e){const t=e.name;if(gn.has(t))return Vt.debug("There were multiple attempts to register component ".concat(t,".")),!1;gn.set(t,e);for(const n of pn.values())vn(n,e);for(const n of mn.values())vn(n,e);return!0}function _n(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bn(e){return void 0!==e.settings}const wn=new qe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class En{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ct("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const Sn="10.11.1";function Cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:dn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wn.create("bad-app-name",{appName:String(i)});if(n||(n=Oe()),!n)throw wn.create("no-options");const o=pn.get(i);if(o){if(Xe(n,o.options)&&Xe(r,o.config))return o;throw wn.create("duplicate-app",{appName:i})}const s=new dt(i);for(const l of gn.values())s.addComponent(l);const a=new En(n,r,s);return pn.set(i,a),a}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;const t=pn.get(e);if(!t&&e===dn&&Oe())return Cn();if(!t)throw wn.create("no-app",{appName:e});return t}function Tn(e,t,n){var r;let i=null!==(r=fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vt.warn(e.join(" "))}yn(new ct("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const In="firebase-heartbeat-database",Nn=1,xn="firebase-heartbeat-store";let Pn=null;function Rn(){return Pn||(Pn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Rt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Rt(s.result),e.oldVersion,e.newVersion,Rt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(In,Nn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xn)}catch(n){console.warn(n)}}}).catch((e=>{throw wn.create("idb-open",{originalErrorMessage:e.message})}))),Pn}async function An(e,t){try{const n=(await Rn()).transaction(xn,"readwrite"),r=n.objectStore(xn);await r.put(t,On(e)),await n.done}catch(n){if(n instanceof Be)Vt.warn(n.message);else{const e=wn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Vt.warn(e.message)}}}function On(e){return"".concat(e.name,"!").concat(e.options.appId)}class Dn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ln();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ln(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Fn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Te(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ln(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ze()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(jd){t(jd)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rn()).transaction(xn),n=await t.objectStore(xn).get(On(e));return await t.done,n}catch(t){if(t instanceof Be)Vt.warn(t.message);else{const e=wn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Vt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return An(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return An(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fn(e){return Te(JSON.stringify({version:2,heartbeats:e})).length}var Un;Un="",yn(new ct("platform-logger",(e=>new Ft(e)),"PRIVATE")),yn(new ct("heartbeat",(e=>new Dn(e)),"PRIVATE")),Tn(Ut,jt,Un),Tn(Ut,jt,"esm2017"),Tn("fire-js","");function jn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Vn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zn=Vn,Bn=new qe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qn=new _t("@firebase/auth");function Hn(e){if(qn.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qn.error("Auth (".concat(Sn,"): ").concat(e),...n)}}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yn(e,...n)}function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yn(e,...n)}function Gn(e,t,n){const r=Object.assign(Object.assign({},zn()),{[t]:n});return new qe("auth","Firebase",r).create(t,{appName:e.name})}function Qn(e){return Gn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Bn.create(e,...n)}function $n(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yn(t,...r)}}function Jn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hn(t),new Error(t)}function Xn(e,t){e||Jn(t)}function Zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function er(){return"http:"===tr()||"https:"===tr()}function tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function nr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(er()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class rr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xn(t>e,"Short delay should be less than long delay!"),this.isMobile=Fe()||Ue()}get(){return nr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ir(e,t){Xn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class or{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ar=new rr(3e4,6e4);function lr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function cr(e,t,n,r){return ur(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=et(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),or.fetch()(dr(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ur(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},sr),t);try{const t=new pr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw mr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw mr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw mr(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Gn(e,a,s);Wn(e,a)}}catch(i){if(i instanceof Be)throw i;Wn(e,"network-request-failed",{message:String(i)})}}async function hr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await cr(e,t,n,r,i);return"mfaPendingCredential"in o&&Wn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function dr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ir(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function fr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Kn(this.auth,"network-request-failed"))),ar.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(e,t,r);return i.customData._tokenResponse=n,i}function gr(e){return void 0!==e&&void 0!==e.enterprise}class vr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function yr(e,t){return cr(e,"GET","/v2/recaptchaConfig",lr(e,t))}async function _r(e,t){return cr(e,"POST","/v1/accounts:lookup",t)}function br(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function wr(e){return 1e3*Number(e)}function Er(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Hn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ie(n);return e?JSON.parse(e):(Hn("Failed to decode base64 JWT payload"),null)}catch(i){return Hn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Sr(e){const t=Er(e);return $n(t,"internal-error"),$n("undefined"!==typeof t.exp,"internal-error"),$n("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Cr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Be&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class kr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Tr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ir(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Cr(e,_r(n,{idToken:r}));$n(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Nr(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tr(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Nr(e){return e.map((e=>{var{providerId:t}=e,n=jn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$n(e.idToken,"internal-error"),$n("undefined"!==typeof e.idToken,"internal-error"),$n("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Sr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$n(0!==e.length,"internal-error");const t=Sr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?($n(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ur(e,{},(async()=>{const n=et({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=dr(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",or.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new xr;return n&&($n("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&($n("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&($n("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xr,this.toJSON())}_performRefresh(){return Jn("not implemented")}}function Pr(e,t){$n("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Rr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=jn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Cr(this,this.stsTokenManager.getToken(this.auth,e));return $n(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=lt(e),r=await n.getIdToken(t),i=Er(r);$n(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:br(wr(i.auth_time)),issuedAtTime:br(wr(i.iat)),expirationTime:br(wr(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=lt(e);await Ir(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&($n(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$n(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ir(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Qn(this.auth));const e=await this.getIdToken();return await Cr(this,async function(e,t){return cr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:E}=t;$n(y&&E,e,"internal-error");const S=xr.fromJSON(this.name,E);$n("string"===typeof y,e,"internal-error"),Pr(u,e.name),Pr(h,e.name),$n("boolean"===typeof _,e,"internal-error"),$n("boolean"===typeof b,e,"internal-error"),Pr(d,e.name),Pr(f,e.name),Pr(p,e.name),Pr(m,e.name),Pr(g,e.name),Pr(v,e.name);const C=new Rr({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xr;r.updateFromServerResponse(t);const i=new Rr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ir(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];$n(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Nr(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new xr;s.updateFromIdToken(n);const a=new Rr({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Tr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Ar=new Map;function Or(e){Xn(e instanceof Function,"Expected a class definition");let t=Ar.get(e);return t?(Xn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ar.set(e,t),t)}class Dr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dr.type="NONE";const Lr=Dr;function Mr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Fr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Mr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Mr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Fr(Or(Lr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Or(Lr);const o=Mr(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Rr._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Fr(i,e,n)):new Fr(i,e,n)}}function Ur(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Br(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hr(t))return"Blackberry";if(Wr(t))return"Webos";if(Vr(t))return"Safari";if((t.includes("chrome/")||zr(t))&&!t.includes("edge/"))return"Chrome";if(qr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/firefox\//i.test(e)}function Vr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/crios\//i.test(e)}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iemobile/i.test(e)}function qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/android/i.test(e)}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/blackberry/i.test(e)}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/webos/i.test(e)}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Gr(){return function(){const e=Me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return Kr(e)||qr(e)||Wr(e)||Hr(e)||/windows phone/i.test(e)||Br(e)}function Yr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ur(Me());break;case"Worker":t="".concat(Ur(Me()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sn,"/").concat(r)}class $r{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Jr{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Xr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new $r(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await _r(this,{idToken:e}),n=await Rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $n(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ir(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Qn(this));const t=e?lt(e):null;return t&&$n(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&$n(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return bn(this.app)?Promise.reject(Qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Qn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Or(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return cr(e,"GET","/v2/passwordPolicy",lr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Jr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return cr(e,"POST","/v2/accounts:revokeToken",lr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;$n(t,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if($n(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $n(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(qn.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qn.warn("Auth (".concat(Sn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Zr(e){return lt(e)}class ei{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new it(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return $n(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ti={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ni(e){return ti.loadJS(e)}function ri(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ii{constructor(e){this.type="recaptcha-enterprise",this.auth=Zr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;gr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{yr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new vr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&gr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ti.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ni(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function oi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ii(e);let o;try{o=await i.verify(n)}catch(jd){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function si(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await oi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await oi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function ai(e,t,n){const r=Zr(e);$n(r._canInitEmulator,r,"emulator-config-failed"),$n(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=li(t),{host:s,port:a}=function(e){const t=li(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ci(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ci(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function li(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ci(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ui{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,t){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function hi(e,t){return cr(e,"POST","/v1/accounts:signUp",t)}async function di(e,t){return hr(e,"POST","/v1/accounts:signInWithPassword",lr(e,t))}async function fi(e,t){return cr(e,"POST","/v1/accounts:sendOobCode",lr(e,t))}class pi extends ui{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pi(e,t,"password")}static _fromEmailAndCode(e,t){return new pi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return si(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",di);case"emailLink":return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithEmailLink",lr(e,t))}(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return si(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hi);case"emailLink":return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithEmailLink",lr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mi(e,t){return hr(e,"POST","/v1/accounts:signInWithIdp",lr(e,t))}class gi extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=jn(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new gi(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return mi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,mi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=et(t)}return e}}const vi={USER_NOT_FOUND:"user-not-found"};class yi extends ui{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new yi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new yi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithPhoneNumber",lr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await hr(e,"POST","/v1/accounts:signInWithPhoneNumber",lr(e,t));if(n.temporaryProof)throw mr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithPhoneNumber",lr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),vi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new yi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class _i{constructor(e){var t,n,r,i,o,s;const a=tt(nt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);$n(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=tt(nt(e)).link,n=t?tt(nt(t)).deep_link_id:null,r=tt(nt(e)).deep_link_id;return(r?tt(nt(r)).link:null)||r||n||t||e}(e);try{return new _i(t)}catch(n){return null}}}class bi{constructor(){this.providerId=bi.PROVIDER_ID}static credential(e,t){return pi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=_i.parseLink(t);return $n(n,"argument-error"),pi._fromEmailAndCode(e,n.code,n.tenantId)}}bi.PROVIDER_ID="password",bi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ei extends wi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Si extends Ei{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Si.credential(t.oauthAccessToken)}catch(n){return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com",Si.PROVIDER_ID="facebook.com";class Ci extends Ei{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ci.credential(n,r)}catch(i){return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com",Ci.PROVIDER_ID="google.com";class ki extends Ei{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ki.credential(t.oauthAccessToken)}catch(n){return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com",ki.PROVIDER_ID="github.com";class Ti extends Ei{constructor(){super("twitter.com")}static credential(e,t){return gi._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ti.credential(n,r)}catch(i){return null}}}async function Ii(e,t){return hr(e,"POST","/v1/accounts:signUp",lr(e,t))}Ti.TWITTER_SIGN_IN_METHOD="twitter.com",Ti.PROVIDER_ID="twitter.com";class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Rr._fromIdTokenResponse(e,n,r),o=xi(n);return new Ni({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=xi(n);return new Ni({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function xi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Pi extends Be{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Pi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Pi(e,t,n,r)}}function Ri(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Pi._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Cr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ni._forOperation(e,"link",r)}async function Oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(bn(r.app))return Promise.reject(Qn(r));const i="reauthenticate";try{const o=await Cr(e,Ri(r,i,t,e),n);$n(o.idToken,r,"internal-error");const s=Er(o.idToken);$n(s,r,"internal-error");const{sub:a}=s;return $n(e.uid===a,r,"user-mismatch"),Ni._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Wn(r,"user-mismatch"),o}}async function Di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bn(e.app))return Promise.reject(Qn(e));const r="signIn",i=await Ri(e,r,t),o=await Ni._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Li(e,t){return Di(Zr(e),t)}function Mi(e,t,n){var r;$n((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),$n("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($n(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&($n(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Fi(e){const t=Zr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ui(e,t){const n=lt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Mi(n.auth,r,t);const{email:i}=await async function(e,t){return fi(e,t)}(n.auth,r);i!==e.email&&await e.reload()}function ji(e,t,n,r){return lt(e).onAuthStateChanged(t,n,r)}new WeakMap;const Vi="__sak";class zi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vi,"1"),this.storage.removeItem(Vi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Bi extends zi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Me();return Vr(e)||Kr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Qr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Gr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bi.type="LOCAL";const qi=Bi;class Hi extends zi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hi.type="SESSION";const Wi=Hi;class Ki{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ki(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ki.receivers=[];class Qi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Gi("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Yi(){return window}function $i(){return"undefined"!==typeof Yi().WorkerGlobalScope&&"function"===typeof Yi().importScripts}const Ji="firebaseLocalStorageDb",Xi="firebaseLocalStorage",Zi="fbase_key";class eo{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function to(e,t){return e.transaction([Xi],t?"readwrite":"readonly").objectStore(Xi)}function no(){const e=indexedDB.open(Ji,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Xi,{keyPath:Zi})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Xi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ji);return new eo(e).toPromise()}(),t(await no()))}))}))}async function ro(e,t,n){const r=to(e,!0).put({[Zi]:t,value:n});return new eo(r).toPromise()}function io(e,t){const n=to(e,!0).delete(t);return new eo(n).toPromise()}class oo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await no()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $i()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ki._getInstance($i()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Qi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await no();return await ro(e,Vi,"1"),await io(e,Vi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ro(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=to(e,!1).get(t),r=await new eo(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>io(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=to(e,!1).getAll();return new eo(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}oo.type="LOCAL";const so=oo;ri("rcb"),new rr(3e4,6e4);const ao="recaptcha";async function lo(e,t,n){var r;const i=await n.verify();try{let o;if($n("string"===typeof i,e,"argument-error"),$n(n.type===ao,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){$n("enroll"===t.type,e,"internal-error");const n=await function(e,t){return cr(e,"POST","/v2/accounts/mfaEnrollment:start",lr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{$n("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;$n(n,e,"missing-multi-factor-info");const s=await function(e,t){return cr(e,"POST","/v2/accounts/mfaSignIn:start",lr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return cr(e,"POST","/v1/accounts:sendVerificationCode",lr(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class co{constructor(e){this.providerId=co.PROVIDER_ID,this.auth=Zr(e)}verifyPhoneNumber(e,t){return lo(this.auth,e,lt(t))}static credential(e,t){return yi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return co.credentialFromTaggedObject(t)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?yi._fromTokenResponse(n,r):null}}function uo(e,t){return t?Or(t):($n(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}co.PROVIDER_ID="phone",co.PHONE_SIGN_IN_METHOD="phone";class ho extends ui{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fo(e){return Di(e.auth,new ho(e),e.bypassAuthState)}function po(e){const{auth:t,user:n}=e;return $n(n,t,"internal-error"),Oi(n,new ho(e),e.bypassAuthState)}async function mo(e){const{auth:t,user:n}=e;return $n(n,t,"internal-error"),Ai(n,new ho(e),e.bypassAuthState)}class go{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fo;case"linkViaPopup":case"linkViaRedirect":return mo;case"reauthViaPopup":case"reauthViaRedirect":return po;default:Wn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vo=new rr(2e3,1e4);class yo extends go{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $n(e,this.auth,"internal-error"),e}async onExecution(){Xn(1===this.filter.length,"Popup operations only handle one event");const e=Gi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Kn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,vo.get())};e()}}yo.currentPopupAction=null;const _o="pendingRedirect",bo=new Map;class wo extends go{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=bo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Co(t),r=So(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}bo.set(this.auth._key(),e)}return this.bypassAuthState||bo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Eo(e,t){bo.set(e._key(),t)}function So(e){return Or(e._redirectPersistence)}function Co(e){return Mr(_o,e.config.apiKey,e.name)}async function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bn(e.app))return Promise.reject(Qn(e));const r=Zr(e),i=uo(r,t),o=new wo(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class To{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return No(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!No(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Io(e))}saveEventToCache(e){this.cachedEventUids.add(Io(e)),this.lastProcessedEventTime=Date.now()}}function Io(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function No(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const xo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Po=/^https?/;async function Ro(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return cr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ao(r))return}catch(n){}Wn(e,"unauthorized-domain")}function Ao(e){const t=Zn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Po.test(n))return!1;if(xo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Oo=new rr(3e4,6e4);function Do(){const e=Yi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Lo(e){return new Promise(((t,n)=>{var r,i,o;function s(){Do(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Do(),n(Kn(e,"network-request-failed"))},timeout:Oo.get()})}if(null===(i=null===(r=Yi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Yi().gapi)||void 0===o?void 0:o.load)){const t=ri("iframefcb");return Yi()[t]=()=>{gapi.load?s():n(Kn(e,"network-request-failed"))},ni("".concat(ti.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Mo=null,e}))}let Mo=null;const Fo=new rr(5e3,15e3),Uo="__/auth/iframe",jo="emulator/auth/iframe",Vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bo(e){const t=e.config;$n(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ir(t,jo):"https://".concat(e.config.authDomain,"/").concat(Uo),r={apiKey:t.apiKey,appName:e.name,v:Sn},i=zo.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(et(r).slice(1))}async function qo(e){const t=await function(e){return Mo=Mo||Lo(e),Mo}(e),n=Yi().gapi;return $n(n,e,"internal-error"),t.open({where:document.body,url:Bo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Kn(e,"network-request-failed"),o=Yi().setTimeout((()=>{r(i)}),Fo.get());function s(){Yi().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ko(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ho),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Me().toLowerCase();n&&(a=zr(c)?"_blank":n),jr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Kr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Wo(null);const h=window.open(t||"",a,u);$n(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Wo(h)}const Go="__/auth/handler",Qo="emulator/auth/handler",Yo=encodeURIComponent("fac");async function $o(e,t,n,r,i,o){$n(e.config.authDomain,e,"auth-domain-config-required"),$n(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sn,eventId:i};if(t instanceof wi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",$e(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Ei){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Yo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Go);return ir(t,Qo)}(e),"?").concat(et(a).slice(1)).concat(c)}const Jo="webStorageSupport";const Xo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wi,this._completeRedirectFn=ko,this._overrideRedirectResult=Eo}async _openPopup(e,t,n,r){var i;Xn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ko(e,await $o(e,t,n,Zn(),r),Gi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Yi().location.href=e}(await $o(e,t,n,Zn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Xn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await qo(e),n=new To(e);return t.register("authEvent",(t=>{$n(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jo,{type:Jo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Jo];void 0!==i&&t(!!i),Wn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ro(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qr()||Vr()||Kr()}};var Zo="@firebase/auth",es="1.7.2";class ts{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$n(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ns=De("authIdTokenMaxAge")||300;let rs=null;function is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn();const t=_n(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=_n(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Xe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Wn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Xo,persistence:[so,qi,Wi]}),r=De("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ns)return;const r=null===t||void 0===t?void 0:t.token;rs!==r&&(rs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){lt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){lt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Ae("auth");return o&&ai(n,"http://".concat(o)),n}var os;function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(this,arguments)}function as(e,t){return as=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},as(e,t)}function ls(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,as(e,t)}!function(e){ti=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Kn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),os="Browser",yn(new ct("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;$n(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:os,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yr(os)},c=new Xr(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),yn(new ct("auth-internal",(e=>(e=>new ts(e))(Zr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(Zo,es,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(os)),Tn(Zo,es,"esm2017");const cs=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};const us=Array.isArray;const hs="object"==typeof global&&global&&global.Object===Object&&global;var ds="object"==typeof self&&self&&self.Object===Object&&self;const fs=hs||ds||Function("return this")();const ps=fs.Symbol;var ms=Object.prototype,gs=ms.hasOwnProperty,vs=ms.toString,ys=ps?ps.toStringTag:void 0;const _s=function(e){var t=gs.call(e,ys),n=e[ys];try{e[ys]=void 0;var r=!0}catch(o){}var i=vs.call(e);return r&&(t?e[ys]=n:delete e[ys]),i};var bs=Object.prototype.toString;const ws=function(e){return bs.call(e)};var Es=ps?ps.toStringTag:void 0;const Ss=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Es&&Es in Object(e)?_s(e):ws(e)};const Cs=function(e){return null!=e&&"object"==typeof e};const ks=function(e){return"symbol"==typeof e||Cs(e)&&"[object Symbol]"==Ss(e)};var Ts=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Is=/^\w*$/;const Ns=function(e,t){if(us(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ks(e))||(Is.test(e)||!Ts.test(e)||null!=t&&e in Object(t))};const xs=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Ps=function(e){if(!xs(e))return!1;var t=Ss(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Rs=fs["__core-js_shared__"];var As=function(){var e=/[^.]+$/.exec(Rs&&Rs.keys&&Rs.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const Os=function(e){return!!As&&As in e};var Ds=Function.prototype.toString;const Ls=function(e){if(null!=e){try{return Ds.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var Ms=/^\[object .+?Constructor\]$/,Fs=Function.prototype,Us=Object.prototype,js=Fs.toString,Vs=Us.hasOwnProperty,zs=RegExp("^"+js.call(Vs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Bs=function(e){return!(!xs(e)||Os(e))&&(Ps(e)?zs:Ms).test(Ls(e))};const qs=function(e,t){return null==e?void 0:e[t]};const Hs=function(e,t){var n=qs(e,t);return Bs(n)?n:void 0};const Ws=Hs(Object,"create");const Ks=function(){this.__data__=Ws?Ws(null):{},this.size=0};const Gs=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Qs=Object.prototype.hasOwnProperty;const Ys=function(e){var t=this.__data__;if(Ws){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Qs.call(t,e)?t[e]:void 0};var $s=Object.prototype.hasOwnProperty;const Js=function(e){var t=this.__data__;return Ws?void 0!==t[e]:$s.call(t,e)};const Xs=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ws&&void 0===t?"__lodash_hash_undefined__":t,this};function Zs(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zs.prototype.clear=Ks,Zs.prototype.delete=Gs,Zs.prototype.get=Ys,Zs.prototype.has=Js,Zs.prototype.set=Xs;const ea=Zs;const ta=function(){this.__data__=[],this.size=0};const na=function(e,t){return e===t||e!==e&&t!==t};const ra=function(e,t){for(var n=e.length;n--;)if(na(e[n][0],t))return n;return-1};var ia=Array.prototype.splice;const oa=function(e){var t=this.__data__,n=ra(t,e);return!(n<0)&&(n==t.length-1?t.pop():ia.call(t,n,1),--this.size,!0)};const sa=function(e){var t=this.__data__,n=ra(t,e);return n<0?void 0:t[n][1]};const aa=function(e){return ra(this.__data__,e)>-1};const la=function(e,t){var n=this.__data__,r=ra(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ca(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ca.prototype.clear=ta,ca.prototype.delete=oa,ca.prototype.get=sa,ca.prototype.has=aa,ca.prototype.set=la;const ua=ca;const ha=Hs(fs,"Map");const da=function(){this.size=0,this.__data__={hash:new ea,map:new(ha||ua),string:new ea}};const fa=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const pa=function(e,t){var n=e.__data__;return fa(t)?n["string"==typeof t?"string":"hash"]:n.map};const ma=function(e){var t=pa(this,e).delete(e);return this.size-=t?1:0,t};const ga=function(e){return pa(this,e).get(e)};const va=function(e){return pa(this,e).has(e)};const ya=function(e,t){var n=pa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_a.prototype.clear=da,_a.prototype.delete=ma,_a.prototype.get=ga,_a.prototype.has=va,_a.prototype.set=ya;const ba=_a;function wa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(wa.Cache||ba),n}wa.Cache=ba;const Ea=wa;const Sa=function(e){var t=Ea(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t};var Ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ka=/\\(\\)?/g;const Ta=Sa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ca,(function(e,n,r,i){t.push(r?i.replace(ka,"$1"):n||e)})),t}));const Ia=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Na=ps?ps.prototype:void 0,xa=Na?Na.toString:void 0;const Pa=function e(t){if("string"==typeof t)return t;if(us(t))return Ia(t,e)+"";if(ks(t))return xa?xa.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Ra=function(e){return null==e?"":Pa(e)};const Aa=function(e,t){return us(e)?e:Ns(e,t)?[e]:Ta(Ra(e))};const Oa=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const Da=function(e){if("string"==typeof e||ks(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const La=function(e,t){for(var n=0,r=(t=Aa(t,e)).length;null!=e&&n<r;)e=e[Da(t[n++])];return n&&n==r?e:void 0};const Ma=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const Fa=function(e,t){return t.length<2?e:La(e,Ma(t,0,-1))};const Ua=function(e,t,n){t=Aa(t,e);var r=null==(e=Fa(e,t))?e:e[Da(Oa(t))];return null==r?void 0:cs(r,e,n)};const ja=function(e){return e};var Va=Math.max;const za=function(e,t,n){return t=Va(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Va(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),cs(e,this,a)}};const Ba=function(e){return function(){return e}};const qa=function(){try{var e=Hs(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const Ha=qa?function(e,t){return qa(e,"toString",{configurable:!0,enumerable:!1,value:Ba(t),writable:!0})}:ja;var Wa=Date.now;const Ka=function(e){var t=0,n=0;return function(){var r=Wa(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const Ga=Ka(Ha);const Qa=function(e,t){return Ga(za(e,t,ja),e+"")};const Ya=Qa(Ua);const $a=function(e){return null==e};var Ja=n(904),Xa=n(950),Za=n.t(Xa,2),el=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)};var tl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}ls(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Xa.findDOMNode(this);this.prevNode=e,el(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=Xa.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,el(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&el(this.props.innerRef,t)},n.componentWillUnmount=function(){el(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(t.Component),nl=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;el(r.ref,e),el(i,e),t.currentNode=e},t}ls(n,e);var r=n.prototype;return r.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&el(this.props.innerRef,this.currentNode)},r.componentWillUnmount=function(){delete this.currentNode},r.render=function(){var e=this.props.children;return t.cloneElement(e,{ref:this.handleRefOverride})},n}(t.Component),rl=["children","innerRef"],il=function(e){var n=e.children,r=e.innerRef,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,rl),o=t.Children.only(n),s=Ja.isForwardRef(o)?nl:tl,a=o&&i&&Object.keys(i).length>0?t.cloneElement(o,i):o;return t.createElement(s,{innerRef:r},a)};function ol(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ol(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const sl=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ol(e))&&(r&&(r+=" "),r+=t);return r};const al=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const ll=function(){this.__data__=new ua,this.size=0};const cl=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const ul=function(e){return this.__data__.get(e)};const hl=function(e){return this.__data__.has(e)};const dl=function(e,t){var n=this.__data__;if(n instanceof ua){var r=n.__data__;if(!ha||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ba(r)}return n.set(e,t),this.size=n.size,this};function fl(e){var t=this.__data__=new ua(e);this.size=t.size}fl.prototype.clear=ll,fl.prototype.delete=cl,fl.prototype.get=ul,fl.prototype.has=hl,fl.prototype.set=dl;const pl=fl;const ml=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const gl=function(e){return this.__data__.has(e)};function vl(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ba;++t<n;)this.add(e[t])}vl.prototype.add=vl.prototype.push=ml,vl.prototype.has=gl;const yl=vl;const _l=function(e,t){return e.has(t)};const bl=function(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new yl:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=s?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!al(t,(function(e,t){if(!_l(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d};const wl=fs.Uint8Array;const El=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const Sl=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Cl=ps?ps.prototype:void 0,kl=Cl?Cl.valueOf:void 0;const Tl=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new wl(e),new wl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return na(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=El;case"[object Set]":var l=1&r;if(a||(a=Sl),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=bl(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(kl)return kl.call(e)==kl.call(t)}return!1};const Il=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const Nl=function(e,t,n){var r=t(e);return us(e)?r:Il(r,n(e))};const xl=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};const Pl=function(){return[]};var Rl=Object.prototype.propertyIsEnumerable,Al=Object.getOwnPropertySymbols;const Ol=Al?function(e){return null==e?[]:(e=Object(e),xl(Al(e),(function(t){return Rl.call(e,t)})))}:Pl;const Dl=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const Ll=function(e){return Cs(e)&&"[object Arguments]"==Ss(e)};var Ml=Object.prototype,Fl=Ml.hasOwnProperty,Ul=Ml.propertyIsEnumerable;const jl=Ll(function(){return arguments}())?Ll:function(e){return Cs(e)&&Fl.call(e,"callee")&&!Ul.call(e,"callee")};const Vl=function(){return!1};var zl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bl=zl&&"object"==typeof module&&module&&!module.nodeType&&module,ql=Bl&&Bl.exports===zl?fs.Buffer:void 0;const Hl=(ql?ql.isBuffer:void 0)||Vl;var Wl=/^(?:0|[1-9]\d*)$/;const Kl=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Wl.test(e))&&e>-1&&e%1==0&&e<t};const Gl=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Ql={};Ql["[object Float32Array]"]=Ql["[object Float64Array]"]=Ql["[object Int8Array]"]=Ql["[object Int16Array]"]=Ql["[object Int32Array]"]=Ql["[object Uint8Array]"]=Ql["[object Uint8ClampedArray]"]=Ql["[object Uint16Array]"]=Ql["[object Uint32Array]"]=!0,Ql["[object Arguments]"]=Ql["[object Array]"]=Ql["[object ArrayBuffer]"]=Ql["[object Boolean]"]=Ql["[object DataView]"]=Ql["[object Date]"]=Ql["[object Error]"]=Ql["[object Function]"]=Ql["[object Map]"]=Ql["[object Number]"]=Ql["[object Object]"]=Ql["[object RegExp]"]=Ql["[object Set]"]=Ql["[object String]"]=Ql["[object WeakMap]"]=!1;const Yl=function(e){return Cs(e)&&Gl(e.length)&&!!Ql[Ss(e)]};const $l=function(e){return function(t){return e(t)}};var Jl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Xl=Jl&&"object"==typeof module&&module&&!module.nodeType&&module,Zl=Xl&&Xl.exports===Jl&&hs.process,ec=function(){try{var e=Xl&&Xl.require&&Xl.require("util").types;return e||Zl&&Zl.binding&&Zl.binding("util")}catch(t){}}();var tc=ec&&ec.isTypedArray;const nc=tc?$l(tc):Yl;var rc=Object.prototype.hasOwnProperty;const ic=function(e,t){var n=us(e),r=!n&&jl(e),i=!n&&!r&&Hl(e),o=!n&&!r&&!i&&nc(e),s=n||r||i||o,a=s?Dl(e.length,String):[],l=a.length;for(var c in e)!t&&!rc.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Kl(c,l))||a.push(c);return a};var oc=Object.prototype;const sc=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||oc)};const ac=function(e,t){return function(n){return e(t(n))}};const lc=ac(Object.keys,Object);var cc=Object.prototype.hasOwnProperty;const uc=function(e){if(!sc(e))return lc(e);var t=[];for(var n in Object(e))cc.call(e,n)&&"constructor"!=n&&t.push(n);return t};const hc=function(e){return null!=e&&Gl(e.length)&&!Ps(e)};const dc=function(e){return hc(e)?ic(e):uc(e)};const fc=function(e){return Nl(e,dc,Ol)};var pc=Object.prototype.hasOwnProperty;const mc=function(e,t,n,r,i,o){var s=1&n,a=fc(e),l=a.length;if(l!=fc(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:pc.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,_=t.constructor;y==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(f=!1)}return o.delete(e),o.delete(t),f};const gc=Hs(fs,"DataView");const vc=Hs(fs,"Promise");const yc=Hs(fs,"Set");const _c=Hs(fs,"WeakMap");var bc="[object Map]",wc="[object Promise]",Ec="[object Set]",Sc="[object WeakMap]",Cc="[object DataView]",kc=Ls(gc),Tc=Ls(ha),Ic=Ls(vc),Nc=Ls(yc),xc=Ls(_c),Pc=Ss;(gc&&Pc(new gc(new ArrayBuffer(1)))!=Cc||ha&&Pc(new ha)!=bc||vc&&Pc(vc.resolve())!=wc||yc&&Pc(new yc)!=Ec||_c&&Pc(new _c)!=Sc)&&(Pc=function(e){var t=Ss(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ls(n):"";if(r)switch(r){case kc:return Cc;case Tc:return bc;case Ic:return wc;case Nc:return Ec;case xc:return Sc}return t});const Rc=Pc;var Ac="[object Arguments]",Oc="[object Array]",Dc="[object Object]",Lc=Object.prototype.hasOwnProperty;const Mc=function(e,t,n,r,i,o){var s=us(e),a=us(t),l=s?Oc:Rc(e),c=a?Oc:Rc(t),u=(l=l==Ac?Dc:l)==Dc,h=(c=c==Ac?Dc:c)==Dc,d=l==c;if(d&&Hl(e)){if(!Hl(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new pl),s||nc(e)?bl(e,t,n,r,i,o):Tl(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&Lc.call(e,"__wrapped__"),p=h&&Lc.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new pl),i(m,g,n,r,o)}}return!!d&&(o||(o=new pl),mc(e,t,n,r,i,o))};const Fc=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Cs(t)&&!Cs(n)?t!==t&&n!==n:Mc(t,n,r,i,e,o))};const Uc=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new pl;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?Fc(u,c,3,r,h):d))return!1}}return!0};const jc=function(e){return e===e&&!xs(e)};const Vc=function(e){for(var t=dc(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,jc(i)]}return t};const zc=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const Bc=function(e){var t=Vc(e);return 1==t.length&&t[0][2]?zc(t[0][0],t[0][1]):function(n){return n===e||Uc(n,e,t)}};const qc=function(e,t,n){var r=null==e?void 0:La(e,t);return void 0===r?n:r};const Hc=function(e,t){return null!=e&&t in Object(e)};const Wc=function(e,t,n){for(var r=-1,i=(t=Aa(t,e)).length,o=!1;++r<i;){var s=Da(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Gl(i)&&Kl(s,i)&&(us(e)||jl(e))};const Kc=function(e,t){return null!=e&&Wc(e,t,Hc)};const Gc=function(e,t){return Ns(e)&&jc(t)?zc(Da(e),t):function(n){var r=qc(n,e);return void 0===r&&r===t?Kc(n,e):Fc(t,r,3)}};const Qc=function(e){return function(t){return null==t?void 0:t[e]}};const Yc=function(e){return function(t){return La(t,e)}};const $c=function(e){return Ns(e)?Qc(Da(e)):Yc(e)};const Jc=function(e){return"function"==typeof e?e:null==e?ja:"object"==typeof e?us(e)?Gc(e[0],e[1]):Bc(e):$c(e)};const Xc=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}();const Zc=function(e,t){return function(n,r){if(null==n)return n;if(!hc(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}};const eu=Zc((function(e,t){return e&&Xc(e,t,dc)}));const tu=function(e,t){var n;return eu(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};const nu=function(e,t,n){if(!xs(n))return!1;var r=typeof t;return!!("number"==r?hc(n)&&Kl(t,n.length):"string"==r&&t in n)&&na(n[t],e)};const ru=function(e,t,n){var r=us(e)?al:tu;return n&&nu(e,t,n)&&(t=void 0),r(e,Jc(t,3))};var iu=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length},ou={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function su(e){var t=typeof e;return"string"===t||"number"===t?ou[e]||e:""}var au=function(e,t){return e&&t},lu=function(e,t){return e&&!0!==e&&e+" "+t},cu=function(e,t){return e&&(!0===e?t:e+" "+t)},uu=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},hu=function(e){return"justified"===e?"justified":lu(e,"aligned")},du=function(e){return lu(e,"aligned")},fu=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?su(e):su(e)+" "+t};const pu=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};const mu=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var o=n();if(o)return o}return t.href?"a":i.as||"div"};const gu=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const vu=function(e){return e!==e};const yu=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const _u=function(e,t,n){return t===t?yu(e,t,n):gu(e,vu,n)};const bu=function(e,t){return!!(null==e?0:e.length)&&_u(e,t,0)>-1};const wu=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};const Eu=function(){};var Su=yc&&1/Sl(new yc([,-0]))[1]==1/0?function(e){return new yc(e)}:Eu;const Cu=Su;const ku=function(e,t,n){var r=-1,i=bu,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=wu;else if(o>=200){var c=t?null:Cu(e);if(c)return Sl(c);s=!1,i=_l,l=new yl}else l=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a};const Tu=function(e){return e&&e.length?ku(e):[]};const Iu=ac(Object.getPrototypeOf,Object);var Nu=Function.prototype,xu=Object.prototype,Pu=Nu.toString,Ru=xu.hasOwnProperty,Au=Pu.call(Object);const Ou=function(e){if(!Cs(e)||"[object Object]"!=Ss(e))return!1;var t=Iu(e);if(null===t)return!0;var n=Ru.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pu.call(n)==Au};const Du=function(e){return"number"==typeof e||Cs(e)&&"[object Number]"==Ss(e)};const Lu=function(e){return"string"==typeof e||!us(e)&&Cs(e)&&"[object String]"==Ss(e)};const Mu=function(e){return!0===e||!1===e||Cs(e)&&"[object Boolean]"==Ss(e)};function Fu(e,n,r,i){if(void 0===i&&(i={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if($a(r)||Mu(r))return null;var o=Lu(r),s=Du(r),a=Ps(r),l=t.isValidElement(r),c=Ou(r),u=o||s||us(r);if(!a&&!l&&!c&&!u)return null;var h=i.defaultProps,d=void 0===h?{}:h,f=l&&r.props||c&&r||u&&n(r),p=i.overrideProps,m=void 0===p?{}:p;m=Ps(m)?m(ss({},d,f)):m;var g=ss({},d,f,m);if(d.className||m.className||f.className){var v=sl(d.className,m.className,f.className);g.className=Tu(v.split(" ")).join(" ")}if((d.style||m.style||f.style)&&(g.style=ss({},d.style,f.style,m.style)),$a(g.key)){var y=g.childKey,_=i.autoGenerateKey,b=void 0===_||_;$a(y)?b&&(o||s)&&(g.key=r):(g.key="function"===typeof y?y(g):y,delete g.childKey)}return l?t.cloneElement(r,g):"function"===typeof g.children?g.children(e,ss({},g,{children:void 0})):u||c?t.createElement(e,g):a?r(e,g,g.children):void 0}function Uu(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return Fu(e,t,n,r)}}var ju=Uu("input",(function(e){return{type:e}})),Vu=Uu("label",(function(e){return{children:e}}));function zu(e){var n=e.children,r=e.className,i=e.content,o=e.size,s=sl(o,"icons",r),a=pu(zu,e),l=mu(zu,e);return t.createElement(l,ss({},a,{className:s}),iu(n)?i:n)}zu.handledProps=["as","children","className","content","size"],zu.propTypes={},zu.defaultProps={as:"i"};const Bu=zu;var qu=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():Ya(t.props,"onClick",e,t.props)},t}ls(n,e);var r=n.prototype;return r.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return $a(n)?e["aria-hidden"]="true":e["aria-label"]=n,$a(r)||(e["aria-hidden"]=r),e},r.render=function(){var e=this.props,r=e.bordered,i=e.circular,o=e.className,s=e.color,a=e.corner,l=e.disabled,c=e.fitted,u=e.flipped,h=e.inverted,d=e.link,f=e.loading,p=e.name,m=e.rotated,g=e.size,v=sl(s,p,g,au(r,"bordered"),au(i,"circular"),au(l,"disabled"),au(c,"fitted"),au(h,"inverted"),au(d,"link"),au(f,"loading"),cu(a,"corner"),lu(u,"flipped"),lu(m,"rotated"),"icon",o),y=pu(n,this.props),_=mu(n,this.props),b=this.getIconAriaOptions();return t.createElement(_,ss({},y,b,{className:v,onClick:this.handleClick}))},n}(t.PureComponent);qu.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],qu.propTypes={},qu.defaultProps={as:"i"},qu.Group=Bu,qu.create=Uu(qu,(function(e){return{name:e}}));const Hu=qu;const Wu=function(e){return void 0===e};var Ku=/\s/;const Gu=function(e){for(var t=e.length;t--&&Ku.test(e.charAt(t)););return t};var Qu=/^\s+/;const Yu=function(e){return e?e.slice(0,Gu(e)+1).replace(Qu,""):e};var $u=/^[-+]0x[0-9a-f]+$/i,Ju=/^0b[01]+$/i,Xu=/^0o[0-7]+$/i,Zu=parseInt;const eh=function(e){if("number"==typeof e)return e;if(ks(e))return NaN;if(xs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yu(e);var n=Ju.test(e);return n||Xu.test(e)?Zu(e.slice(2),n?2:8):$u.test(e)?NaN:+e};var th=1/0;const nh=function(e){return e?(e=eh(e))===th||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const rh=function(e){var t=nh(e),n=t%1;return t===t?n?t-n:t:0};const ih=function(e,t){return Ia(t,(function(t){return e[t]}))};const oh=function(e){return null==e?[]:ih(e,dc(e))};var sh=Math.max;const ah=function(e,t,n,r){e=hc(e)?e:oh(e),n=n&&!r?rh(n):0;var i=e.length;return n<0&&(n=sh(i+n,0)),Lu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&_u(e,t,n)>-1};const lh=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const ch=function(e){return"function"==typeof e?e:ja};const uh=function(e,t){return(us(e)?lh:eu)(e,ch(t))};var hh=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],dh=[].concat(hh,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),fh=["alt","height","src","srcSet","width","loading"],ph=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?dh:r,o=n.includeAria,s=void 0===o||o,a={},l={};return uh(e,(function(e,t){var n=s&&(/^aria-.*$/.test(t)||"role"===t);(ah(i,t)||n?a:l)[t]=e})),[a,l]},mh="object"===typeof document&&null!==document,gh="object"===typeof window&&null!==window&&window.self===window;const vh=function e(){return $a(e.override)?mh&&gh:e.override};var yh=n(173),_h=n.n(yh),bh=n(90),wh=n.n(bh),Eh=Math.max,Sh=Math.min;const Ch=function(e,t,n){return e>=Sh(t,n)&&e<Eh(t,n)};const kh=function(e,t,n){return t=nh(t),void 0===n?(n=t,t=0):n=nh(n),e=eh(e),Ch(e,t,n)};const Th=function(e){return e&&e.length?e[0]:void 0};const Ih=function(e,t){if(ru([t,e],$a))return!1;if(t.target&&(Ya(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Ya(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(ru([n,r],$a))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var o=Th(i),s=o.top,a=o.bottom,l=o.left,c=o.right;return!ru([s,a,l,c],$a)&&(kh(r,s,a+.001)&&kh(n,l,c+.001))};var Nh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(t=e.call.apply(e,[this].concat(r))||this).constructor,s=o.autoControlledProps,a=o.getAutoControlledStateFromProps,l=Ya(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"getInitialAutoControlledState",t.props)||{},c=s.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,o=t[e];if(void 0!==o)return o;if(r){var s=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==s)return s;if(n){var a=n[e];if(void 0!==a)return a}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,l,!0),e}),{});return t.state=ss({},l,c,{autoControlledProps:s,getAutoControlledStateFromProps:a}),t}return ls(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!Wu(e[n])&&(t[n]=e[n]),t}),{});if(r){var o=r(e,ss({},t,i),t);return ss({},i,o)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(t.Component),xh=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){el(t.props.innerRef,e)},t}ls(n,e);var r=n.prototype;return r.componentDidMount=function(){Ya(this.props,"onMount",null,this.props)},r.componentWillUnmount=function(){Ya(this.props,"onUnmount",null,this.props)},r.render=function(){if(!vh())return null;var e=this.props,n=e.children,r=e.mountNode,i=void 0===r?document.body:r;return(0,Xa.createPortal)(t.createElement(il,{innerRef:this.handleRef},n),i)},n}(t.Component);xh.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],xh.propTypes={};const Ph=xh;var Rh=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).contentRef=t.createRef(),n.triggerRef=t.createRef(),n.latestDocumentMouseDownEvent=null,n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDocumentClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!n.contentRef.current||Ih(n.triggerRef.current,e)||r&&Ih(n.contentRef.current,r)||Ih(n.contentRef.current,e)||t&&n.close(e)},n.handleEscape=function(e){n.props.closeOnEscape&&wh().getCode(e)===wh().Escape&&n.close(e)},n.handlePortalMouseLeave=function(e){var t=n.props,r=t.closeOnPortalMouseLeave,i=t.mouseLeaveDelay;r&&e.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(e,i))},n.handlePortalMouseEnter=function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)},n.handleTriggerBlur=function(e){for(var t=n.props,r=t.trigger,i=t.closeOnTriggerBlur,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];Ya.apply(void 0,[r,"props.onBlur",e].concat(s));var l=e.relatedTarget||document.activeElement,c=Ya(n.contentRef.current,"contains",l);i&&!c&&n.close(e)},n.handleTriggerClick=function(e){for(var t=n.props,r=t.trigger,i=t.closeOnTriggerClick,o=t.openOnTriggerClick,s=n.state.open,a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];Ya.apply(void 0,[r,"props.onClick",e].concat(l)),s&&i?n.close(e):!s&&o&&n.open(e)},n.handleTriggerFocus=function(e){for(var t=n.props,r=t.trigger,i=t.openOnTriggerFocus,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];Ya.apply(void 0,[r,"props.onFocus",e].concat(s)),i&&n.open(e)},n.handleTriggerMouseLeave=function(e){clearTimeout(n.mouseEnterTimer);for(var t=n.props,r=t.trigger,i=t.closeOnTriggerMouseLeave,o=t.mouseLeaveDelay,s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];Ya.apply(void 0,[r,"props.onMouseLeave",e].concat(a)),i&&(n.mouseLeaveTimer=n.closeWithTimeout(e,o))},n.handleTriggerMouseEnter=function(e){clearTimeout(n.mouseLeaveTimer);for(var t=n.props,r=t.trigger,i=t.mouseEnterDelay,o=t.openOnTriggerMouseEnter,s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];Ya.apply(void 0,[r,"props.onMouseEnter",e].concat(a)),o&&(n.mouseEnterTimer=n.openWithTimeout(e,i))},n.open=function(e){Ya(n.props,"onOpen",e,ss({},n.props,{open:!0})),n.setState({open:!0})},n.openWithTimeout=function(e,t){var r=ss({},e);return setTimeout((function(){return n.open(r)}),t||0)},n.close=function(e){n.setState({open:!1}),Ya(n.props,"onClose",e,ss({},n.props,{open:!1}))},n.closeWithTimeout=function(e,t){var r=ss({},e);return setTimeout((function(){return n.close(r)}),t||0)},n.handleMount=function(){Ya(n.props,"onMount",null,n.props)},n.handleUnmount=function(){Ya(n.props,"onUnmount",null,n.props)},n.handleTriggerRef=function(e){n.triggerRef.current=e,el(n.props.triggerRef,e)},n}ls(n,e);var r=n.prototype;return r.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},r.render=function(){var e=this.props,n=e.children,r=e.eventPool,i=e.mountNode,o=e.trigger,s=this.state.open;return t.createElement(t.Fragment,null,s&&t.createElement(t.Fragment,null,t.createElement(Ph,{innerRef:this.contentRef,mountNode:i,onMount:this.handleMount,onUnmount:this.handleUnmount},n),t.createElement(_h(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:r,target:this.contentRef}),t.createElement(_h(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:r,target:this.contentRef}),t.createElement(_h(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:r}),t.createElement(_h(),{name:"click",on:this.handleDocumentClick,pool:r}),t.createElement(_h(),{name:"keydown",on:this.handleEscape,pool:r})),o&&t.createElement(il,{innerRef:this.handleTriggerRef},t.cloneElement(o,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},n}(Nh);Rh.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],Rh.propTypes={},Rh.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},Rh.autoControlledProps=["open"],Rh.Inner=Ph;const Ah=Rh;function Oh(e){var n=e.blurring,r=e.className,i=e.children,o=e.content,s=e.dimmed,a=sl(au(n,"blurring"),au(s,"dimmed"),"dimmable",r),l=pu(Oh,e),c=mu(Oh,e);return t.createElement(c,ss({},l,{className:a}),iu(i)?o:i)}Oh.handledProps=["as","blurring","children","className","content","dimmed"],Oh.propTypes={};const Dh=Oh;var Lh=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).containerRef=(0,t.createRef)(),n.contentRef=(0,t.createRef)(),n.handleClick=function(e){var t=n.contentRef.current;Ya(n.props,"onClick",e,n.props),t&&t!==e.target&&Ih(t,e)||Ya(n.props,"onClickOutside",e,n.props)},n}ls(n,e);var r=n.prototype;return r.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},r.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},r.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},r.render=function(){var e=this.props,r=e.active,i=e.children,o=e.className,s=e.content,a=e.disabled,l=e.inverted,c=e.page,u=e.simple,h=e.verticalAlign,d=sl("ui",au(r,"active transition visible"),au(a,"disabled"),au(l,"inverted"),au(c,"page"),au(u,"simple"),du(h),"dimmer",o),f=pu(n,this.props),p=mu(n,this.props),m=iu(i)?s:i;return t.createElement(il,{innerRef:this.containerRef},t.createElement(p,ss({},f,{className:d,onClick:this.handleClick}),m&&t.createElement("div",{className:"content",ref:this.contentRef},m)))},n}(t.Component);Lh.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],Lh.propTypes={};var Mh=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){vh()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){vh()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.active,i=e.page,o=pu(n,this.props);return i?t.createElement(Ah,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:r,openOnTriggerClick:!1},t.createElement(Lh,ss({},o,{active:r,page:i}))):t.createElement(Lh,ss({},o,{active:r,page:i}))},n}(t.Component);function Fh(e){var n=e.children,r=e.className,i=e.content,o=e.size,s=sl("ui",o,r,"images"),a=pu(Fh,e),l=mu(Fh,e);return t.createElement(l,ss({},a,{className:s}),iu(n)?i:n)}Mh.handledProps=["active","page"],Mh.propTypes={},Mh.Dimmable=Dh,Mh.Inner=Lh,Mh.create=Uu(Mh,(function(e){return{content:e}})),Fh.handledProps=["as","children","className","content","size"],Fh.propTypes={};const Uh=Fh;function jh(e){var n=e.avatar,r=e.bordered,i=e.centered,o=e.children,s=e.circular,a=e.className,l=e.content,c=e.dimmer,u=e.disabled,h=e.floated,d=e.fluid,f=e.hidden,p=e.href,m=e.inline,g=e.label,v=e.rounded,y=e.size,_=e.spaced,b=e.verticalAlign,w=e.wrapped,E=e.ui,S=sl(au(E,"ui"),y,au(n,"avatar"),au(r,"bordered"),au(s,"circular"),au(i,"centered"),au(u,"disabled"),au(d,"fluid"),au(f,"hidden"),au(m,"inline"),au(v,"rounded"),cu(_,"spaced"),lu(h,"floated"),du(b),"image",a),C=pu(jh,e),k=ph(C,{htmlProps:fh}),T=k[0],I=k[1],N=mu(jh,e,(function(){if(!$a(c)||!$a(g)||!$a(w)||!iu(o))return"div"}));return iu(o)?iu(l)?"img"===N?t.createElement(N,ss({},I,T,{className:S})):t.createElement(N,ss({},I,{className:S,href:p}),Mh.create(c,{autoGenerateKey:!1}),Wh.create(g,{autoGenerateKey:!1}),t.createElement("img",T)):t.createElement(N,ss({},C,{className:S}),l):t.createElement(N,ss({},C,{className:S}),o)}jh.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],jh.Group=Uh,jh.propTypes={},jh.defaultProps={as:"img",ui:!0},jh.create=Uu(jh,(function(e){return{src:e}}));const Vh=jh;function zh(e){var n=e.children,r=e.className,i=e.content,o=sl("detail",r),s=pu(zh,e),a=mu(zh,e);return t.createElement(a,ss({},s,{className:o}),iu(n)?i:n)}zh.handledProps=["as","children","className","content"],zh.propTypes={},zh.create=Uu(zh,(function(e){return{content:e}}));const Bh=zh;function qh(e){var n=e.children,r=e.circular,i=e.className,o=e.color,s=e.content,a=e.size,l=e.tag,c=sl("ui",o,a,au(r,"circular"),au(l,"tag"),"labels",i),u=pu(qh,e),h=mu(qh,e);return t.createElement(h,ss({},u,{className:c}),iu(n)?s:n)}qh.handledProps=["as","children","circular","className","color","content","size","tag"],qh.propTypes={};const Hh=qh;var Wh=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){Ya(e,"onClick",n),Ya(t.props,"onRemove",n,t.props)}}},t}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.active,i=e.attached,o=e.basic,s=e.children,a=e.circular,l=e.className,c=e.color,u=e.content,h=e.corner,d=e.detail,f=e.empty,p=e.floating,m=e.horizontal,g=e.icon,v=e.image,y=e.onRemove,_=e.pointing,b=e.prompt,w=e.removeIcon,E=e.ribbon,S=e.size,C=e.tag,k=sl("ui",c,(!0===_?"pointing":("left"===_||"right"===_)&&_+" pointing")||("above"===_||"below"===_)&&"pointing "+_,S,au(r,"active"),au(o,"basic"),au(a,"circular"),au(f,"empty"),au(p,"floating"),au(m,"horizontal"),au(!0===v,"image"),au(b,"prompt"),au(C,"tag"),cu(h,"corner"),cu(E,"ribbon"),lu(i,"attached"),"label",l),T=pu(n,this.props),I=mu(n,this.props);if(!iu(s))return t.createElement(I,ss({},T,{className:k,onClick:this.handleClick}),s);var N=Wu(w)?"delete":w;return t.createElement(I,ss({className:k,onClick:this.handleClick},T),Hu.create(g,{autoGenerateKey:!1}),"boolean"!==typeof v&&Vh.create(v,{autoGenerateKey:!1}),u,Bh.create(d,{autoGenerateKey:!1}),y&&Hu.create(N,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},n}(t.Component);function Kh(e){var n=e.children,r=e.className,i=e.content,o=e.hidden,s=e.visible,a=sl(au(s,"visible"),au(o,"hidden"),"content",r),l=pu(Kh,e),c=mu(Kh,e);return t.createElement(c,ss({},l,{className:a}),iu(n)?i:n)}Wh.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],Wh.propTypes={},Wh.Detail=Bh,Wh.Group=Hh,Wh.create=Uu(Wh,(function(e){return{content:e}})),Kh.handledProps=["as","children","className","content","hidden","visible"],Kh.propTypes={};const Gh=Kh;const Qh=function(e,t){var n=-1,r=hc(e)?Array(e.length):[];return eu(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const Yh=function(e,t){return(us(e)?Ia:Qh)(e,Jc(t,3))};function $h(e){var n=e.attached,r=e.basic,i=e.buttons,o=e.children,s=e.className,a=e.color,l=e.compact,c=e.content,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.labeled,m=e.negative,g=e.positive,v=e.primary,y=e.secondary,_=e.size,b=e.toggle,w=e.vertical,E=e.widths,S=sl("ui",a,_,au(r,"basic"),au(l,"compact"),au(h,"fluid"),au(d,"icon"),au(f,"inverted"),au(p,"labeled"),au(m,"negative"),au(g,"positive"),au(v,"primary"),au(y,"secondary"),au(b,"toggle"),au(w,"vertical"),cu(n,"attached"),lu(u,"floated"),fu(E),"buttons",s),C=pu($h,e),k=mu($h,e);return $a(i)?t.createElement(k,ss({},C,{className:S}),iu(o)?c:o):t.createElement(k,ss({},C,{className:S}),Yh(i,(function(e){return td.create(e)})))}$h.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],$h.propTypes={};const Jh=$h;function Xh(e){var n=e.className,r=e.text,i=sl("or",n),o=pu(Xh,e),s=mu(Xh,e);return t.createElement(s,ss({},o,{className:i,"data-text":r}))}Xh.handledProps=["as","className","text"],Xh.propTypes={};const Zh=Xh;var ed=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).ref=(0,t.createRef)(),n.computeElementType=function(){var e=n.props,t=e.attached,r=e.label;if(!$a(t)||!$a(r))return"div"},n.computeTabIndex=function(e){var t=n.props,r=t.disabled,i=t.tabIndex;return $a(i)?r?-1:"div"===e?0:void 0:i},n.focus=function(e){return Ya(n.ref.current,"focus",e)},n.handleClick=function(e){n.props.disabled?e.preventDefault():Ya(n.props,"onClick",e,n.props)},n.hasIconClass=function(){var e=n.props,t=e.labelPosition,r=e.children,i=e.content,o=e.icon;return!0===o||o&&(t||iu(r)&&$a(i))},n}ls(n,e);var r=n.prototype;return r.computeButtonAriaRole=function(e){var t=this.props.role;return $a(t)?"button"!==e?"button":void 0:t},r.render=function(){var e=this.props,r=e.active,i=e.animated,o=e.attached,s=e.basic,a=e.children,l=e.circular,c=e.className,u=e.color,h=e.compact,d=e.content,f=e.disabled,p=e.floated,m=e.fluid,g=e.icon,v=e.inverted,y=e.label,_=e.labelPosition,b=e.loading,w=e.negative,E=e.positive,S=e.primary,C=e.secondary,k=e.size,T=e.toggle,I=e.type,N=sl(u,k,au(r,"active"),au(s,"basic"),au(l,"circular"),au(h,"compact"),au(m,"fluid"),au(this.hasIconClass(),"icon"),au(v,"inverted"),au(b,"loading"),au(w,"negative"),au(E,"positive"),au(S,"primary"),au(C,"secondary"),au(T,"toggle"),cu(i,"animated"),cu(o,"attached")),x=sl(cu(_||!!y,"labeled")),P=sl(au(f,"disabled"),lu(p,"floated")),R=pu(n,this.props),A=mu(n,this.props,this.computeElementType),O=this.computeTabIndex(A);if(!$a(y)){var D=sl("ui",N,"button",c),L=sl("ui",x,"button",c,P),M=Wh.create(y,{defaultProps:{basic:!0,pointing:"left"===_?"right":"left"},autoGenerateKey:!1});return t.createElement(A,ss({},R,{className:L,onClick:this.handleClick}),"left"===_&&M,t.createElement(il,{innerRef:this.ref},t.createElement("button",{className:D,"aria-pressed":T?!!r:void 0,disabled:f,type:I,tabIndex:O},Hu.create(g,{autoGenerateKey:!1})," ",d)),("right"===_||!_)&&M)}var F=sl("ui",N,P,x,"button",c),U=!iu(a),j=this.computeButtonAriaRole(A);return t.createElement(il,{innerRef:this.ref},t.createElement(A,ss({},R,{className:F,"aria-pressed":T?!!r:void 0,disabled:f&&"button"===A||void 0,onClick:this.handleClick,role:j,type:I,tabIndex:O}),U&&a,!U&&Hu.create(g,{autoGenerateKey:!1}),!U&&d))},n}(t.Component);ed.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],ed.propTypes={},ed.defaultProps={as:"button"},ed.Content=Gh,ed.Group=Jh,ed.Or=Zh,ed.create=Uu(ed,(function(e){return{content:e}}));const td=ed;var nd=n(579);const rd=e=>(0,nd.jsx)("div",{className:e.bgClass,children:(0,nd.jsxs)("div",{className:"text-content",children:[(0,nd.jsx)("h1",{className:"header-title",children:e.title}),e.children]})});function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}function od(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const sd=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(oD){}new Map;const ad=r.startTransition;Za.flushSync,r.useId;function ld(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=t.useCallback((e=>{f&&ad?ad((()=>u(e))):u(e)}),[u,f]);return t.useLayoutEffect((()=>l.listen(m)),[l,m]),t.createElement(pe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const cd="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ud=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hd=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:c,target:u,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,m=od(e,sd),{basename:g}=t.useContext(W),v=!1;if("string"===typeof h&&ud.test(h)&&(r=h,cd))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=P(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(oD){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;Y()||l(!1);let{basename:i,navigator:o}=t.useContext(W),{hash:s,pathname:a,search:c}=Z(e,{relative:r}),u=a;return"/"!==i&&(u="/"===a?i:L([i,a])),o.createHref({pathname:u,search:c,hash:s})}(h,{relative:o}),_=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=X(),u=$(),h=Z(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,o,r,e,s,a,l])}(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:o,unstable_viewTransition:p});return t.createElement("a",id({},m,{href:r||y,onClick:v||s?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:n,target:u}))}));var dd,fd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dd||(dd={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(fd||(fd={}));const pd=()=>{const e=X(),n=is();return(0,t.useEffect)((()=>{ji(n,(t=>{t?(t.emailVerified||e("/verify-email"),t.emailVerified&&e("/home")):e("/login")}))}),[n,e]),(0,nd.jsx)(rd,{title:"Our Recipes",bgClass:"bg-image",children:(0,nd.jsx)(td,{content:"SEARCH RECIPES",color:"primary",as:hd,to:"/recipes",size:"big"})})};function md(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(oD){o(oD)}}function a(e){try{l(r.throw(e))}catch(oD){o(oD)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function gd(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(oD){o=[6,oD],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var vd=function(){return vd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vd.apply(this,arguments)},yd=function(e){return{loading:void 0===e||null===e,value:e}},_d=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return vd(vd({},e),{error:t.error,loading:!1,value:void 0});case"reset":return yd(t.defaultValue);case"value":return vd(vd({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),yd(n)),i=r[0],o=r[1],s=(0,t.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),a=(0,t.useCallback)((function(e){o({type:"error",error:e})}),[]),l=(0,t.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:s,setError:a,setValue:l,value:i.value}}),[i.error,i.loading,s,a,l,i.value])},bd=function(e,n){var r=_d((function(){return e.currentUser})),i=r.error,o=r.loading,s=r.setError,a=r.setValue,l=r.value;return(0,t.useEffect)((function(){var t=ji(e,(function(e){return md(void 0,void 0,void 0,(function(){var t;return gd(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),s(t),[3,4];case 4:return a(e),[2]}}))}))}),s);return function(){t()}}),[e]),[l,o,i]};Tn("firebase","10.11.1","app");const wd="@firebase/database",Ed="1.0.4";let Sd="";function Cd(e){Sd=e}class kd{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:We(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Td{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Qe(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Id=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kd(t)}}catch(oD){}return new Td},Nd=Id("localStorage"),xd=Id("sessionStorage"),Pd=new _t("@firebase/database"),Rd=function(){let e=1;return function(){return e++}}(),Ad=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,be(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new rt;n.update(t);const r=n.digest();return Se.encodeByteArray(r)},Od=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Od.apply(null,n):e+="object"===typeof n?Ke(n):n,e+=" "}return e};let Dd=null,Ld=!0;const Md=function(e,t){be(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Pd.logLevel=pt.VERBOSE,Dd=Pd.log.bind(Pd),t&&xd.set("logging_enabled",!0)):"function"===typeof e?Dd=e:(Dd=null,xd.remove("logging_enabled"))},Fd=function(){if(!0===Ld&&(Ld=!1,null===Dd&&!0===xd.get("logging_enabled")&&Md(!0)),Dd){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Od.apply(null,t);Dd(r)}},Ud=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Fd(e,...n)}},jd=function(){const e="FIREBASE INTERNAL ERROR: "+Od(...arguments);Pd.error(e)},Vd=function(){const e="FIREBASE FATAL ERROR: ".concat(Od(...arguments));throw Pd.error(e),new Error(e)},zd=function(){const e="FIREBASE WARNING: "+Od(...arguments);Pd.warn(e)},Bd=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},qd="[MIN_NAME]",Hd="[MAX_NAME]",Wd=function(e,t){if(e===t)return 0;if(e===qd||t===Hd)return-1;if(t===qd||e===Hd)return 1;{const n=Zd(e),r=Zd(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Kd=function(e,t){return e===t?0:e<t?-1:1},Gd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ke(t))},Qd=function(e){if("object"!==typeof e||null===e)return Ke(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ke(t[r]),n+=":",n+=Qd(e[t[r]]);return n+="}",n},Yd=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function $d(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Jd=function(e){be(!Bd(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Xd=new RegExp("^-?(0*)\\d{1,10}$"),Zd=function(e){if(Xd.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ef=function(e){try{e()}catch(oD){setTimeout((()=>{const t=oD.stack||"";throw zd("Exception was thrown by user callback.",t),oD}),Math.floor(0))}},tf=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class nf{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){zd('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class rf{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Fd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zd(e)}}class of{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}of.OWNER="owner";const sf="5",af=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lf="ac",cf="websocket",uf="long_polling";class hf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nd.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function df(e,t,n){let r;if(be("string"===typeof t,"typeof type must == string"),be("object"===typeof n,"typeof params must == object"),t===cf)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==uf)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return $d(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class ff{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Qe(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ne(this.counters_)}}const pf={},mf={};function gf(e){const t=e.toString();return pf[t]||(pf[t]=new ff),pf[t]}class vf{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&ef((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const yf="start";class _f{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ud(e),this.stats_=gf(t),this.urlFn=e=>(this.appCheckToken&&(e[lf]=this.appCheckToken),df(t,uf,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(je()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new bf((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===yf)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[yf]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=sf,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[lf]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&af.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_f.forceAllow_=!0}static forceDisallow(){_f.forceDisallow_=!0}static isAvailable(){return!je()&&(!!_f.forceAllow_||!_f.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ke(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ke(t),r=Yd(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(je())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ke(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class bf{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,je())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Rd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=bf.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(oD){Fd("frame writing exception"),oD.stack&&Fd(oD.stack),Fd(oD)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Fd("No IE domain setting required")}catch(oD){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){je()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Fd("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(oD){}}),Math.floor(1))}}let wf=null;"undefined"!==typeof MozWebSocket?wf=MozWebSocket:"undefined"!==typeof WebSocket&&(wf=WebSocket);class Ef{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ud(this.connId),this.stats_=gf(t),this.connURL=Ef.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=sf,!je()&&"undefined"!==typeof location&&location.hostname&&af.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[lf]=r),i&&(o.p=i),df(e,cf,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nd.set("previous_websocket_failure",!0);try{let e;if(je()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(sf,"/").concat(Sd,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new wf(this.connURL,[],e)}catch(oD){this.log_("Error instantiating WebSocket.");const t=oD.message||oD.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Ef.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==wf&&!Ef.forceDisallow_}static previouslyFailed(){return Nd.isInMemoryStorage||!0===Nd.get("previous_websocket_failure")}markConnectionHealthy(){Nd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=We(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(be(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ke(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Yd(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(oD){this.log_("Exception thrown from WebSocket.send():",oD.message||oD.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ef.responsesRequiredToBeHealthy=2,Ef.healthyTimeout=3e4;class Sf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_f,Ef]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Ef&&Ef.isAvailable();let n=t&&!Ef.previouslyFailed();if(e.webSocketOnly&&(t||zd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Ef];else{const e=this.transports_=[];for(const t of Sf.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Sf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sf.globalTransportInitialized_=!1;class Cf{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ud("c:"+this.id+":"),this.transportManager_=new Sf(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=tf((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Gd("t",e),n=Gd("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Gd("t",e),n=Gd("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Gd("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?jd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),sf!==n&&zd("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),tf((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tf((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class kf{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Tf{constructor(e){this.allowedEvents_=e,this.listeners_={},be(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){be(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class If extends Tf{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Fe()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new If}getInitialEvent(e){return be("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Nf=32,xf=768;class Pf{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Rf(){return new Pf("")}function Af(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Of(e){return e.pieces_.length-e.pieceNum_}function Df(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Pf(e.pieces_,t)}function Lf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Mf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ff(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Pf(t,0)}function Uf(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Pf)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Pf(n,0)}function jf(e){return e.pieceNum_>=e.pieces_.length}function Vf(e,t){const n=Af(e),r=Af(t);if(null===n)return t;if(n===r)return Vf(Df(e),Df(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zf(e,t){if(Of(e)!==Of(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Bf(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Of(e)>Of(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class qf{constructor(e,t){this.errorPrefix_=t,this.parts_=Mf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=at(this.parts_[n]);Hf(this)}}function Hf(e){if(e.byteLength_>xf)throw new Error(e.errorPrefix_+"has a key path longer than "+xf+" bytes ("+e.byteLength_+").");if(e.parts_.length>Nf)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nf+") or object contains a cycle "+Wf(e))}function Wf(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Kf extends Tf{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Kf}getInitialEvent(e){return be("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Gf=1e3;class Qf extends kf{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Qf.nextPersistentConnectionId_++,this.log_=Ud("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!je())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&If.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ke(i)),be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Le,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),be(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Qf.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Qe(e,"w")){const n=Ye(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();zd("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ge(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ge(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):jd("Unrecognized action received from server: "+Ke(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gf),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Qf.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){be(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Fd("getToken() completed but was canceled"):(Fd("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Cf(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{zd(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(jd){this.log_("Failed to get token: "+jd),o||(this.repoInfo_.nodeAdmin&&zd(jd),a())}}}interrupt(e){Fd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$e(this.interruptReasons_)&&(this.reconnectDelay_=Gf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Qd(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Pf(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Fd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Fd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";je()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Sd.replace(/\./g,"-")]=1,Fe()?e["framework.cordova"]=1:Ue()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=If.getInstance().currentlyOnline();return $e(this.interruptReasons_)&&e}}Qf.nextPersistentConnectionId_=0,Qf.nextConnectionId_=0;class Yf{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Yf(e,t)}}class $f{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Yf(qd,e),r=new Yf(qd,t);return 0!==this.compare(n,r)}minPost(){return Yf.MIN}}let Jf;class Xf extends $f{static get __EMPTY_NODE(){return Jf}static set __EMPTY_NODE(e){Jf=e}compare(e,t){return Wd(e.name,t.name)}isDefinedOn(e){throw we("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Yf.MIN}maxPost(){return new Yf(Hd,Jf)}makePost(e,t){return be("string"===typeof e,"KeyIndex indexValue must always be a string."),new Yf(e,Jf)}toString(){return".key"}}const Zf=new Xf;class ep{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:tp.RED,this.left=null!=r?r:np.EMPTY_NODE,this.right=null!=i?i:np.EMPTY_NODE}copy(e,t,n,r,i){return new tp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return np.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return np.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tp.RED=!0,tp.BLACK=!1;class np{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:np.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new np(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,tp.BLACK,null,null))}remove(e){return new np(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tp.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ep(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ep(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ep(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ep(this.root_,null,this.comparator_,!0,e)}}function rp(e,t){return Wd(e.name,t.name)}function ip(e,t){return Wd(e,t)}let op;np.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new tp(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sp=function(e){return"number"===typeof e?"number:"+Jd(e):"string:"+e},ap=function(e){if(e.isLeafNode()){const t=e.val();be("string"===typeof t||"number"===typeof t||"object"===typeof t&&Qe(t,".sv"),"Priority must be a string or number.")}else be(e===op||e.isEmpty(),"priority of unexpected type.");be(e===op||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lp,cp,up;class hp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hp.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,be(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ap(this.priorityNode_)}static set __childrenNodeConstructor(e){lp=e}static get __childrenNodeConstructor(){return lp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new hp(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:hp.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return jf(e)?this:".priority"===Af(e)?this.priorityNode_:hp.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:hp.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Af(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(be(".priority"!==n||1===Of(e),".priority must be the last token in a path"),this.updateImmediateChild(n,hp.__childrenNodeConstructor.EMPTY_NODE.updateChild(Df(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sp(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Jd(this.value_):this.value_,this.lazyHash_=Ad(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===hp.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof hp.__childrenNodeConstructor?-1:(be(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=hp.VALUE_TYPE_ORDER.indexOf(t),i=hp.VALUE_TYPE_ORDER.indexOf(n);return be(r>=0,"Unknown leaf type: "+t),be(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}hp.VALUE_TYPE_ORDER=["object","boolean","number","string"];const dp=new class extends $f{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Wd(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Yf.MIN}maxPost(){return new Yf(Hd,new hp("[PRIORITY-POST]",up))}makePost(e,t){const n=cp(e);return new Yf(t,new hp("[PRIORITY-POST]",n))}toString(){return".priority"}},fp=Math.log(2);class pp{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/fp,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mp=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new tp(a,s.node,tp.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new tp(a,s.node,tp.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],h=n?n(u):u;l(new tp(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,tp.BLACK):(a(r,tp.BLACK),a(r,tp.RED))}return o}(new pp(e.length));return new np(r||t,o)};let gp;const vp={};class yp{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return be(vp&&dp,"ChildrenNode.ts has not been loaded"),gp=gp||new yp({".priority":vp},{".priority":dp}),gp}get(e){const t=Ye(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof np?t:null}hasIndex(e){return Qe(this.indexSet_,e.toString())}addIndex(e,t){be(e!==Zf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Yf.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?mp(n,e.getCompare()):vp;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new yp(c,l)}addToIndexes(e,t){const n=Je(this.indexes_,((n,r)=>{const i=Ye(this.indexSet_,r);if(be(i,"Missing index implementation for "+r),n===vp){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Yf.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),mp(n,i.getCompare())}return vp}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Yf(e.name,r))),i.insert(e,e.node)}}));return new yp(n,this.indexSet_)}removeFromIndexes(e,t){const n=Je(this.indexes_,(n=>{if(n===vp)return n;{const r=t.get(e.name);return r?n.remove(new Yf(e.name,r)):n}}));return new yp(n,this.indexSet_)}}let _p;class bp{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ap(this.priorityNode_),this.children_.isEmpty()&&be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _p||(_p=new bp(new np(ip),null,yp.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_p}updatePriority(e){return this.children_.isEmpty()?this:new bp(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?_p:t}}getChild(e){const t=Af(e);return null===t?this:this.getImmediateChild(t).getChild(Df(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(be(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Yf(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?_p:this.priorityNode_;return new bp(r,o,i)}}updateChild(e,t){const n=Af(e);if(null===n)return t;{be(".priority"!==Af(e)||1===Of(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Df(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(dp,((o,s)=>{t[o]=s.val(e),n++,i&&bp.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sp(this.getPriority().val())+":"),this.forEachChild(dp,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Ad(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Yf(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Yf(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Yf(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Yf.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Yf.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wp?-1:0}withIndex(e){if(e===Zf||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new bp(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Zf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(dp),n=t.getIterator(dp);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Zf?null:this.indexMap_.get(e.toString())}}bp.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const wp=new class extends bp{constructor(){super(new np(ip),bp.EMPTY_NODE,yp.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return bp.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Yf,{MIN:{value:new Yf(qd,bp.EMPTY_NODE)},MAX:{value:new Yf(Hd,wp)}}),Xf.__EMPTY_NODE=bp.EMPTY_NODE,hp.__childrenNodeConstructor=bp,op=wp,function(e){up=e}(wp);const Ep=!0;function Sp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return bp.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),be(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new hp(e,Sp(t))}if(e instanceof Array||!Ep){let n=bp.EMPTY_NODE;return $d(e,((t,r)=>{if(Qe(e,t)&&"."!==t.substring(0,1)){const e=Sp(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Sp(t))}{const n=[];let r=!1;if($d(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Sp(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Yf(e,i)))}})),0===n.length)return bp.EMPTY_NODE;const i=mp(n,rp,(e=>e.name),ip);if(r){const e=mp(n,dp.getCompare());return new bp(i,Sp(t),new yp({".priority":e},{".priority":dp}))}return new bp(i,Sp(t),yp.Default)}}!function(e){cp=e}(Sp);class Cp extends $f{constructor(e){super(),this.indexPath_=e,be(!jf(e)&&".priority"!==Af(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Wd(e.name,t.name):i}makePost(e,t){const n=Sp(e),r=bp.EMPTY_NODE.updateChild(this.indexPath_,n);return new Yf(t,r)}maxPost(){const e=bp.EMPTY_NODE.updateChild(this.indexPath_,wp);return new Yf(Hd,e)}toString(){return Mf(this.indexPath_,0).join("/")}}const kp=new class extends $f{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Wd(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Yf.MIN}maxPost(){return Yf.MAX}makePost(e,t){const n=Sp(e);return new Yf(t,n)}toString(){return".value"}};function Tp(e){return{type:"value",snapshotNode:e}}function Ip(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Np(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xp(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Pp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dp}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qd}hasEnd(){return this.endSet_}getIndexEndValue(){return be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return be(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dp}copy(){const e=new Pp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Rp(e){const t={};if(e.isDefault())return t;let n;if(e.index_===dp?n="$priority":e.index_===kp?n="$value":e.index_===Zf?n="$key":(be(e.index_ instanceof Cp,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ke(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ke(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ke(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ke(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ke(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ap(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==dp&&(t.i=e.index_.toString()),t}class Op extends kf{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ud("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(be(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Op.getListenId_(e,n),s={};this.listens_[o]=s;const a=Rp(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Ye(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Op.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Rp(e._queryParams),n=e._path.toString(),r=new Le;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+et(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=We(a.responseText)}catch(oD){zd("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&zd("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class Dp{constructor(){this.rootNode_=bp.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Lp(){return{value:null,children:new Map}}function Mp(e,t,n){if(jf(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Af(t);e.children.has(r)||e.children.set(r,Lp());Mp(e.children.get(r),t=Df(t),n)}}function Fp(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Fp(r,new Pf(t.toString()+"/"+e),n)}))}class Up{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&$d(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class jp{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Up(e);const n=1e4+2e4*Math.random();tf(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;$d(e,((e,r)=>{r>0&&Qe(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),tf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vp;function zp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vp||(Vp={}));class Bp{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Vp.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(jf(this.path)){if(null!=this.affectedTree.value)return be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pf(e));return new Bp(Rf(),t,this.revert)}}return be(Af(this.path)===e,"operationForChild called for unrelated child."),new Bp(Df(this.path),this.affectedTree,this.revert)}}class qp{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Vp.OVERWRITE}operationForChild(e){return jf(this.path)?new qp(this.source,Rf(),this.snap.getImmediateChild(e)):new qp(this.source,Df(this.path),this.snap)}}class Hp{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Vp.MERGE}operationForChild(e){if(jf(this.path)){const t=this.children.subtree(new Pf(e));return t.isEmpty()?null:t.value?new qp(this.source,Rf(),t.value):new Hp(this.source,Rf(),t)}return be(Af(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hp(this.source,Df(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Wp{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(jf(e))return this.isFullyInitialized()&&!this.filtered_;const t=Af(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Kp(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw we("Should only compare child_ events.");const r=new Yf(t.childName,t.snapshotNode),i=new Yf(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Gp(e,t){return{eventCache:e,serverCache:t}}function Qp(e,t,n,r){return Gp(new Wp(t,n,r),e.serverCache)}function Yp(e,t,n,r){return Gp(e.eventCache,new Wp(t,n,r))}function $p(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jp(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Xp;class Zp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Xp||(Xp=new np(Kd)),Xp);this.value=e,this.children=t}static fromObject(e){let t=new Zp(null);return $d(e,((e,n)=>{t=t.set(new Pf(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Rf(),value:this.value};if(jf(e))return null;{const n=Af(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Df(e),t);if(null!=i){return{path:Uf(new Pf(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(jf(e))return this;{const t=Af(e),n=this.children.get(t);return null!==n?n.subtree(Df(e)):new Zp(null)}}set(e,t){if(jf(e))return new Zp(t,this.children);{const n=Af(e),r=(this.children.get(n)||new Zp(null)).set(Df(e),t),i=this.children.insert(n,r);return new Zp(this.value,i)}}remove(e){if(jf(e))return this.children.isEmpty()?new Zp(null):new Zp(null,this.children);{const t=Af(e),n=this.children.get(t);if(n){const r=n.remove(Df(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Zp(null):new Zp(this.value,i)}return this}}get(e){if(jf(e))return this.value;{const t=Af(e),n=this.children.get(t);return n?n.get(Df(e)):null}}setTree(e,t){if(jf(e))return t;{const n=Af(e),r=(this.children.get(n)||new Zp(null)).setTree(Df(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Zp(this.value,i)}}fold(e){return this.fold_(Rf(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Uf(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Rf(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(jf(e))return null;{const r=Af(e),i=this.children.get(r);return i?i.findOnPath_(Df(e),Uf(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Rf(),t)}foreachOnPath_(e,t,n){if(jf(e))return this;{this.value&&n(t,this.value);const r=Af(e),i=this.children.get(r);return i?i.foreachOnPath_(Df(e),Uf(t,r),n):new Zp(null)}}foreach(e){this.foreach_(Rf(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Uf(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class em{constructor(e){this.writeTree_=e}static empty(){return new em(new Zp(null))}}function tm(e,t,n){if(jf(t))return new em(new Zp(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Vf(i,t);return o=o.updateChild(s,n),new em(e.writeTree_.set(i,o))}{const r=new Zp(n),i=e.writeTree_.setTree(t,r);return new em(i)}}}function nm(e,t,n){let r=e;return $d(n,((e,n)=>{r=tm(r,Uf(t,e),n)})),r}function rm(e,t){if(jf(t))return em.empty();{const n=e.writeTree_.setTree(t,new Zp(null));return new em(n)}}function im(e,t){return null!=om(e,t)}function om(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Vf(n.path,t)):null}function sm(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(dp,((e,n)=>{t.push(new Yf(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Yf(e,n.value))})),t}function am(e,t){if(jf(t))return e;{const n=om(e,t);return new em(null!=n?new Zp(n):e.writeTree_.subtree(t))}}function lm(e){return e.writeTree_.isEmpty()}function cm(e,t){return um(Rf(),e.writeTree_,t)}function um(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(be(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=um(Uf(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Uf(e,".priority"),r)),n}}function hm(e,t){return Cm(t,e)}function dm(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));be(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&fm(t,r.path)?i=!1:Bf(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=mm(e.allWrites,pm,Rf()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=rm(e.visibleWrites,r.path);else{$d(r.children,(t=>{e.visibleWrites=rm(e.visibleWrites,Uf(r.path,t))}))}return!0}return!1}function fm(e,t){if(e.snap)return Bf(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Bf(Uf(e.path,n),t))return!0;return!1}function pm(e){return e.visible}function mm(e,t,n){let r=em.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Bf(n,e)?(t=Vf(n,e),r=tm(r,t,o.snap)):Bf(e,n)&&(t=Vf(e,n),r=tm(r,Rf(),o.snap.getChild(t)));else{if(!o.children)throw we("WriteRecord should have .snap or .children");if(Bf(n,e))t=Vf(n,e),r=nm(r,t,o.children);else if(Bf(e,n))if(t=Vf(e,n),jf(t))r=nm(r,Rf(),o.children);else{const e=Ye(o.children,Af(t));if(e){const n=e.getChild(Df(t));r=tm(r,Rf(),n)}}}}}return r}function gm(e,t,n,r,i){if(r||i){const o=am(e.visibleWrites,t);if(!i&&lm(o))return n;if(i||null!=n||im(o,Rf())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Bf(e.path,t)||Bf(t,e.path))};return cm(mm(e.allWrites,o,t),n||bp.EMPTY_NODE)}return null}{const r=om(e.visibleWrites,t);if(null!=r)return r;{const r=am(e.visibleWrites,t);if(lm(r))return n;if(null!=n||im(r,Rf())){return cm(r,n||bp.EMPTY_NODE)}return null}}}function vm(e,t,n,r){return gm(e.writeTree,e.treePath,t,n,r)}function ym(e,t){return function(e,t,n){let r=bp.EMPTY_NODE;const i=om(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(dp,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=am(e.visibleWrites,t);return n.forEachChild(dp,((e,t)=>{const n=cm(am(i,new Pf(e)),t);r=r.updateImmediateChild(e,n)})),sm(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return sm(am(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _m(e,t,n,r){return function(e,t,n,r,i){be(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Uf(t,n);if(im(e.visibleWrites,o))return null;{const t=am(e.visibleWrites,o);return lm(t)?i.getChild(n):cm(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function bm(e,t){return function(e,t){return om(e.visibleWrites,t)}(e.writeTree,Uf(e.treePath,t))}function wm(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=am(e.visibleWrites,t),c=om(l,Rf());if(null!=c)a=c;else{if(null==n)return[];a=cm(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function Em(e,t,n){return function(e,t,n,r){const i=Uf(t,n),o=om(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return cm(am(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Sm(e,t){return Cm(Uf(e.treePath,t),e.writeTree)}function Cm(e,t){return{treePath:e,writeTree:t}}class km{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;be("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),be(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xp(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Np(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ip(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw we("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xp(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Tm=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Im{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Wp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Em(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jp(this.viewCache_),i=wm(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Nm(e,t,n,r,i){const o=new km;let s,a;if(n.type===Vp.OVERWRITE){const l=n;l.source.fromUser?s=Rm(e,t,l.path,l.snap,r,i,o):(be(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!jf(l.path),s=Pm(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Vp.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=Uf(n,r);Am(t,Af(c))&&(a=Rm(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=Uf(n,r);Am(t,Af(c))||(a=Rm(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(be(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Dm(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Vp.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=bm(r,n))return t;{const a=new Im(r,t,i),l=t.eventCache.getNode();let c;if(jf(n)||".priority"===Af(n)){let n;if(t.serverCache.isFullyInitialized())n=vm(r,Jp(t));else{const e=t.serverCache.getNode();be(e instanceof bp,"serverChildren would be complete if leaf node"),n=ym(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=Af(n);let u=Em(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Df(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,bp.EMPTY_NODE,Df(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=vm(r,Jp(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=bm(r,Rf()),Qp(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=bm(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(jf(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Pm(e,t,n,l.getNode().getChild(n),i,o,a,s);if(jf(n)){let r=new Zp(null);return l.getNode().forEachChild(Zf,((e,t)=>{r=r.set(new Pf(e),t)})),Dm(e,t,n,r,i,o,a,s)}return t}{let c=new Zp(null);return r.foreach(((e,t)=>{const r=Uf(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Dm(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Vp.LISTEN_COMPLETE)throw we("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=Yp(t,o.getNode(),o.isFullyInitialized()||jf(n),o.isFiltered());return xm(e,s,n,r,Tm,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=$p(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Tp($p(t)))}}(t,s,l),{viewCache:s,changes:l}}function xm(e,t,n,r,i,o){const s=t.eventCache;if(null!=bm(r,n))return t;{let a,l;if(jf(n))if(be(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Jp(t),i=ym(r,n instanceof bp?n:bp.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=vm(r,Jp(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Af(n);if(".priority"===c){be(1===Of(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=_m(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=Df(n);let h;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=_m(r,n,s.getNode(),l);h=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else h=Em(r,c,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),c,h,u,i,o):s.getNode()}}return Qp(t,a,s.isFullyInitialized()||jf(n),e.filter.filtersNodes())}}function Pm(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(jf(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Af(n);if(!l.isCompleteForPath(n)&&Of(n)>1)return t;const i=Df(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,Tm,null)}const h=Yp(t,c,l.isFullyInitialized()||jf(n),u.filtersNodes());return xm(e,h,n,i,new Im(i,h,o),a)}function Rm(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new Im(i,t,o);if(jf(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Qp(t,c,!0,e.filter.filtersNodes());else{const i=Af(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Qp(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=Df(n),c=a.getNode().getImmediateChild(i);let h;if(jf(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Lf(o)&&e.getChild(Ff(o)).isEmpty()?e:e.updateChild(o,r):bp.EMPTY_NODE}if(c.equals(h))l=t;else{l=Qp(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Am(e,t){return e.eventCache.isCompleteForChild(t)}function Om(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Dm(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=jf(n)?r:new Zp(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Om(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pm(e,c,new Pf(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Om(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pm(e,c,new Pf(n),l,i,o,s,a)}})),c}function Lm(e,t){const n=Jp(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!jf(t)&&!n.getImmediateChild(Af(t)).isEmpty())?n.getChild(t):null}function Mm(e,t,n,r){t.type===Vp.MERGE&&null!==t.source.queryId&&(be(Jp(e.viewCache_),"We should always have a full cache before handling merges"),be($p(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Nm(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,be(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),be(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),be(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Fm(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Fm(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Kp(e,i,"child_removed",t,r,n),Kp(e,i,"child_added",t,r,n),Kp(e,i,"child_moved",o,r,n),Kp(e,i,"child_changed",t,r,n),Kp(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Um,jm;function Vm(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return be(null!=o,"SyncTree gave us an op for an invalid query."),Mm(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Mm(o,t,n,r));return i}}function zm(e,t){let n=null;for(const r of e.views.values())n=n||Lm(r,t);return n}class Bm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Zp(null),this.pendingWriteTree_={visibleWrites:em.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qm(e,t,n,r,i){return function(e,t,n,r,i){be(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tm(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Qm(e,new qp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Hm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dm(e.pendingWriteTree_,t)){let t=new Zp(null);return null!=r.snap?t=t.set(Rf(),!0):$d(r.children,(e=>{t=t.set(new Pf(e),!0)})),Qm(e,new Bp(r.path,t,n))}return[]}function Wm(e,t,n){return Qm(e,new qp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Km(e,t,n,r){const i=Jm(e,r);if(null!=i){const r=Xm(i),o=r.path,s=r.queryId,a=Vf(o,t);return Zm(e,o,new qp(zp(s),a,n))}return[]}function Gm(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=zm(n,Vf(e,t));if(r)return r}));return gm(r,t,i,n,!0)}function Qm(e,t){return Ym(t,e.syncPointTree_,null,hm(e.pendingWriteTree_,Rf()))}function Ym(e,t,n,r){if(jf(e.path))return $m(e,t,n,r);{const i=t.get(Rf());null==n&&null!=i&&(n=zm(i,Rf()));let o=[];const s=Af(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Sm(r,s);o=o.concat(Ym(a,l,e,t))}return i&&(o=o.concat(Vm(i,e,r,n))),o}}function $m(e,t,n,r){const i=t.get(Rf());null==n&&null!=i&&(n=zm(i,Rf()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Sm(r,t),l=e.operationForChild(t);l&&(o=o.concat($m(l,i,s,a)))})),i&&(o=o.concat(Vm(i,e,r,n))),o}function Jm(e,t){return e.tagToQueryMap.get(t)}function Xm(e){const t=e.indexOf("$");return be(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Pf(e.substr(0,t))}}function Zm(e,t,n){const r=e.syncPointTree_.get(t);be(r,"Missing sync point for query tag that we're tracking");return Vm(r,n,hm(e.pendingWriteTree_,t),null)}class eg{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new eg(t)}node(){return this.node_}}class tg{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Uf(this.path_,e);return new tg(this.syncTree_,t)}node(){return Gm(this.syncTree_,this.path_)}}const ng=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},rg=function(e,t,n){return e&&"object"===typeof e?(be(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ig(e[".sv"],t,n):"object"===typeof e[".sv"]?og(e[".sv"],t):void be(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ig=function(e,t,n){if("timestamp"===e)return n.timestamp;be(!1,"Unexpected server value: "+e)},og=function(e,t,n){e.hasOwnProperty("increment")||be(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&be(!1,"Unexpected increment value: "+r);const i=t.node();if(be(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},sg=function(e,t,n,r){return lg(t,new tg(n,e),r)},ag=function(e,t,n){return lg(e,new eg(t),n)};function lg(e,t,n){const r=e.getPriority().val(),i=rg(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=rg(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new hp(o,Sp(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new hp(i))),r.forEachChild(dp,((e,r)=>{const i=lg(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function ug(e,t){let n=t instanceof Pf?t:new Pf(t),r=e,i=Af(n);for(;null!==i;){const e=Ye(r.node.children,i)||{children:{},childCount:0};r=new cg(i,r,e),n=Df(n),i=Af(n)}return r}function hg(e){return e.node.value}function dg(e,t){e.node.value=t,vg(e)}function fg(e){return e.node.childCount>0}function pg(e,t){$d(e.node.children,((n,r)=>{t(new cg(n,e,r))}))}function mg(e,t,n,r){n&&!r&&t(e),pg(e,(e=>{mg(e,t,!0,r)})),n&&r&&t(e)}function gg(e){return new Pf(null===e.parent?e.name:gg(e.parent)+"/"+e.name)}function vg(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===hg(e)&&!fg(e)}(n),i=Qe(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vg(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,vg(e))}(e.parent,e.name,e)}const yg=/[\[\].#$\/\u0000-\u001F\u007F]/,_g=/[\[\].#$\u0000-\u001F\u007F]/,bg=10485760,wg=function(e){return"string"===typeof e&&0!==e.length&&!yg.test(e)},Eg=function(e){return"string"===typeof e&&0!==e.length&&!_g.test(e)},Sg=function(e,t,n){const r=n instanceof Pf?new qf(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Wf(r));if("function"===typeof t)throw new Error(e+"contains a function "+Wf(r)+" with contents = "+t.toString());if(Bd(t))throw new Error(e+"contains "+t.toString()+" "+Wf(r));if("string"===typeof t&&t.length>bg/3&&at(t)>bg)throw new Error(e+"contains a string greater than "+bg+" utf8 bytes "+Wf(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if($d(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!wg(t)))throw new Error(e+" contains an invalid key ("+t+") "+Wf(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=at(t),Hf(e)}(r,t),Sg(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=at(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Wf(r)+" in addition to actual children.")}},Cg=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!wg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Eg(e)}(n))throw new Error(st(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class kg{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tg(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||zf(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ig(e,t,n){Tg(e,n),Ng(e,(e=>Bf(e,t)||Bf(t,e)))}function Ng(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(xg(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function xg(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Dd&&Fd("event: "+n.toString()),ef(r)}}}const Pg="repo_interrupt",Rg=25;class Ag{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lp(),this.transactionQueueTree_=new cg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Og(e,t,n){if(e.stats_=gf(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Op(e.repoInfo_,((t,n,r,i)=>{Mg(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Fg(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(oD){throw new Error("Invalid authOverride provided: "+oD)}}e.persistentConnection_=new Qf(e.repoInfo_,t,((t,n,r,i)=>{Mg(e,t,n,r,i)}),(t=>{Fg(e,t)}),(t=>{!function(e,t){$d(t,((t,n)=>{Ug(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return mf[n]||(mf[n]=t()),mf[n]}(e.repoInfo_,(()=>new jp(e.stats_,e.server_))),e.infoData_=new Dp,e.infoSyncTree_=new Bm({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Wm(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Ug(e,"connected",!1),e.serverSyncTree_=new Bm({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Ig(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Dg(e){const t=e.infoData_.getNode(new Pf(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Lg(e){return ng({timestamp:Dg(e)})}function Mg(e,t,n,r,i){e.dataUpdateCount++;const o=new Pf(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Je(n,(e=>Sp(e)));s=function(e,t,n,r){const i=Jm(e,r);if(i){const r=Xm(i),o=r.path,s=r.queryId,a=Vf(o,t),l=Zp.fromObject(n);return Zm(e,o,new Hp(zp(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Sp(n);s=Km(e.serverSyncTree_,o,t,i)}else if(r){const t=Je(n,(e=>Sp(e)));s=function(e,t,n){const r=Zp.fromObject(n);return Qm(e,new Hp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Sp(n);s=Wm(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Hg(e,o)),Ig(e.eventQueue_,a,s)}function Fg(e,t){Ug(e,"connected",t),!1===t&&function(e){zg(e,"onDisconnectEvents");const t=Lg(e),n=Lp();Fp(e.onDisconnect_,Rf(),((r,i)=>{const o=sg(r,i,e.serverSyncTree_,t);Mp(n,r,o)}));let r=[];Fp(n,Rf(),((t,n)=>{r=r.concat(Wm(e.serverSyncTree_,t,n));const i=Yg(e,t);Hg(e,i)})),e.onDisconnect_=Lp(),Ig(e.eventQueue_,Rf(),r)}(e)}function Ug(e,t,n){const r=new Pf("/.info/"+t),i=Sp(n);e.infoData_.updateSnapshot(r,i);const o=Wm(e.infoSyncTree_,r,i);Ig(e.eventQueue_,r,o)}function jg(e){return e.nextWriteId_++}function Vg(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Pg)}function zg(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Fd(t,...r)}function Bg(e,t,n){return Gm(e.serverSyncTree_,t,n)||bp.EMPTY_NODE}function qg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Qg(e,t),hg(t)){const n=Kg(e,t);be(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Bg(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];be(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Vf(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{zg(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Hm(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Qg(e,ug(e.transactionQueueTree_,t)),qg(e,e.transactionQueueTree_),Ig(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)ef(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{zd("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Hg(e,t)}}),s)}(e,gg(t),n)}else fg(t)&&pg(t,(t=>{qg(e,t)}))}function Hg(e,t){const n=Wg(e,t),r=gg(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=Vf(n,o.path);let u,h=!1;if(be(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,u=o.abortReason,i=i.concat(Hm(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Rg)h=!0,u="maxretry",i=i.concat(Hm(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Bg(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Sg("transaction failed: Data returned ",r,o.path);let t=Sp(r);"object"===typeof r&&null!=r&&Qe(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Lg(e),c=ag(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=jg(e),s.splice(s.indexOf(a),1),i=i.concat(qm(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Hm(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(Hm(e.serverSyncTree_,o.currentWriteId,!0))}Ig(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;Qg(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)ef(r[l]);qg(e,e.transactionQueueTree_)}(e,Kg(e,n),r),r}function Wg(e,t){let n,r=e.transactionQueueTree_;for(n=Af(t);null!==n&&void 0===hg(r);)r=ug(r,n),n=Af(t=Df(t));return r}function Kg(e,t){const n=[];return Gg(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Gg(e,t,n){const r=hg(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);pg(t,(t=>{Gg(e,t,n)}))}function Qg(e,t){const n=hg(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,dg(t,n.length>0?n:void 0)}pg(t,(t=>{Qg(e,t)}))}function Yg(e,t){const n=gg(Wg(e,t)),r=ug(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{$g(e,t)})),$g(e,r),mg(r,(t=>{$g(e,t)})),n}function $g(e,t){const n=hg(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(be(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(be(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Hm(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?dg(t,void 0):n.length=o+1,Ig(e.eventQueue_,gg(t),i);for(let e=0;e<r.length;e++)ef(r[e])}}const Jg=function(e,t){const n=Xg(e),r=n.namespace;"firebase.com"===n.domain&&Vd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Vd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&zd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new hf(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Pf(n.pathString)}},Xg=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(oD){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):zd("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Zg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class ev{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return jf(this._path)?null:Lf(this._path)}get ref(){return new tv(this._repo,this._path)}get _queryIdentifier(){const e=Ap(this._queryParams),t=Qd(e);return"{}"===t?"default":t}get _queryObject(){return Ap(this._queryParams)}isEqual(e){if(!((e=lt(e))instanceof ev))return!1;const t=this._repo===e._repo,n=zf(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class tv extends ev{constructor(e,t){super(e,t,new Pp,!1)}get parent(){const e=Ff(this._path);return null===e?null:new tv(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){be(!Um,"__referenceConstructor has already been defined"),Um=e}(tv),function(e){be(!jm,"__referenceConstructor has already been defined"),jm=e}(tv);const nv="FIREBASE_DATABASE_EMULATOR_HOST",rv={};let iv=!1;function ov(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Vd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fd("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Jg(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[nv]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=Jg(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new of(of.OWNER):new rf(e.name,e.options,t);Cg("Invalid Firebase Database URL",l),jf(l.path)||Vd("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=rv[t.name];i||(i={},rv[t.name]=i);let o=i[e.toURLString()];o&&Vd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Ag(e,iv,n,r),i[e.toURLString()]=o,o}(c,e,u,new nf(e.name,n));return new sv(h,e)}class sv{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Og(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tv(this._repo,Rf())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=rv[t];n&&n[e.key]===e||Vd("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Vg(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Vd("Cannot call "+e+" on a deleted database.")}}Qf.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Qf.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Cd(Sn),yn(new ct("database",((e,t)=>{let{instanceIdentifier:n}=t;return ov(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Tn(wd,Ed,e),Tn(wd,Ed,"esm2017")}();var av,lv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cv={},uv=uv||{},hv=lv||self;function dv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var pv="closure_uid_"+(1e9*Math.random()>>>0),mv=0;function gv(e,t,n){return e.call.apply(e.bind,arguments)}function vv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yv(e,t,n){return(yv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gv:vv).apply(null,arguments)}function _v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function bv(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function wv(){this.s=this.s,this.o=this.o}wv.prototype.s=!1,wv.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,pv)&&e[pv]||(e[pv]=++mv))},wv.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ev=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Sv(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cv(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(dv(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function kv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kv.prototype.h=function(){this.defaultPrevented=!0};var Tv=function(){if(!hv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};hv.addEventListener("test",e,t),hv.removeEventListener("test",e,t)}catch(n){}return e}();function Iv(e){return/^[\s\xa0]*$/.test(e)}function Nv(){var e=hv.navigator;return e&&(e=e.userAgent)?e:""}function xv(e){return-1!=Nv().indexOf(e)}function Pv(e){return Pv[" "](e),e}Pv[" "]=function(){};var Rv,Av,Ov=xv("Opera"),Dv=xv("Trident")||xv("MSIE"),Lv=xv("Edge"),Mv=Lv||Dv,Fv=xv("Gecko")&&!(-1!=Nv().toLowerCase().indexOf("webkit")&&!xv("Edge"))&&!(xv("Trident")||xv("MSIE"))&&!xv("Edge"),Uv=-1!=Nv().toLowerCase().indexOf("webkit")&&!xv("Edge");function jv(){var e=hv.document;return e?e.documentMode:void 0}e:{var Vv="",zv=function(){var e=Nv();return Fv?/rv:([^\);]+)(\)|;)/.exec(e):Lv?/Edge\/([\d\.]+)/.exec(e):Dv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Uv?/WebKit\/(\S+)/.exec(e):Ov?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zv&&(Vv=zv?zv[1]:""),Dv){var Bv=jv();if(null!=Bv&&Bv>parseFloat(Vv)){Rv=String(Bv);break e}}Rv=Vv}if(hv.document&&Dv){var qv=jv();Av=qv||(parseInt(Rv,10)||void 0)}else Av=void 0;var Hv=Av;function Wv(e,t){if(kv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fv){e:{try{Pv(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Kv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wv.$.h.call(this)}}bv(Wv,kv);var Kv={2:"touch",3:"pen",4:"mouse"};Wv.prototype.h=function(){Wv.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gv="closure_listenable_"+(1e6*Math.random()|0),Qv=0;function Yv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Qv,this.fa=this.ia=!1}function $v(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Jv(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Xv(e){const t={};for(const n in e)t[n]=e[n];return t}const Zv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ey(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Zv.length;t++)n=Zv[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ty(e){this.src=e,this.g={},this.h=0}function ny(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ev(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&($v(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ry(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}ty.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ry(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Yv(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var iy="closure_lm_"+(1e6*Math.random()|0),oy={};function sy(e,t,n,r,i){if(r&&r.once)return ly(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)sy(e,t[o],n,r,i);return null}return n=my(n),e&&e[Gv]?e.O(t,n,fv(r)?!!r.capture:!!r,i):ay(e,t,n,!1,r,i)}function ay(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=fv(i)?!!i.capture:!!i,a=fy(e);if(a||(e[iy]=a=new ty(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=dy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Tv||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ly(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ly(e,t[o],n,r,i);return null}return n=my(n),e&&e[Gv]?e.P(t,n,fv(r)?!!r.capture:!!r,i):ay(e,t,n,!0,r,i)}function cy(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cy(e,t[o],n,r,i);else r=fv(r)?!!r.capture:!!r,n=my(n),e&&e[Gv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ry(o=e.g[t],n,r,i))&&($v(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=fy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ry(t,n,r,i)),(n=-1<e?t[e]:null)&&uy(n))}function uy(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Gv])ny(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fy(t))?(ny(n,e),0==n.h&&(n.src=null,t[iy]=null)):$v(e)}}}function hy(e){return e in oy?oy[e]:oy[e]="on"+e}function dy(e,t){if(e.fa)e=!0;else{t=new Wv(t,this);var n=e.listener,r=e.la||e.src;e.ia&&uy(e),e=n.call(r,t)}return e}function fy(e){return(e=e[iy])instanceof ty?e:null}var py="__closure_events_fn_"+(1e9*Math.random()>>>0);function my(e){return"function"===typeof e?e:(e[py]||(e[py]=function(t){return e.handleEvent(t)}),e[py])}function gy(){wv.call(this),this.i=new ty(this),this.S=this,this.J=null}function vy(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new kv(t,e);else if(t instanceof kv)t.target=t.target||e;else{var i=t;ey(t=new kv(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=yy(s,r,!0,t)&&i}if(i=yy(s=t.g=e,r,!0,t)&&i,i=yy(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=yy(s=t.g=n[o],r,!1,t)&&i}function yy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ny(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}bv(gy,wv),gy.prototype[Gv]=!0,gy.prototype.removeEventListener=function(e,t,n,r){cy(this,e,t,n,r)},gy.prototype.N=function(){if(gy.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$v(n[r]);delete t.g[e],t.h--}}this.J=null},gy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},gy.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _y=hv.JSON.stringify;function by(){var e=Iy;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wy=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ey),(e=>e.reset()));class Ey{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sy(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Cy(e){hv.setTimeout((()=>{throw e}),0)}let ky,Ty=!1,Iy=new class{constructor(){this.h=this.g=null}add(e,t){const n=wy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ny=()=>{const e=hv.Promise.resolve(void 0);ky=()=>{e.then(xy)}};var xy=()=>{for(var e;e=by();){try{e.h.call(e.g)}catch(n){Cy(n)}var t=wy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ty=!1};function Py(e,t){gy.call(this),this.h=e||1,this.g=t||hv,this.j=yv(this.qb,this),this.l=Date.now()}function Ry(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ay(e,t,n){if("function"===typeof e)n&&(e=yv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yv(e.handleEvent,e)}return 2147483647<Number(t)?-1:hv.setTimeout(e,t||0)}function Oy(e){e.g=Ay((()=>{e.g=null,e.i&&(e.i=!1,Oy(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}bv(Py,gy),(av=Py.prototype).ga=!1,av.T=null,av.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vy(this,"tick"),this.ga&&(Ry(this),this.start()))}},av.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},av.N=function(){Py.$.N.call(this),Ry(this),delete this.g};class Dy extends wv{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Oy(this)}N(){super.N(),this.g&&(hv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ly(e){wv.call(this),this.h=e,this.g={}}bv(Ly,wv);var My=[];function Fy(e,t,n,r){Array.isArray(n)||(n&&(My[0]=n.toString()),n=My);for(var i=0;i<n.length;i++){var o=sy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Uy(e){Jv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&uy(e)}),e),e.g={}}function jy(){this.g=!0}function Vy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return _y(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ly.prototype.N=function(){Ly.$.N.call(this),Uy(this)},Ly.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jy.prototype.Ea=function(){this.g=!1},jy.prototype.info=function(){};var zy={},By=null;function qy(){return By=By||new gy}function Hy(e){kv.call(this,zy.Ta,e)}function Wy(e){const t=qy();vy(t,new Hy(t))}function Ky(e,t){kv.call(this,zy.STAT_EVENT,e),this.stat=t}function Gy(e){const t=qy();vy(t,new Ky(t,e))}function Qy(e,t){kv.call(this,zy.Ua,e),this.size=t}function Yy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hv.setTimeout((function(){e()}),t)}zy.Ta="serverreachability",bv(Hy,kv),zy.STAT_EVENT="statevent",bv(Ky,kv),zy.Ua="timingevent",bv(Qy,kv);var $y={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xy(){}function Zy(e){return e.h||(e.h=e.i())}function e_(){}Xy.prototype.h=null;var t_,n_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function r_(){kv.call(this,"d")}function i_(){kv.call(this,"c")}function o_(){}function s_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ly(this),this.P=l_,e=Mv?125:void 0,this.V=new Py(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}bv(r_,kv),bv(i_,kv),bv(o_,Xy),o_.prototype.g=function(){return new XMLHttpRequest},o_.prototype.i=function(){return{}},t_=new o_;var l_=45e3,c_={},u_={};function h_(e,t,n){e.L=1,e.A=P_(k_(t)),e.u=n,e.S=!0,d_(e,null)}function d_(e,t){e.G=Date.now(),g_(e),e.B=k_(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),q_(n.i,"t",r),e.o=0,n=e.l.J,e.h=new a_,e.g=Hb(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Dy(yv(e.Pa,e,e.g),e.O)),Fy(e.U,e.g,"readystatechange",e.nb),t=e.I?Xv(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Wy(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function f_(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function p_(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=m_(e,n),r==u_){4==t&&(e.s=4,Gy(14),i=!1),Vy(e.j,e.m,null,"[Incomplete Response]");break}if(r==c_){e.s=4,Gy(15),Vy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vy(e.j,e.m,r,null),w_(e,r)}f_(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Gy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mb(t),t.M=!0,Gy(11))):(Vy(e.j,e.m,n,"[Invalid Chunked Response]"),b_(e),__(e))}function m_(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?u_:(n=Number(t.substring(n,r)),isNaN(n)?c_:(r+=1)+n>t.length?u_:(t=t.slice(r,r+n),e.o=r+n,t))}function g_(e){e.Y=Date.now()+e.P,v_(e,e.P)}function v_(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Yy(yv(e.lb,e),t)}function y_(e){e.C&&(hv.clearTimeout(e.C),e.C=null)}function __(e){0==e.l.H||e.J||jb(e.l,e)}function b_(e){y_(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ry(e.V),Uy(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function w_(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$_(n.i,e)))if(!e.K&&$_(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ub(n),Nb(n)}Lb(n),Gy(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Yy(yv(n.ib,n),6e3));if(1>=Y_(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else zb(n,11)}else if((e.K||n.g==e)&&Ub(n),!Iv(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(J_(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,x_(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=qb(r,r.J?r.pa:null,r.Y),s.K){X_(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(y_(a),g_(a)),r.g=s}else Db(r);0<n.j.length&&Pb(n)}else"stop"!=c[0]&&"close"!=c[0]||zb(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zb(n,7):Ib(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Wy()}catch(c){}}function E_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(dv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(dv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(dv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(av=s_.prototype).setTimeout=function(e){this.P=e},av.nb=function(e){e=e.target;const t=this.M;t&&3==wb(e)?t.l():this.Pa(e)},av.Pa=function(e){try{if(e==this.g)e:{const u=wb(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Mv||this.g&&(this.h.h||this.g.ja()||Eb(this.g)))){this.J||4!=u||7==t||Wy(),y_(this);var n=this.g.da();this.ca=n;t:if(f_(this)){var r=Eb(this.g);e="";var i=r.length,o=4==wb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){b_(this),__(this);var s="";break t}this.h.i=new hv.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Iv(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Gy(12),b_(this),__(this);break e}Vy(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,w_(this,n)}this.S?(p_(this,u,s),Mv&&this.i&&3==u&&(Fy(this.U,this.V,"tick",this.mb),this.V.start())):(Vy(this.j,this.m,s,null),w_(this,s)),4==u&&b_(this),this.i&&!this.J&&(4==u?jb(this.l,this):(this.i=!1,g_(this)))}else(function(e){const t={};e=(e.g&&2<=wb(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Iv(e[r]))continue;var n=Sy(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Gy(12)):(this.s=0,Gy(13)),b_(this),__(this)}}}catch(u){}},av.mb=function(){if(this.g){var e=wb(this.g),t=this.g.ja();this.o<t.length&&(y_(this),p_(this,e,t),this.i&&4!=e&&g_(this))}},av.cancel=function(){this.J=!0,b_(this)},av.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Wy(),Gy(17)),b_(this),this.s=2,__(this)):v_(this,this.Y-e)};var S_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C_(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof C_){this.h=e.h,T_(this,e.j),this.s=e.s,this.g=e.g,I_(this,e.m),this.l=e.l;var t=e.i,n=new j_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),N_(this,n),this.o=e.o}else e&&(t=String(e).match(S_))?(this.h=!1,T_(this,t[1]||"",!0),this.s=R_(t[2]||""),this.g=R_(t[3]||"",!0),I_(this,t[4]),this.l=R_(t[5]||"",!0),N_(this,t[6]||"",!0),this.o=R_(t[7]||"")):(this.h=!1,this.i=new j_(null,this.h))}function k_(e){return new C_(e)}function T_(e,t,n){e.j=n?R_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function I_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function N_(e,t,n){t instanceof j_?(e.i=t,function(e,t){t&&!e.j&&(V_(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(z_(this,t),q_(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=A_(t,F_)),e.i=new j_(t,e.h))}function x_(e,t,n){e.i.set(t,n)}function P_(e){return x_(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function R_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function A_(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,O_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function O_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}C_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(A_(t,D_,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(A_(t,D_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(A_(n,"/"==n.charAt(0)?M_:L_,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",A_(n,U_)),e.join("")};var D_=/[#\/\?@]/g,L_=/[#\?:]/g,M_=/[#\?]/g,F_=/[#\?@]/g,U_=/#/g;function j_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function V_(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function z_(e,t){V_(e),t=H_(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function B_(e,t){return V_(e),t=H_(e,t),e.g.has(t)}function q_(e,t,n){z_(e,t),0<n.length&&(e.i=null,e.g.set(H_(e,t),Sv(n)),e.h+=n.length)}function H_(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(av=j_.prototype).add=function(e,t){V_(this),this.i=null,e=H_(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},av.forEach=function(e,t){V_(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},av.ta=function(){V_(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},av.Z=function(e){V_(this);let t=[];if("string"===typeof e)B_(this,e)&&(t=t.concat(this.g.get(H_(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},av.set=function(e,t){return V_(this),this.i=null,B_(this,e=H_(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},av.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},av.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var W_=class{constructor(e,t){this.g=e,this.map=t}};function K_(e){this.l=e||G_,hv.PerformanceNavigationTiming?e=0<(e=hv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hv.g&&hv.g.Ka&&hv.g.Ka()&&hv.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var G_=10;function Q_(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Y_(e){return e.h?1:e.g?e.g.size:0}function $_(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function J_(e,t){e.g?e.g.add(t):e.h=t}function X_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Z_(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Sv(e.i)}K_.prototype.cancel=function(){if(this.i=Z_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var eb,tb=class{stringify(e){return hv.JSON.stringify(e,void 0)}parse(e){return hv.JSON.parse(e,void 0)}};function nb(){this.g=new tb}function rb(e,t,n){const r=n||"";try{E_(e,(function(e,n){let i=e;fv(e)&&(i=_y(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(oD){throw t.push(r+"type="+encodeURIComponent("_badmap")),oD}}function ib(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function ob(e){this.l=e.ec||null,this.j=e.ob||!1}function sb(e,t){gy.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ab,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bv(ob,Xy),ob.prototype.g=function(){return new sb(this.l,this.j)},ob.prototype.i=(eb={},function(){return eb}),bv(sb,gy);var ab=0;function lb(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function cb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ub(e)}function ub(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(av=sb.prototype).open=function(e,t){if(this.readyState!=ab)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ub(this)},av.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||hv).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},av.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cb(this)),this.readyState=ab},av.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ub(this)),this.g&&(this.readyState=3,ub(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof hv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lb(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},av.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cb(this):ub(this),3==this.readyState&&lb(this)}},av.Za=function(e){this.g&&(this.response=this.responseText=e,cb(this))},av.Ya=function(e){this.g&&(this.response=e,cb(this))},av.ka=function(){this.g&&cb(this)},av.setRequestHeader=function(e,t){this.v.append(e,t)},av.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},av.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hb=hv.JSON.parse;function db(e){gy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fb,this.L=this.M=!1}bv(db,gy);var fb="",pb=/^https?$/i,mb=["POST","PUT"];function gb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vb(e),_b(e)}function vb(e){e.F||(e.F=!0,vy(e,"complete"),vy(e,"error"))}function yb(e){if(e.h&&"undefined"!=typeof uv&&(!e.C[1]||4!=wb(e)||2!=e.da()))if(e.v&&4==wb(e))Ay(e.La,0,e);else if(vy(e,"readystatechange"),4==wb(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(S_)[1]||null;!i&&hv.self&&hv.self.location&&(i=hv.self.location.protocol.slice(0,-1)),r=!pb.test(i?i.toLowerCase():"")}n=r}if(n)vy(e,"complete"),vy(e,"success");else{e.m=6;try{var o=2<wb(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",vb(e)}}finally{_b(e)}}}function _b(e,t){if(e.g){bb(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||vy(e,"ready");try{n.onreadystatechange=r}catch(oD){}}}function bb(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(hv.clearTimeout(e.A),e.A=null)}function wb(e){return e.g?e.g.readyState:0}function Eb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xw){return null}}function Sb(e){let t="";return Jv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Cb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Sb(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):x_(e,t,n))}function kb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tb(e){this.Ga=0,this.j=[],this.l=new jy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kb("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kb("baseRetryDelayMs",5e3,e),this.hb=kb("retryDelaySeedMs",1e4,e),this.eb=kb("forwardChannelMaxRetries",2,e),this.xa=kb("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new K_(e&&e.concurrentRequestLimit),this.Ja=new nb,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ib(e){if(xb(e),3==e.H){var t=e.W++,n=k_(e.I);if(x_(n,"SID",e.K),x_(n,"RID",t),x_(n,"TYPE","terminate"),Ab(e,n),(t=new s_(e,e.l,t)).L=2,t.A=P_(k_(n)),n=!1,hv.navigator&&hv.navigator.sendBeacon)try{n=hv.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&hv.Image&&((new Image).src=t.A,n=!0),n||(t.g=Hb(t.l,null),t.g.ha(t.A)),t.G=Date.now(),g_(t)}Bb(e)}function Nb(e){e.g&&(Mb(e),e.g.cancel(),e.g=null)}function xb(e){Nb(e),e.u&&(hv.clearTimeout(e.u),e.u=null),Ub(e),e.i.cancel(),e.m&&("number"===typeof e.m&&hv.clearTimeout(e.m),e.m=null)}function Pb(e){if(!Q_(e.i)&&!e.m){e.m=!0;var t=e.Na;ky||Ny(),Ty||(ky(),Ty=!0),Iy.add(t,e),e.C=0}}function Rb(e,t){var n;n=t?t.m:e.W++;const r=k_(e.I);x_(r,"SID",e.K),x_(r,"RID",n),x_(r,"AID",e.V),Ab(e,r),e.o&&e.s&&Cb(r,e.o,e.s),n=new s_(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ob(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),J_(e.i,n),h_(n,r,t)}function Ab(e,t){e.na&&Jv(e.na,(function(e,n){x_(t,n,e)})),e.h&&E_({},(function(e,n){x_(t,n,e)}))}function Ob(e,t,n){n=Math.min(e.j.length,n);var r=e.h?yv(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{rb(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Db(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ky||Ny(),Ty||(ky(),Ty=!0),Iy.add(t,e),e.A=0}}function Lb(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Yy(yv(e.Ma,e),Vb(e,e.A)),e.A++,!0)}function Mb(e){null!=e.B&&(hv.clearTimeout(e.B),e.B=null)}function Fb(e){e.g=new s_(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=k_(e.wa);x_(t,"RID","rpc"),x_(t,"SID",e.K),x_(t,"AID",e.V),x_(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&x_(t,"TO",e.qa),x_(t,"TYPE","xmlhttp"),Ab(e,t),e.o&&e.s&&Cb(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=P_(k_(t)),n.u=null,n.S=!0,d_(n,e)}function Ub(e){null!=e.v&&(hv.clearTimeout(e.v),e.v=null)}function jb(e,t){var n=null;if(e.g==t){Ub(e),Mb(e),e.g=null;var r=2}else{if(!$_(e.i,t))return;n=t.F,X_(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;vy(r=qy(),new Qy(r,n)),Pb(e)}else Db(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Y_(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Yy(yv(e.Na,e,t),Vb(e,e.C)),e.C++,!0))}(e,t)||2==r&&Lb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zb(e,5);break;case 4:zb(e,10);break;case 3:zb(e,6);break;default:zb(e,2)}}function Vb(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function zb(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=yv(e.pb,e);n||(n=new C_("//www.google.com/images/cleardot.gif"),hv.location&&"http"==hv.location.protocol||T_(n,"https"),P_(n)),function(e,t){const n=new jy;if(hv.Image){const r=new Image;r.onload=_v(ib,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_v(ib,n,r,"TestLoadImage: error",!1,t),r.onabort=_v(ib,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_v(ib,n,r,"TestLoadImage: timeout",!1,t),hv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gy(2);e.H=0,e.h&&e.h.za(t),Bb(e),xb(e)}function Bb(e){if(e.H=0,e.ma=[],e.h){const t=Z_(e.i);0==t.length&&0==e.j.length||(Cv(e.ma,t),Cv(e.ma,e.j),e.i.i.length=0,Sv(e.j),e.j.length=0),e.h.ya()}}function qb(e,t,n){var r=n instanceof C_?k_(n):new C_(n);if(""!=r.g)t&&(r.g=t+"."+r.g),I_(r,r.m);else{var i=hv.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new C_(null);r&&T_(o,r),t&&(o.g=t),i&&I_(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&x_(r,n,t),x_(r,"VER",e.ra),Ab(e,r),r}function Hb(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new db(new ob({ob:n})):new db(e.va)).Oa(e.J),t}function Wb(){}function Kb(){if(Dv&&!(10<=Number(Hv)))throw Error("Environmental error: no available transport.")}function Gb(e,t){gy.call(this),this.g=new Tb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Iv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Iv(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $b(this)}function Qb(e){r_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yb(){i_.call(this),this.status=1}function $b(e){this.g=e}function Jb(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xb(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Zb(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(av=db.prototype).Oa=function(e){this.M=e},av.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():t_.g(),this.C=this.u?Zy(this.u):Zy(t_),this.g.onreadystatechange=yv(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void gb(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=hv.FormData&&e instanceof hv.FormData,!(0<=Ev(mb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bb(this),0<this.B&&((this.L=function(e){return Dv&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yv(this.ua,this)):this.A=Ay(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){gb(this,o)}},av.ua=function(){"undefined"!=typeof uv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vy(this,"timeout"),this.abort(8))},av.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vy(this,"complete"),vy(this,"abort"),_b(this))},av.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_b(this,!0)),db.$.N.call(this)},av.La=function(){this.s||(this.G||this.v||this.l?yb(this):this.kb())},av.kb=function(){yb(this)},av.isActive=function(){return!!this.g},av.da=function(){try{return 2<wb(this)?this.g.status:-1}catch(eb){return-1}},av.ja=function(){try{return this.g?this.g.responseText:""}catch(eb){return""}},av.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hb(t)}},av.Ia=function(){return this.m},av.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(av=Tb.prototype).ra=8,av.H=1,av.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new s_(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Xv(o),ey(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ob(this,i,t),x_(n=k_(this.I),"RID",e),x_(n,"CVER",22),this.F&&x_(n,"X-HTTP-Session-Id",this.F),Ab(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Sb(o)))+"&"+t:this.o&&Cb(n,this.o,o)),J_(this.i,i),this.bb&&x_(n,"TYPE","init"),this.P?(x_(n,"$req",t),x_(n,"SID","null"),i.aa=!0,h_(i,n,null)):h_(i,n,t),this.H=2}}else 3==this.H&&(e?Rb(this,e):0==this.j.length||Q_(this.i)||Rb(this))},av.Ma=function(){if(this.u=null,Fb(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Yy(yv(this.jb,this),e)}},av.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gy(10),Nb(this),Fb(this))},av.ib=function(){null!=this.v&&(this.v=null,Nb(this),Lb(this),Gy(19))},av.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Gy(2)):(this.l.info("Failed to ping google.com"),Gy(1))},av.isActive=function(){return!!this.h&&this.h.isActive(this)},(av=Wb.prototype).Ba=function(){},av.Aa=function(){},av.za=function(){},av.ya=function(){},av.isActive=function(){return!0},av.Va=function(){},Kb.prototype.g=function(e,t){return new Gb(e,t)},bv(Gb,gy),Gb.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Gy(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=qb(e,null,e.Y),Pb(e)},Gb.prototype.close=function(){Ib(this.g)},Gb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_y(e),e=n);t.j.push(new W_(t.fb++,e)),3==t.H&&Pb(t)},Gb.prototype.N=function(){this.g.h=null,delete this.j,Ib(this.g),delete this.g,Gb.$.N.call(this)},bv(Qb,r_),bv(Yb,i_),bv($b,Wb),$b.prototype.Ba=function(){vy(this.g,"a")},$b.prototype.Aa=function(e){vy(this.g,new Qb(e))},$b.prototype.za=function(e){vy(this.g,new Yb)},$b.prototype.ya=function(){vy(this.g,"b")},bv(Jb,(function(){this.blockSize=-1})),Jb.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jb.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Xb(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Xb(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Xb(this,r),i=0;break}}this.h=i,this.i+=t},Jb.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ew={};function tw(e){return-128<=e&&128>e?function(e,t){var n=ew;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Zb([0|e],0>e?-1:0)})):new Zb([0|e],0>e?-1:0)}function nw(e){if(isNaN(e)||!isFinite(e))return iw;if(0>e)return cw(nw(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=rw;return new Zb(t,0)}var rw=4294967296,iw=tw(0),ow=tw(1),sw=tw(16777216);function aw(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function lw(e){return-1==e.h}function cw(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Zb(n,~e.h).add(ow)}function uw(e,t){return e.add(cw(t))}function hw(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function dw(e,t){this.g=e,this.h=t}function fw(e,t){if(aw(t))throw Error("division by zero");if(aw(e))return new dw(iw,iw);if(lw(e))return t=fw(cw(e),t),new dw(cw(t.g),cw(t.h));if(lw(t))return t=fw(e,cw(t)),new dw(cw(t.g),t.h);if(30<e.g.length){if(lw(e)||lw(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ow,r=t;0>=r.X(e);)n=pw(n),r=pw(r);var i=mw(n,1),o=mw(r,1);for(r=mw(r,2),n=mw(n,2);!aw(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=mw(r,1),n=mw(n,1)}return t=uw(e,i.R(t)),new dw(i,t)}for(i=iw;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=nw(n)).R(t);lw(s)||0<s.X(e);)s=(o=nw(n-=r)).R(t);aw(o)&&(o=ow),i=i.add(o),e=uw(e,s)}return new dw(i,e)}function pw(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Zb(n,e.h)}function mw(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Zb(i,e.h)}(av=Zb.prototype).ea=function(){if(lw(this))return-cw(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:rw+r)*t,t*=rw}return e},av.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(aw(this))return"0";if(lw(this))return"-"+cw(this).toString(e);for(var t=nw(Math.pow(e,6)),n=this,r="";;){var i=fw(n,t).g,o=((0<(n=uw(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(aw(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},av.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},av.X=function(e){return lw(e=uw(this,e))?-1:aw(e)?0:1},av.abs=function(){return lw(this)?cw(this):this},av.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Zb(n,-2147483648&n[n.length-1]?-1:0)},av.R=function(e){if(aw(this)||aw(e))return iw;if(lw(this))return lw(e)?cw(this).R(cw(e)):cw(cw(this).R(e));if(lw(e))return cw(this.R(cw(e)));if(0>this.X(sw)&&0>e.X(sw))return nw(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,hw(n,2*r+2*i),n[2*r+2*i+1]+=o*l,hw(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,hw(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,hw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Zb(n,0)},av.gb=function(e){return fw(this,e).h},av.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Zb(n,this.h&e.h)},av.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Zb(n,this.h|e.h)},av.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Zb(n,this.h^e.h)},Kb.prototype.createWebChannel=Kb.prototype.g,Gb.prototype.send=Gb.prototype.u,Gb.prototype.open=Gb.prototype.m,Gb.prototype.close=Gb.prototype.close,$y.NO_ERROR=0,$y.TIMEOUT=8,$y.HTTP_ERROR=6,Jy.COMPLETE="complete",e_.EventType=n_,n_.OPEN="a",n_.CLOSE="b",n_.ERROR="c",n_.MESSAGE="d",gy.prototype.listen=gy.prototype.O,db.prototype.listenOnce=db.prototype.P,db.prototype.getLastError=db.prototype.Sa,db.prototype.getLastErrorCode=db.prototype.Ia,db.prototype.getStatus=db.prototype.da,db.prototype.getResponseJson=db.prototype.Wa,db.prototype.getResponseText=db.prototype.ja,db.prototype.send=db.prototype.ha,db.prototype.setWithCredentials=db.prototype.Oa,Jb.prototype.digest=Jb.prototype.l,Jb.prototype.reset=Jb.prototype.reset,Jb.prototype.update=Jb.prototype.j,Zb.prototype.add=Zb.prototype.add,Zb.prototype.multiply=Zb.prototype.R,Zb.prototype.modulo=Zb.prototype.gb,Zb.prototype.compare=Zb.prototype.X,Zb.prototype.toNumber=Zb.prototype.ea,Zb.prototype.toString=Zb.prototype.toString,Zb.prototype.getBits=Zb.prototype.D,Zb.fromNumber=nw,Zb.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return cw(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=nw(Math.pow(n,8)),i=iw,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=nw(Math.pow(n,s)),i=i.R(s).add(nw(a))):i=(i=i.R(r)).add(nw(a))}return i};var gw=cv.createWebChannelTransport=function(){return new Kb},vw=cv.getStatEventTarget=function(){return qy()},yw=cv.ErrorCode=$y,_w=cv.EventType=Jy,bw=cv.Event=zy,ww=cv.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ew=cv.FetchXmlHttpFactory=ob,Sw=cv.WebChannel=e_,Cw=cv.XhrIo=db,kw=cv.Md5=Jb,Tw=cv.Integer=Zb;const Iw="@firebase/firestore";class Nw{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nw.UNAUTHENTICATED=new Nw(null),Nw.GOOGLE_CREDENTIALS=new Nw("google-credentials-uid"),Nw.FIRST_PARTY=new Nw("first-party-uid"),Nw.MOCK_USER=new Nw("mock-user");let xw="10.11.1";const Pw=new _t("@firebase/firestore");function Rw(){return Pw.logLevel}function Aw(e){if(Pw.logLevel<=pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lw);Pw.debug("Firestore (".concat(xw,"): ").concat(e),...i)}}function Ow(e){if(Pw.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lw);Pw.error("Firestore (".concat(xw,"): ").concat(e),...i)}}function Dw(e){if(Pw.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lw);Pw.warn("Firestore (".concat(xw,"): ").concat(e),...i)}}function Lw(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Mw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(xw,") INTERNAL ASSERTION FAILED: ")+e;throw Ow(t),new Error(t)}function Fw(e,t){e||Mw()}function Uw(e,t){return e}const jw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vw extends Be{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class zw{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Nw.UNAUTHENTICATED)))}shutdown(){}}class Hw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ww{constructor(e){this.t=e,this.currentUser=Nw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zw;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zw,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Aw("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Aw("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zw)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Aw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fw("string"==typeof t.accessToken),new Bw(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fw(null===e||"string"==typeof e),new Nw(e)}}class Kw{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Nw.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gw{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Kw(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Nw.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Aw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Aw("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Aw("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Aw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Fw("string"==typeof e.token),this.R=e.token,new Qw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $w(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=$w(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Xw(e,t){return e<t?-1:e>t?1:0}function Zw(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class eE{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vw(jw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vw(jw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vw(jw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vw(jw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return eE.fromMillis(Date.now())}static fromDate(e){return eE.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new eE(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xw(this.nanoseconds,e.nanoseconds):Xw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tE{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tE(e)}static min(){return new tE(new eE(0,0))}static max(){return new tE(new eE(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nE{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mw(),void 0===n?n=e.length-t:n>e.length-t&&Mw(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===nE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nE?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rE extends nE{construct(e,t,n){return new rE(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Vw(jw.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new rE(e)}static emptyPath(){return new rE([])}}const iE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oE extends nE{construct(e,t,n){return new oE(e,t,n)}static isValidIdentifier(e){return iE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oE.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oE(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Vw(jw.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Vw(jw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vw(jw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Vw(jw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oE(t)}static emptyPath(){return new oE([])}}class sE{constructor(e){this.path=e}static fromPath(e){return new sE(rE.fromString(e))}static fromName(e){return new sE(rE.fromString(e).popFirst(5))}static empty(){return new sE(rE.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rE.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rE.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sE(new rE(e.slice()))}}class aE{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}aE.UNKNOWN_ID=-1;function lE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=tE.fromTimestamp(1e9===r?new eE(n+1,0):new eE(n,r));return new uE(i,sE.empty(),t)}function cE(e){return new uE(e.readTime,e.key,-1)}class uE{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new uE(tE.min(),sE.empty(),-1)}static max(){return new uE(tE.max(),sE.empty(),-1)}}function hE(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=sE.comparator(e.documentKey,t.documentKey),0!==n?n:Xw(e.largestBatchId,t.largestBatchId))}const dE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pE(e){if(e.code!==jw.FAILED_PRECONDITION||e.message!==dE)throw e;Aw("LocalStore","Unexpectedly lost primary lease")}class mE{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mE(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof mE?t:mE.resolve(t)}catch(e){return mE.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):mE.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):mE.reject(t)}static resolve(e){return new mE(((t,n)=>{t(e)}))}static reject(e){return new mE(((t,n)=>{n(e)}))}static waitFor(e){return new mE(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=mE.resolve(!1);for(const n of e)t=t.next((e=>e?mE.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new mE(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new mE(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function gE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vE(e){return"IndexedDbTransactionError"===e.name}class yE{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function _E(e){return null==e}function bE(e){return 0===e&&1/e==-1/0}function wE(e){return"number"==typeof e&&Number.isInteger(e)&&!bE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}yE.oe=-1;const EE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CE=SE;function kE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function TE(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function IE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class NE{constructor(e,t){this.comparator=e,this.root=t||PE.EMPTY}insert(e,t){return new NE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,PE.BLACK,null,null))}remove(e){return new NE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,PE.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xE(this.root,e,this.comparator,!1)}getReverseIterator(){return new xE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xE(this.root,e,this.comparator,!0)}}class xE{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class PE{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:PE.RED,this.left=null!=r?r:PE.EMPTY,this.right=null!=i?i:PE.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new PE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return PE.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return PE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,PE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,PE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mw();if(this.right.isRed())throw Mw();const e=this.left.check();if(e!==this.right.check())throw Mw();return e+(this.isRed()?0:1)}}PE.EMPTY=null,PE.RED=!0,PE.BLACK=!1,PE.EMPTY=new class{constructor(){this.size=0}get key(){throw Mw()}get value(){throw Mw()}get color(){throw Mw()}get left(){throw Mw()}get right(){throw Mw()}copy(e,t,n,r,i){return this}insert(e,t,n){return new PE(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class RE{constructor(e){this.comparator=e,this.data=new NE(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(e){return new AE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof RE))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new RE(this.comparator);return t.data=e,t}}class AE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class OE{constructor(e){this.fields=e,e.sort(oE.comparator)}static empty(){return new OE([])}unionWith(e){let t=new RE(oE.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new OE(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zw(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class LE{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new DE("Invalid base64 string: "+e):e}}(e);return new LE(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new LE(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}LE.EMPTY_BYTE_STRING=new LE("");const ME=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function FE(e){if(Fw(!!e),"string"==typeof e){let t=0;const n=ME.exec(e);if(Fw(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:UE(e.seconds),nanos:UE(e.nanos)}}function UE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jE(e){return"string"==typeof e?LE.fromBase64String(e):LE.fromUint8Array(e)}function VE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zE(e){const t=e.mapValue.fields.__previous_value__;return VE(t)?zE(t):t}function BE(e){const t=FE(e.mapValue.fields.__local_write_time__.timestampValue);return new eE(t.seconds,t.nanos)}class qE{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class HE{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new HE("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof HE&&e.projectId===this.projectId&&e.database===this.database}}const WE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function KE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?VE(e)?4:oS(e)?9007199254740991:10:Mw()}function GE(e,t){if(e===t)return!0;const n=KE(e);if(n!==KE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return BE(e).isEqual(BE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=FE(e.timestampValue),r=FE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jE(e.bytesValue).isEqual(jE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return UE(e.geoPointValue.latitude)===UE(t.geoPointValue.latitude)&&UE(e.geoPointValue.longitude)===UE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return UE(e.integerValue)===UE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=UE(e.doubleValue),r=UE(t.doubleValue);return n===r?bE(n)===bE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zw(e.arrayValue.values||[],t.arrayValue.values||[],GE);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kE(n)!==kE(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!GE(n[i],r[i])))return!1;return!0}(e,t);default:return Mw()}}function QE(e,t){return void 0!==(e.values||[]).find((e=>GE(e,t)))}function YE(e,t){if(e===t)return 0;const n=KE(e),r=KE(t);if(n!==r)return Xw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=UE(e.integerValue||e.doubleValue),r=UE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $E(e.timestampValue,t.timestampValue);case 4:return $E(BE(e),BE(t));case 5:return Xw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jE(e),r=jE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Xw(n[i],r[i]);if(0!==e)return e}return Xw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Xw(UE(e.latitude),UE(t.latitude));return 0!==n?n:Xw(UE(e.longitude),UE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=YE(n[i],r[i]);if(e)return e}return Xw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===WE.mapValue&&t===WE.mapValue)return 0;if(e===WE.mapValue)return 1;if(t===WE.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Xw(r[s],o[s]);if(0!==e)return e;const t=YE(n[r[s]],i[o[s]]);if(0!==t)return t}return Xw(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Mw()}}function $E(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xw(e,t);const n=FE(e),r=FE(t),i=Xw(n.seconds,r.seconds);return 0!==i?i:Xw(n.nanos,r.nanos)}function JE(e){return XE(e)}function XE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=FE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return jE(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return sE.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=XE(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(XE(e.fields[i]));return n+"}"}(e.mapValue):Mw()}function ZE(e){return!!e&&"integerValue"in e}function eS(e){return!!e&&"arrayValue"in e}function tS(e){return!!e&&"nullValue"in e}function nS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rS(e){return!!e&&"mapValue"in e}function iS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return TE(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=iS(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=iS(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class sS{constructor(e){this.value=e}static empty(){return new sS({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!rS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iS(t)}setAll(e){let t=oE.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=iS(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());rS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return GE(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){TE(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new sS(iS(this.value))}}function aS(e){const t=[];return TE(e.fields,((e,n)=>{const r=new oE([e]);if(rS(n)){const e=aS(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new OE(t)}class lS{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new lS(e,0,tE.min(),tE.min(),tE.min(),sS.empty(),0)}static newFoundDocument(e,t,n,r){return new lS(e,1,t,tE.min(),n,r,0)}static newNoDocument(e,t){return new lS(e,2,t,tE.min(),tE.min(),sS.empty(),0)}static newUnknownDocument(e,t){return new lS(e,3,t,tE.min(),tE.min(),sS.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sS.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sS.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lS&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lS(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class cS{constructor(e,t){this.position=e,this.inclusive=t}}function uS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?sE.comparator(sE.fromName(s.referenceValue),n.key):YE(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function hS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!GE(e.position[n],t.position[n]))return!1;return!0}class dS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class pS{}class mS extends pS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new SS(e,t,n):"array-contains"===t?new IS(e,n):"in"===t?new NS(e,n):"not-in"===t?new xS(e,n):"array-contains-any"===t?new PS(e,n):new mS(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new CS(e,n):new kS(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(YE(t,this.value)):null!==t&&KE(this.value)===KE(t)&&this.matchesComparison(YE(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mw()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gS extends pS{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new gS(e,t)}matches(e){return vS(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vS(e){return"and"===e.op}function yS(e){return _S(e)&&vS(e)}function _S(e){for(const t of e.filters)if(t instanceof gS)return!1;return!0}function bS(e){if(e instanceof mS)return e.field.canonicalString()+e.op.toString()+JE(e.value);if(yS(e))return e.filters.map((e=>bS(e))).join(",");{const t=e.filters.map((e=>bS(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function wS(e,t){return e instanceof mS?function(e,t){return t instanceof mS&&e.op===t.op&&e.field.isEqual(t.field)&&GE(e.value,t.value)}(e,t):e instanceof gS?function(e,t){return t instanceof gS&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&wS(n,t.filters[r])),!0)}(e,t):void Mw()}function ES(e){return e instanceof mS?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(JE(e.value))}(e):e instanceof gS?function(e){return e.op.toString()+" {"+e.getFilters().map(ES).join(" ,")+"}"}(e):"Filter"}class SS extends mS{constructor(e,t,n){super(e,t,n),this.key=sE.fromName(n.referenceValue)}matches(e){const t=sE.comparator(e.key,this.key);return this.matchesComparison(t)}}class CS extends mS{constructor(e,t){super(e,"in",t),this.keys=TS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kS extends mS{constructor(e,t){super(e,"not-in",t),this.keys=TS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function TS(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>sE.fromName(e.referenceValue)))}class IS extends mS{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eS(t)&&QE(t.arrayValue,this.value)}}class NS extends mS{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&QE(this.value.arrayValue,t)}}class xS extends mS{constructor(e,t){super(e,"not-in",t)}matches(e){if(QE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!QE(this.value.arrayValue,t)}}class PS extends mS{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eS(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>QE(this.value.arrayValue,e)))}}class RS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function AS(e){return new RS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function OS(e){const t=Uw(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bS(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),_E(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>JE(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>JE(e))).join(",")),t.ue=e}return t.ue}function DS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hS(e.startAt,t.startAt)&&hS(e.endAt,t.endAt)}function LS(e){return sE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class MS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FS(e,t,n,r,i,o,s,a){return new MS(e,t,n,r,i,o,s,a)}function US(e){return new MS(e)}function jS(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function VS(e){return null!==e.collectionGroup}function zS(e){const t=Uw(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new RE(oE.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new dS(r,n))})),e.has(oE.keyField().canonicalString())||t.ce.push(new dS(oE.keyField(),n))}return t.ce}function BS(e){const t=Uw(e);return t.le||(t.le=qS(t,zS(e))),t.le}function qS(e,t){if("F"===e.limitType)return AS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new dS(e.field,t)}));const n=e.endAt?new cS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new cS(e.startAt.position,e.startAt.inclusive):null;return AS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function HS(e,t,n){return new MS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function WS(e,t){return DS(BS(e),BS(t))&&e.limitType===t.limitType}function KS(e){return"".concat(OS(BS(e)),"|lt:").concat(e.limitType)}function GS(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ES(e))).join(", "),"]")),_E(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>JE(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>JE(e))).join(",")),"Target(".concat(t,")")}(BS(e)),"; limitType=").concat(e.limitType,")")}function QS(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zS(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=uS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zS(e),t))&&!(e.endAt&&!function(e,t,n){const r=uS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zS(e),t))}(e,t)}function YS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $S(e){return(t,n)=>{let r=!1;for(const i of zS(e)){const e=JS(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function JS(e,t,n){const r=e.field.isKeyField()?sE.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?YE(r,i):Mw()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mw()}}class XS{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){TE(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const ZS=new NE(sE.comparator);function eC(){return ZS}const tC=new NE(sE.comparator);function nC(){let e=tC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function rC(e){let t=tC;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function iC(){return sC()}function oC(){return sC()}function sC(){return new XS((e=>e.toString()),((e,t)=>e.isEqual(t)))}const aC=new NE(sE.comparator),lC=new RE(sE.comparator);function cC(){let e=lC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const uC=new RE(Xw);function hC(){return uC}function dC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bE(t)?"-0":t}}function fC(e){return{integerValue:""+e}}function pC(e,t){return wE(t)?fC(t):dC(e,t)}class mC{constructor(){this._=void 0}}function gC(e,t,n){return e instanceof _C?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&VE(t)&&(t=zE(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bC?wC(e,t):e instanceof EC?SC(e,t):function(e,t){const n=yC(e,t),r=kC(n)+kC(e.Pe);return ZE(n)&&ZE(e.Pe)?fC(r):dC(e.serializer,r)}(e,t)}function vC(e,t,n){return e instanceof bC?wC(e,t):e instanceof EC?SC(e,t):n}function yC(e,t){return e instanceof CC?function(e){return ZE(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class _C extends mC{}class bC extends mC{constructor(e){super(),this.elements=e}}function wC(e,t){const n=TC(t);for(const r of e.elements)n.some((e=>GE(e,r)))||n.push(r);return{arrayValue:{values:n}}}class EC extends mC{constructor(e){super(),this.elements=e}}function SC(e,t){let n=TC(t);for(const r of e.elements)n=n.filter((e=>!GE(e,r)));return{arrayValue:{values:n}}}class CC extends mC{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function kC(e){return UE(e.integerValue||e.doubleValue)}function TC(e){return eS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class IC{constructor(e,t){this.version=e,this.transformResults=t}}class NC{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new NC}static exists(e){return new NC(void 0,e)}static updateTime(e){return new NC(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class PC{}function RC(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zC(e.key,NC.none()):new MC(e.key,e.data,NC.none());{const n=e.data,r=sS.empty();let i=new RE(oE.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new FC(e.key,r,new OE(i.toArray()),NC.none())}}function AC(e,t,n){e instanceof MC?function(e,t,n){const r=e.value.clone(),i=jC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof FC?function(e,t,n){if(!xC(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(UC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function OC(e,t,n,r){return e instanceof MC?function(e,t,n,r){if(!xC(e.precondition,t))return n;const i=e.value.clone(),o=VC(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof FC?function(e,t,n,r){if(!xC(e.precondition,t))return n;const i=VC(e.fieldTransforms,r,t),o=t.data;return o.setAll(UC(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return xC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function DC(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yC(r.transform,e||null);null!=i&&(null===n&&(n=sS.empty()),n.set(r.field,i))}return n||null}function LC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zw(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bC&&t instanceof bC||e instanceof EC&&t instanceof EC?Zw(e.elements,t.elements,GE):e instanceof CC&&t instanceof CC?GE(e.Pe,t.Pe):e instanceof _C&&t instanceof _C}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class MC extends PC{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class FC extends PC{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function UC(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function jC(e,t,n){const r=new Map;Fw(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,vC(s,a,n[i]))}return r}function VC(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,gC(e,o,t))}return r}class zC extends PC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BC extends PC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qC{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&AC(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=OC(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=OC(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=oC();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=RC(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(tE.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),cC())}isEqual(e){return this.batchId===e.batchId&&Zw(this.mutations,e.mutations,((e,t)=>LC(e,t)))&&Zw(this.baseMutations,e.baseMutations,((e,t)=>LC(e,t)))}}class HC{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fw(e.mutations.length===n.length);let r=aC;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new HC(e,t,n,r)}}class WC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class KC{constructor(e,t){this.count=e,this.unchangedNames=t}}var GC,QC;function YC(e){switch(e){default:return Mw();case jw.CANCELLED:case jw.UNKNOWN:case jw.DEADLINE_EXCEEDED:case jw.RESOURCE_EXHAUSTED:case jw.INTERNAL:case jw.UNAVAILABLE:case jw.UNAUTHENTICATED:return!1;case jw.INVALID_ARGUMENT:case jw.NOT_FOUND:case jw.ALREADY_EXISTS:case jw.PERMISSION_DENIED:case jw.FAILED_PRECONDITION:case jw.ABORTED:case jw.OUT_OF_RANGE:case jw.UNIMPLEMENTED:case jw.DATA_LOSS:return!0}}function $C(e){if(void 0===e)return Ow("GRPC error has no .code"),jw.UNKNOWN;switch(e){case GC.OK:return jw.OK;case GC.CANCELLED:return jw.CANCELLED;case GC.UNKNOWN:return jw.UNKNOWN;case GC.DEADLINE_EXCEEDED:return jw.DEADLINE_EXCEEDED;case GC.RESOURCE_EXHAUSTED:return jw.RESOURCE_EXHAUSTED;case GC.INTERNAL:return jw.INTERNAL;case GC.UNAVAILABLE:return jw.UNAVAILABLE;case GC.UNAUTHENTICATED:return jw.UNAUTHENTICATED;case GC.INVALID_ARGUMENT:return jw.INVALID_ARGUMENT;case GC.NOT_FOUND:return jw.NOT_FOUND;case GC.ALREADY_EXISTS:return jw.ALREADY_EXISTS;case GC.PERMISSION_DENIED:return jw.PERMISSION_DENIED;case GC.FAILED_PRECONDITION:return jw.FAILED_PRECONDITION;case GC.ABORTED:return jw.ABORTED;case GC.OUT_OF_RANGE:return jw.OUT_OF_RANGE;case GC.UNIMPLEMENTED:return jw.UNIMPLEMENTED;case GC.DATA_LOSS:return jw.DATA_LOSS;default:return Mw()}}(QC=GC||(GC={}))[QC.OK=0]="OK",QC[QC.CANCELLED=1]="CANCELLED",QC[QC.UNKNOWN=2]="UNKNOWN",QC[QC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",QC[QC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",QC[QC.NOT_FOUND=5]="NOT_FOUND",QC[QC.ALREADY_EXISTS=6]="ALREADY_EXISTS",QC[QC.PERMISSION_DENIED=7]="PERMISSION_DENIED",QC[QC.UNAUTHENTICATED=16]="UNAUTHENTICATED",QC[QC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",QC[QC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",QC[QC.ABORTED=10]="ABORTED",QC[QC.OUT_OF_RANGE=11]="OUT_OF_RANGE",QC[QC.UNIMPLEMENTED=12]="UNIMPLEMENTED",QC[QC.INTERNAL=13]="INTERNAL",QC[QC.UNAVAILABLE=14]="UNAVAILABLE",QC[QC.DATA_LOSS=15]="DATA_LOSS";let JC=null;function XC(){return new TextEncoder}const ZC=new Tw([4294967295,4294967295],0);function ek(e){const t=XC().encode(e),n=new kw;return n.update(t),new Uint8Array(n.digest())}function tk(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Tw([n,r],0),new Tw([i,o],0)]}class nk{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rk("Invalid padding: ".concat(t));if(n<0)throw new rk("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new rk("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new rk("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Tw.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Tw.fromNumber(n)));return 1===r.compare(ZC)&&(r=new Tw([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=ek(e),[n,r]=tk(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new nk(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=ek(e),[n,r]=tk(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rk extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ik{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ok.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ik(tE.min(),r,new NE(Xw),eC(),cC())}}class ok{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ok(n,t,cC(),cC(),cC())}}class sk{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class ak{constructor(e,t){this.targetId=e,this.me=t}}class lk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LE.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ck{constructor(){this.fe=0,this.ge=dk(),this.pe=LE.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=cC(),t=cC(),n=cC();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mw()}})),new ok(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=dk()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fw(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uk{constructor(e){this.Le=e,this.Be=new Map,this.ke=eC(),this.qe=hk(),this.Qe=new NE(Xw)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Mw()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(LS(i))if(0===n){const e=new sE(i.path);this.Ue(t,e,lS.newNoDocument(e,tE.min()))}else Fw(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==JC||JC.et(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=jE(n).toUint8Array()}catch(e){if(e instanceof DE)return Dw("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new nk(o,r,i)}catch(e){return Dw(e instanceof rk?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&LS(i.target)){const t=new sE(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,lS.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=cC();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new ik(e,t,this.Qe,this.ke,n);return this.ke=eC(),this.qe=hk(),this.Qe=new NE(Xw),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ck,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new RE(Xw),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Aw("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ck),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function hk(){return new NE(sE.comparator)}function dk(){return new NE(sE.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class gk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vk(e,t){return e.useProto3Json||_E(t)?t:{value:t}}function yk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _k(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bk(e,t){return yk(e,t.toTimestamp())}function wk(e){return Fw(!!e),tE.fromTimestamp(function(e){const t=FE(e);return new eE(t.seconds,t.nanos)}(e))}function Ek(e,t){return Sk(e,t).canonicalString()}function Sk(e,t){const n=function(e){return new rE(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ck(e){const t=rE.fromString(e);return Fw(Hk(t)),t}function kk(e,t){return Ek(e.databaseId,t.path)}function Tk(e,t){const n=Ck(t);if(n.get(1)!==e.databaseId.projectId)throw new Vw(jw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vw(jw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sE(Pk(n))}function Ik(e,t){return Ek(e.databaseId,t)}function Nk(e){const t=Ck(e);return 4===t.length?rE.emptyPath():Pk(t)}function xk(e){return new rE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pk(e){return Fw(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Rk(e,t,n){return{name:kk(e,t),fields:n.value.mapValue.fields}}function Ak(e,t){let n;if(t instanceof MC)n={update:Rk(e,t.key,t.value)};else if(t instanceof zC)n={delete:kk(e,t.key)};else if(t instanceof FC)n={update:Rk(e,t.key,t.data),updateMask:qk(t.fieldMask)};else{if(!(t instanceof BC))return Mw();n={verify:kk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof _C)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof EC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof CC)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Mw()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mw()}(e,t.precondition)),n}function Ok(e,t){return{documents:[Ik(e,t.path)]}}function Dk(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ik(e,i);const o=function(e){if(0!==e.length)return Bk(gS.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Vk(e.field),direction:Fk(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=vk(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Lk(e){let t=Nk(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fw(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Mk(e);return t instanceof gS&&yS(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new dS(zk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,_E(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new cS(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new cS(n,t)}(n.endAt)),FS(t,i,s,o,a,"F",l,c)}function Mk(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zk(e.unaryFilter.field);return mS.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=zk(e.unaryFilter.field);return mS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zk(e.unaryFilter.field);return mS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zk(e.unaryFilter.field);return mS.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mw()}}(e):void 0!==e.fieldFilter?function(e){return mS.create(zk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mw()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return gS.create(e.compositeFilter.filters.map((e=>Mk(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mw()}}(e.compositeFilter.op))}(e):Mw()}function Fk(e){return fk[e]}function Uk(e){return pk[e]}function jk(e){return mk[e]}function Vk(e){return{fieldPath:e.canonicalString()}}function zk(e){return oE.fromServerFormat(e.fieldPath)}function Bk(e){return e instanceof mS?function(e){if("=="===e.op){if(nS(e.value))return{unaryFilter:{field:Vk(e.field),op:"IS_NAN"}};if(tS(e.value))return{unaryFilter:{field:Vk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nS(e.value))return{unaryFilter:{field:Vk(e.field),op:"IS_NOT_NAN"}};if(tS(e.value))return{unaryFilter:{field:Vk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vk(e.field),op:Uk(e.op),value:e.value}}}(e):e instanceof gS?function(e){const t=e.getFilters().map((e=>Bk(e)));return 1===t.length?t[0]:{compositeFilter:{op:jk(e.op),filters:t}}}(e):Mw()}function qk(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Hk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wk{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tE.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:LE.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Wk(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wk(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wk(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wk(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kk{constructor(e){this.ut=e}}function Gk(e){const t=Lk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?HS(t,t.limit,"L"):t}class Qk{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(UE(e.integerValue));else if("doubleValue"in e){const n=UE(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),bE(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=FE(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(jE(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?oS(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Mw()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),sE.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Qk.St=new Qk;class Yk{constructor(){this.on=new $k}addToCollectionParentIndex(e,t){return this.on.add(t),mE.resolve()}getCollectionParents(e,t){return mE.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return mE.resolve()}deleteFieldIndex(e,t){return mE.resolve()}deleteAllFieldIndexes(e){return mE.resolve()}createTargetIndexes(e,t){return mE.resolve()}getDocumentsMatchingTarget(e,t){return mE.resolve(null)}getIndexType(e,t){return mE.resolve(0)}getFieldIndexes(e,t){return mE.resolve([])}getNextCollectionGroupToUpdate(e){return mE.resolve(null)}getMinOffset(e,t){return mE.resolve(uE.min())}getMinOffsetFromCollectionGroup(e,t){return mE.resolve(uE.min())}updateCollectionGroup(e,t,n){return mE.resolve()}updateIndexEntries(e,t){return mE.resolve()}}class $k{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new RE(rE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new RE(rE.comparator)).toArray()}}new Uint8Array(0);class Jk{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jk(e,Jk.DEFAULT_COLLECTION_PERCENTILE,Jk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jk.DEFAULT_COLLECTION_PERCENTILE=10,Jk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jk.DEFAULT=new Jk(41943040,Jk.DEFAULT_COLLECTION_PERCENTILE,Jk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jk.DISABLED=new Jk(-1,0,0);class Xk{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Xk(0)}static Nn(){return new Xk(-1)}}class Zk{constructor(){this.changes=new XS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lS.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?mE.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tT{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&OC(n.mutation,e,OE.empty(),eE.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,cC()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cC();const r=iC();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=nC();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=iC();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,cC())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=eC();const o=sC(),s=sC();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof FC)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),OC(s.mutation,t,s.mutation.getFieldMask(),eE.now())):o.set(t.key,OE.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new eT(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=sC();let r=new NE(((e,t)=>e-t)),i=cC();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||OE.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||cC()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=oC();l.forEach((e=>{if(!i.has(e)){const r=RC(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return mE.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return sE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):mE.resolve(iC());let s=-1,a=i;return o.next((t=>mE.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?mE.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,cC()))).next((e=>({batchId:s,changes:rC(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sE(t)).next((e=>{let t=nC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=nC();return this.indexManager.getCollectionParents(e,i).next((s=>mE.forEach(s,(s=>{const a=function(e,t){return new MS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,lS.newInvalidDocument(r)))}));let n=nC();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&OC(o.mutation,r,OE.empty(),eE.now()),QS(t,r)&&(n=n.insert(e,r))})),n}))}}class nT{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return mE.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wk(e.createTime)}}(t)),mE.resolve()}getNamedQuery(e,t){return mE.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Gk(e.bundledQuery),readTime:wk(e.readTime)}}(t)),mE.resolve()}}class rT{constructor(){this.overlays=new NE(sE.comparator),this.lr=new Map}getOverlay(e,t){return mE.resolve(this.overlays.get(t))}getOverlays(e,t){const n=iC();return mE.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),mE.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),mE.resolve()}getOverlaysForCollection(e,t,n){const r=iC(),i=t.length+1,o=new sE(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return mE.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new NE(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=iC(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=iC(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return mE.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new WC(t,n));let i=this.lr.get(t);void 0===i&&(i=cC(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class iT{constructor(){this.hr=new RE(oT.Pr),this.Ir=new RE(oT.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new oT(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new oT(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new sE(new rE([])),n=new oT(t,e),r=new oT(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new sE(new rE([])),n=new oT(t,e),r=new oT(t,e+1);let i=cC();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new oT(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class oT{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return sE.comparator(e.key,t.key)||Xw(e.gr,t.gr)}static Tr(e,t){return Xw(e.gr,t.gr)||sE.comparator(e.key,t.key)}}class sT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new RE(oT.Pr)}checkEmpty(e){return mE.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qC(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new oT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return mE.resolve(o)}lookupMutationBatch(e,t){return mE.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return mE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return mE.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return mE.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new oT(t,0),r=new oT(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),mE.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new RE(Xw);return t.forEach((e=>{const t=new oT(e,0),r=new oT(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),mE.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;sE.isDocumentKey(i)||(i=i.child(""));const o=new oT(new sE(i),0);let s=new RE(Xw);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),mE.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Fw(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return mE.forEach(t.mutations,(r=>{const i=new oT(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new oT(t,0),r=this.yr.firstAfterOrEqual(n);return mE.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,mE.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aT{constructor(e){this.Cr=e,this.docs=new NE(sE.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return mE.resolve(n?n.document.mutableCopy():lS.newInvalidDocument(t))}getEntries(e,t){let n=eC();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():lS.newInvalidDocument(e))})),mE.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=eC();const o=t.path,s=new sE(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||hE(cE(s),n)<=0||(r.has(s.key)||QS(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return mE.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mw()}vr(e,t){return mE.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new lT(this)}getSize(e){return mE.resolve(this.size)}}class lT extends Zk{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),mE.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class cT{constructor(e){this.persistence=e,this.Fr=new XS((e=>OS(e)),DS),this.lastRemoteSnapshotVersion=tE.min(),this.highestTargetId=0,this.Mr=0,this.Or=new iT,this.targetCount=0,this.Nr=Xk.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),mE.resolve()}getLastRemoteSnapshotVersion(e){return mE.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mE.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),mE.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),mE.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Xk(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,mE.resolve()}updateTargetData(e,t){return this.kn(t),mE.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,mE.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),mE.waitFor(i).next((()=>r))}getTargetCount(e){return mE.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return mE.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),mE.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),mE.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),mE.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return mE.resolve(n)}containsKey(e,t){return mE.resolve(this.Or.containsKey(t))}}class uT{constructor(e,t){this.Lr={},this.overlays={},this.Br=new yE(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new cT(this),this.indexManager=new Yk,this.remoteDocumentCache=function(e){return new aT(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Kk(t),this.Kr=new nT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new sT(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Aw("MemoryPersistence","Starting transaction:",e);const r=new hT(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return mE.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class hT extends fE{constructor(e){super(),this.currentSequenceNumber=e}}class dT{constructor(e){this.persistence=e,this.Gr=new iT,this.zr=null}static jr(e){return new dT(e)}get Hr(){if(this.zr)return this.zr;throw Mw()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),mE.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),mE.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),mE.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mE.forEach(this.Hr,(n=>{const r=sE.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,tE.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return mE.or([()=>mE.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class fT{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=cC(),r=cC();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new fT(e,t.fromCache,n,r)}}class pT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mT{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=Ve()?8:gE(Me())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new pT;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Rw()<=pt.DEBUG&&Aw("QueryEngine","SDK will not create cache indexes for query:",GS(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),mE.resolve()):(Rw()<=pt.DEBUG&&Aw("QueryEngine","Query:",GS(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Rw()<=pt.DEBUG&&Aw("QueryEngine","The SDK decides to create cache indexes for query:",GS(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,BS(t))):mE.resolve())}zi(e,t){if(jS(t))return mE.resolve(null);let n=BS(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=HS(t,null,"F"),n=BS(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=cC(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,HS(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return jS(t)||r.isEqual(tE.min())?mE.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?mE.resolve(null):(Rw()<=pt.DEBUG&&Aw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),GS(t)),this.Xi(e,o,t,lE(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new RE($S(e));return t.forEach(((t,r)=>{QS(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Rw()<=pt.DEBUG&&Aw("QueryEngine","Using full collection scan to execute query:",GS(t)),this.Gi.getDocumentsMatchingQuery(e,t,uE.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class gT{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new NE(Xw),this.ns=new XS((e=>OS(e)),DS),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tT(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function vT(e,t,n,r){return new gT(e,t,n,r)}async function yT(e,t){const n=Uw(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=cC();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function _T(e){const t=Uw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function bT(e,t,n){let r=cC(),i=cC();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=eC();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(tE.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Aw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function wT(e,t){const n=Uw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ET(e,t){const n=Uw(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,mE.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new Wk(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function ST(e,t,n){const r=Uw(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!vE(e))throw e;Aw("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function CT(e,t,n){const r=Uw(e);let i=tE.min(),o=cC();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Uw(e),i=r.ns.get(n);return void 0!==i?mE.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,BS(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:tE.min(),n?o:cC()))).next((e=>(kT(r,YS(t),e),{documents:e,ls:o})))))}function kT(e,t,n){let r=e.rs.get(t)||tE.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}class TT{constructor(){this.activeTargetIds=hC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IT{constructor(){this.eo=new TT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new TT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NT{ro(e){}shutdown(){}}class xT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Aw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Aw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let PT=null;function RT(){return null===PT?PT=268435456+Math.round(2147483648*Math.random()):PT++,"0x"+PT.toString(16)}const AT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OT{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const DT="WebChannelConnection";class LT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const o=RT(),s=this.Co(e,t.toUriEncodedString());Aw("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(a,r,i),this.Fo(e,s,a,n).then((t=>(Aw("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Dw("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Mo(e,t,n,r,i,o){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=AT[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=RT();return new Promise(((o,s)=>{const a=new Cw;a.setWithCredentials(!0),a.listenOnce(_w.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case yw.NO_ERROR:const t=a.getResponseJson();Aw(DT,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case yw.TIMEOUT:Aw(DT,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Vw(jw.DEADLINE_EXCEEDED,"Request time out"));break;case yw.HTTP_ERROR:const n=a.getStatus();if(Aw(DT,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jw).indexOf(t)>=0?t:jw.UNKNOWN}(t.status);s(new Vw(e,t.message))}else s(new Vw(jw.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Vw(jw.UNAVAILABLE,"Connection failed."));break;default:Mw()}}finally{Aw(DT,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Aw(DT,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}xo(e,t,n){const r=RT(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gw(),s=vw(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ew({})),this.vo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Aw(DT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new OT({co:t=>{d?Aw(DT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Aw(DT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Aw(DT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Sw.EventType.OPEN,(()=>{d||(Aw(DT,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,Sw.EventType.CLOSE,(()=>{d||(d=!0,Aw(DT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,Sw.EventType.ERROR,(t=>{d||(d=!0,Dw(DT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new Vw(jw.UNAVAILABLE,"The operation could not be completed")))})),p(u,Sw.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Fw(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Aw(DT,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=GC[e];if(void 0!==t)return $C(t)}(t),i=s.message;void 0===n&&(n=jw.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.fo(new Vw(n,i)),u.close()}else Aw(DT,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(s,bw.STAT_EVENT,(t=>{t.stat===ww.PROXY?Aw(DT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ww.NOPROXY&&Aw(DT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function MT(){return"undefined"!=typeof document?document:null}function FT(e){return new gk(e,!0)}class UT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&Aw("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class jT{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new UT(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===jw.RESOURCE_EXHAUSTED?(Ow(t.toString()),Ow("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===jw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new Vw(jw.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return Aw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(Aw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VT extends jT{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mw()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Fw(void 0===t||"string"==typeof t),LE.fromBase64String(t||"")):(Fw(void 0===t||t instanceof Buffer||t instanceof Uint8Array),LE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?jw.UNKNOWN:$C(e.code);return new Vw(t,e.message||"")}(s);n=new lk(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tk(e,r.document.name),o=wk(r.document.updateTime),s=r.document.createTime?wk(r.document.createTime):tE.min(),a=new sS({mapValue:{fields:r.document.fields}}),l=lS.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sk(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Tk(e,r.document),o=r.readTime?wk(r.readTime):tE.min(),s=lS.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sk([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Tk(e,r.document),o=r.removedTargetIds||[];n=new sk([],o,i,null)}else{if(!("filter"in t))return Mw();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new KC(r,i),s=e.targetId;n=new ak(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return tE.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?tE.min():t.readTime?wk(t.readTime):tE.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=xk(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=LS(r)?{documents:Ok(e,r)}:{query:Dk(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=_k(e,t.resumeToken);const r=vk(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(tE.min())>0){n.readTime=yk(e,t.snapshotVersion.toTimestamp());const r=vk(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mw()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=xk(this.serializer),t.removeTarget=e,this.r_(t)}}class zT extends jT{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Fw(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(Fw(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?wk(e.updateTime):wk(t);return n.isEqual(tE.min())&&(n=wk(t)),new IC(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=wk(e.commitTime);return this.listener.d_(n,t)}return Fw(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=xk(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ak(this.serializer,e)))};this.r_(t)}}class BT extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new Vw(jw.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Do(e,Sk(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===jw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vw(jw.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Mo(e,Sk(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===jw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vw(jw.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class qT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Ow(t),this.y_=!1):Aw("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class HT{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{ZT(this)&&(Aw("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Uw(e);t.M_.add(4),await KT(t),t.N_.set("Unknown"),t.M_.delete(4),await WT(t)}(this))}))})),this.N_=new qT(n,r)}}async function WT(e){if(ZT(e))for(const t of e.x_)await t(!0)}async function KT(e){for(const t of e.x_)await t(!1)}function GT(e,t){const n=Uw(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),XT(n)?JT(n):yI(n).Zo()&&YT(n,t))}function QT(e,t){const n=Uw(e),r=yI(n);n.F_.delete(t),r.Zo()&&$T(n,t),0===n.F_.size&&(r.Zo()?r.t_():ZT(n)&&n.N_.set("Unknown"))}function YT(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tE.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yI(e).h_(t)}function $T(e,t){e.L_.xe(t),yI(e).P_(t)}function JT(e){e.L_=new uk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),yI(e).start(),e.N_.w_()}function XT(e){return ZT(e)&&!yI(e).Yo()&&e.F_.size>0}function ZT(e){return 0===Uw(e).M_.size}function eI(e){e.L_=void 0}async function tI(e){e.N_.set("Online")}async function nI(e){e.F_.forEach(((t,n)=>{YT(e,t)}))}async function rI(e,t){eI(e),XT(e)?(e.N_.D_(t),JT(e)):e.N_.set("Unknown")}async function iI(e,t,n){if(e.N_.set("Online"),t instanceof lk&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Aw("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await oI(e,n)}else if(t instanceof sk?e.L_.Ke(t):t instanceof ak?e.L_.He(t):e.L_.We(t),!n.isEqual(tE.min()))try{const t=await _T(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(LE.EMPTY_BYTE_STRING,r.snapshotVersion)),$T(e,t);const i=new Wk(r.target,t,n,r.sequenceNumber);YT(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Aw("RemoteStore","Failed to raise snapshot:",t),await oI(e,t)}}async function oI(e,t,n){if(!vE(t))throw t;e.M_.add(1),await KT(e),e.N_.set("Offline"),n||(n=()=>_T(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Aw("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await WT(e)}))}function sI(e,t){return t().catch((n=>oI(e,n,t)))}async function aI(e){const t=Uw(e),n=_I(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;lI(t);)try{const e=await wT(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,cI(t,e)}catch(e){await oI(t,e)}uI(t)&&hI(t)}function lI(e){return ZT(e)&&e.v_.length<10}function cI(e,t){e.v_.push(t);const n=_I(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function uI(e){return ZT(e)&&!_I(e).Yo()&&e.v_.length>0}function hI(e){_I(e).start()}async function dI(e){_I(e).R_()}async function fI(e){const t=_I(e);for(const n of e.v_)t.E_(n.mutations)}async function pI(e,t,n){const r=e.v_.shift(),i=HC.from(r,t,n);await sI(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await aI(e)}async function mI(e,t){t&&_I(e).T_&&await async function(e,t){if(function(e){return YC(e)&&e!==jw.ABORTED}(t.code)){const n=e.v_.shift();_I(e).e_(),await sI(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await aI(e)}}(e,t),uI(e)&&hI(e)}async function gI(e,t){const n=Uw(e);n.asyncQueue.verifyOperationInProgress(),Aw("RemoteStore","RemoteStore received new credentials");const r=ZT(n);n.M_.add(3),await KT(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await WT(n)}async function vI(e,t){const n=Uw(e);t?(n.M_.delete(2),await WT(n)):t||(n.M_.add(2),await KT(n),n.N_.set("Unknown"))}function yI(e){return e.B_||(e.B_=function(e,t,n){const r=Uw(e);return r.m_(),new VT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:tI.bind(null,e),Io:nI.bind(null,e),Eo:rI.bind(null,e),l_:iI.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),XT(e)?JT(e):e.N_.set("Unknown")):(await e.B_.stop(),eI(e))}))),e.B_}function _I(e){return e.k_||(e.k_=function(e,t,n){const r=Uw(e);return r.m_(),new zT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:dI.bind(null,e),Eo:mI.bind(null,e),A_:fI.bind(null,e),d_:pI.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await aI(e)):(await e.k_.stop(),e.v_.length>0&&(Aw("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class bI{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new bI(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vw(jw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wI(e,t){if(Ow("AsyncQueue","".concat(t,": ").concat(e)),vE(e))return new Vw(jw.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class EI{constructor(e){this.comparator=e?(t,n)=>e(t,n)||sE.comparator(t.key,n.key):(e,t)=>sE.comparator(e.key,t.key),this.keyedMap=nC(),this.sortedSet=new NE(this.comparator)}static emptySet(e){return new EI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof EI))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new EI;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class SI{constructor(){this.q_=new NE(sE.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Mw():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class CI{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new CI(e,t,EI.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&WS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kI{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class TI{constructor(){this.queries=new XS((e=>KS(e)),WS),this.onlineState="Unknown",this.z_=new Set}}async function II(e,t){const n=Uw(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new kI,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=wI(e,"Initialization of query '".concat(GS(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&RI(n)}async function NI(e,t){const n=Uw(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xI(e,t){const n=Uw(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&RI(n)}function PI(e,t,n){const r=Uw(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function RI(e){e.z_.forEach((e=>{e.next()}))}var AI,OI;(OI=AI||(AI={})).J_="default",OI.Cache="cache";class DI{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new CI(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=CI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==AI.Cache}}class LI{constructor(e){this.key=e}}class MI{constructor(e){this.key=e}}class FI{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=cC(),this.mutatedKeys=cC(),this.Ia=$S(e),this.Ta=new EI(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new SI,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=QS(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Zi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mw()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==o.length||l?{snapshot:new CI(this.query,e.Ta,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new SI,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=cC(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new MI(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new LI(n))})),t}pa(e){this.la=e.ls,this.Pa=cC();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return CI.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class UI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jI{constructor(e){this.key=e,this.wa=!1}}class VI{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new XS((e=>KS(e)),WS),this.Da=new Map,this.Ca=new Set,this.va=new NE(sE.comparator),this.Fa=new Map,this.Ma=new iT,this.xa={},this.Oa=new Map,this.Na=Xk.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function zI(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=lN(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await qI(r,t,n,!0),i}async function BI(e,t){const n=lN(e);await qI(n,t,!0,!1)}async function qI(e,t,n,r){const i=await ET(e.localStore,BS(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await HI(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&GT(e.remoteStore,i),a}async function HI(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await CT(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return nN(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await CT(e.localStore,t,!0),s=new FI(t,o.ls),a=s.da(o.documents),l=ok.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);nN(e,n,c.fa);const u=new UI(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function WI(e,t,n){const r=Uw(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!WS(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ST(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&QT(r.remoteStore,i.targetId),eN(r,i.targetId)})).catch(pE)):(eN(r,i.targetId),await ST(r.localStore,i.targetId,!0))}async function KI(e,t){const n=Uw(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),QT(n.remoteStore,r.targetId))}async function GI(e,t){const n=Uw(e);try{const e=await function(e,t){const n=Uw(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(LE.EMPTY_BYTE_STRING,tE.min()).withLastLimboFreeSnapshotVersion(tE.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=eC(),l=cC();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(bT(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(tE.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return mE.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Fw(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Fw(r.wa):e.removedDocuments.size>0&&(Fw(r.wa),r.wa=!1))})),await oN(n,e,t)}catch(e){await pE(e)}}function QI(e,t,n){const r=Uw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Uw(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&RI(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function YI(e,t,n){const r=Uw(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new NE(sE.comparator);e=e.insert(o,lS.newNoDocument(o,tE.min()));const n=cC().add(o),i=new ik(tE.min(),new Map,new NE(Xw),e,n);await GI(r,i),r.va=r.va.remove(o),r.Fa.delete(t),iN(r)}else await ST(r.localStore,t,!1).then((()=>eN(r,t,n))).catch(pE)}async function $I(e,t){const n=Uw(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Uw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=mE.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Fw(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cC();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ZI(n,r,null),XI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oN(n,e)}catch(e){await pE(e)}}async function JI(e,t,n){const r=Uw(e);try{const e=await function(e,t){const n=Uw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Fw(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ZI(r,t,n),XI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await oN(r,e)}catch(n){await pE(n)}}function XI(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function ZI(e,t,n){const r=Uw(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function eN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||tN(e,t)}))}function tN(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(QT(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),iN(e))}function nN(e,t,n){for(const r of n)r instanceof LI?(e.Ma.addReference(r.key,t),rN(e,r)):r instanceof MI?(Aw("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||tN(e,r.key)):Mw()}function rN(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Aw("SyncEngine","New document in limbo: "+n),e.Ca.add(r),iN(e))}function iN(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new sE(rE.fromString(t)),r=e.Na.next();e.Fa.set(r,new jI(n)),e.va=e.va.insert(n,r),GT(e.remoteStore,new Wk(BS(US(n.path)),r,"TargetPurposeLimboResolution",yE.oe))}}async function oN(e,t,n){const r=Uw(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=fT.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.l_(i),await async function(e,t){const n=Uw(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>mE.forEach(t,(t=>mE.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>mE.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!vE(e))throw e;Aw("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function sN(e,t){const n=Uw(e);if(!n.currentUser.isEqual(t)){Aw("SyncEngine","User change. New user:",t.toKey());const e=await yT(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Vw(jw.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await oN(n,e._s)}}function aN(e,t){const n=Uw(e),r=n.Fa.get(t);if(r&&r.wa)return cC().add(r.key);{let e=cC();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function lN(e){const t=Uw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=GI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YI.bind(null,t),t.Sa.l_=xI.bind(null,t.eventManager),t.Sa.ka=PI.bind(null,t.eventManager),t}function cN(e){const t=Uw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,t),t}class uN{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=FT(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vT(this.persistence,new mT,e.initialUser,this.serializer)}createPersistence(e){return new uT(dT.jr,this.serializer)}createSharedClientState(e){return new IT}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hN{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>QI(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await vI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new TI}createDatastore(e){const t=FT(e.databaseInfo.databaseId),n=function(e){return new LT(e)}(e.databaseInfo);return function(e,t,n,r){return new BT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new HT(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>QI(this.syncEngine,e,0)),xT.D()?new xT:new NT)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new VI(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Uw(e);Aw("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await KT(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class dN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ow("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class fN{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Nw.UNAUTHENTICATED,this.clientId=Jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Aw("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Aw("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vw(jw.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wI(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function pN(e,t){e.asyncQueue.verifyOperationInProgress(),Aw("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await yT(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function mN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vN(e);Aw("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>gI(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>gI(t.remoteStore,n))),e._onlineComponents=t}function gN(e){return"FirebaseError"===e.name?e.code===jw.FAILED_PRECONDITION||e.code===jw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function vN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Aw("FirestoreClient","Using user provided OfflineComponentProvider");try{await pN(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!gN(n))throw n;Dw("Error using user provided cache. Falling back to memory cache: "+n),await pN(e,new uN)}}else Aw("FirestoreClient","Using default OfflineComponentProvider"),await pN(e,new uN);return e._offlineComponents}async function yN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Aw("FirestoreClient","Using user provided OnlineComponentProvider"),await mN(e,e._uninitializedComponentsProvider._online)):(Aw("FirestoreClient","Using default OnlineComponentProvider"),await mN(e,new hN))),e._onlineComponents}function _N(e){return yN(e).then((e=>e.syncEngine))}async function bN(e){const t=await yN(e),n=t.eventManager;return n.onListen=zI.bind(null,t.syncEngine),n.onUnlisten=WI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=BI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=KI.bind(null,t.syncEngine),n}function wN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zw;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new dN({next:o=>{t.enqueueAndForget((()=>NI(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Vw(jw.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Vw(jw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new DI(US(n.path),o,{includeMetadataChanges:!0,ra:!0});return II(e,s)}(await bN(e),e.asyncQueue,t,n,r))),r.promise}function EN(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const SN=new Map;function CN(e,t,n){if(!n)throw new Vw(jw.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function kN(e){if(!sE.isDocumentKey(e))throw new Vw(jw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function TN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Mw()}function IN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vw(jw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=TN(e);throw new Vw(jw.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class NN{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Vw(jw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vw(jw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Vw(jw.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EN(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Vw(jw.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Vw(jw.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Vw(jw.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xN{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vw(jw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vw(jw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qw;switch(e.type){case"firstParty":return new Gw(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vw(jw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=SN.get(e);t&&(Aw("ComponentProvider","Removing Datastore"),SN.delete(e),t.terminate())}(this),Promise.resolve()}}function PN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=IN(e,xN))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Dw("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Nw.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Vw(jw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Nw(o)}e._authCredentials=new Hw(new Bw(t,n))}}class RN{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new RN(this.firestore,e,this._query)}}class AN{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ON(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new AN(this.firestore,e,this._key)}}class ON extends RN{constructor(e,t,n){super(e,t,US(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new AN(this.firestore,null,new sE(e))}withConverter(e){return new ON(this.firestore,e,this._path)}}function DN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),1===arguments.length&&(t=Jw.newId()),CN("doc","path",t),e instanceof xN){const n=rE.fromString(t,...r);return kN(n),new AN(e,null,new sE(n))}{if(!(e instanceof AN||e instanceof ON))throw new Vw(jw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rE.fromString(t,...r));return kN(n),new AN(e.firestore,e instanceof ON?e.converter:null,new sE(n))}}class LN{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new UT(this,"async_queue_retry"),this.hu=()=>{const e=MT();e&&Aw("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=MT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=MT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new zw;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(oD){if(!vE(oD))throw oD;Aw("AsyncQueue","Operation failed with retryable error: "+oD)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ow("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=bI.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Mw()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class MN extends xN{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new LN,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||UN(this),this._firestoreClient.terminate()}}function FN(e){return e._firestoreClient||UN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function UN(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new qE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,EN(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new fN(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class jN{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jN(LE.fromBase64String(e))}catch(e){throw new Vw(jw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new jN(LE.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class VN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Vw(jw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oE(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zN{constructor(e){this._methodName=e}}class BN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vw(jw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vw(jw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xw(this._lat,e._lat)||Xw(this._long,e._long)}}const qN=/^__.*__$/;class HN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new FC(e,this.data,this.fieldMask,t,this.fieldTransforms):new MC(e,this.data,t,this.fieldTransforms)}}function WN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mw()}}class KN{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new KN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return rx(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(WN(this.fu)&&qN.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class GN{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||FT(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new KN({fu:e,methodName:t,vu:n,path:oE.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QN(e){const t=e._freezeSettings(),n=FT(e._databaseId);return new GN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YN(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);ZN("Data must be an object, but it was:",s,r);const a=JN(r,s);let l,c;if(o.merge)l=new OE(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ex(t,r,n);if(!s.contains(i))throw new Vw(jw.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ix(e,i)||e.push(i)}l=new OE(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new HN(new sS(a),l,c)}function $N(e,t){if(XN(e=lt(e)))return ZN("Unsupported field value:",t,e),JN(e,t);if(e instanceof zN)return function(e,t){if(!WN(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$N(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=lt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pC(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=eE.fromDate(e);return{timestampValue:yk(t.serializer,n)}}if(e instanceof eE){const n=new eE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yk(t.serializer,n)}}if(e instanceof BN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jN)return{bytesValue:_k(t.serializer,e._byteString)};if(e instanceof AN){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ek(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(TN(e)))}(e,t)}function JN(e,t){const n={};return IE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):TE(e,((e,r)=>{const i=$N(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function XN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof eE||e instanceof BN||e instanceof jN||e instanceof AN||e instanceof zN)}function ZN(e,t,n){if(!XN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=TN(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function ex(e,t,n){if((t=lt(t))instanceof VN)return t._internalPath;if("string"==typeof t)return nx(e,t);throw rx("Field path arguments must be of type string or ",e,!1,void 0,n)}const tx=new RegExp("[~\\*/\\[\\]]");function nx(e,t,n){if(t.search(tx)>=0)throw rx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new VN(...t.split("."))._internalPath}catch(ol){throw rx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rx(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Vw(jw.INVALID_ARGUMENT,a+e+l)}function ix(e,t){return e.some((e=>e.isEqual(t)))}class ox{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new AN(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ax("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sx extends ox{data(){return super.data()}}function ax(e,t){return"string"==typeof t?nx(e,t):t instanceof VN?t._internalPath:t._delegate._internalPath}class lx{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(KE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return UE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mw()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return TE(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new BN(UE(e.latitude),UE(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(BE(e));default:return null}}convertTimestamp(e){const t=FE(e);return new eE(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=rE.fromString(e);Fw(Hk(n));const r=new HE(n.get(1),n.get(3)),i=new sE(n.popFirst(5));return r.isEqual(t)||Ow("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function cx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ux{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hx extends ox{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new dx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ax("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dx extends hx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}function fx(e){e=IN(e,AN);const t=IN(e.firestore,MN);return wN(FN(t),e._key).then((n=>vx(t,e,n)))}class px extends lx{constructor(e){super(),this.firestore=e}convertBytes(e){return new jN(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new AN(this.firestore,null,t)}}function mx(e,t,n){e=IN(e,AN);const r=IN(e.firestore,MN),i=cx(e.converter,t,n);return gx(r,[YN(QN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,NC.none())])}function gx(e,t){return function(e,t){const n=new zw;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=cN(e);try{const e=await function(e,t){const n=Uw(e),r=eE.now(),i=t.reduce(((e,t)=>e.add(t.key)),cC());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=eC(),l=cC();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=DC(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new FC(e.key,t,aS(t.value.mapValue),NC.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:rC(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new NE(Xw)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await oN(r,e.changes),await aI(r.remoteStore)}catch(e){const t=wI(e,"Failed to persist write");n.reject(t)}}(await _N(e),t,n))),n.promise}(FN(e),t)}function vx(e,t,n){const r=n.docs.get(t._key),i=new px(e);return new hx(e,i,t._key,r,new ux(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xw=e}(Sn),yn(new ct("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new MN(new Ww(e.getProvider("auth-internal")),new Yw(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vw(jw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new HE(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Tn(Iw,"4.6.1",e),Tn(Iw,"4.6.1","esm2017")}();const yx=Cn({apiKey:"AIzaSyC4sT802spQpS_zIITQ_fm6ab8cVhuBqmI",authDomain:"recipe-finder-5e48b.firebaseapp.com",projectId:"recipe-finder-5e48b",storageBucket:"recipe-finder-5e48b.appspot.com",messagingSenderId:"413602454614",appId:"1:413602454614:web:38b8d77d087f01dff7eff7",measurementId:"G-8DM17PGECC"}),_x=is(yx),bx=function(e,t){const n="string"==typeof e?e:t||"(default)",r=_n("object"==typeof e?e:kn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Ae(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&PN(r,...e)}return r}(yx);function wx(e){var n=e.children,r=e.className,i=e.computer,o=e.color,s=e.floated,a=e.largeScreen,l=e.mobile,c=e.only,u=e.stretched,h=e.tablet,d=e.textAlign,f=e.verticalAlign,p=e.widescreen,m=e.width,g=sl(o,au(u,"stretched"),uu(c,"only"),hu(d),lu(s,"floated"),du(f),fu(i,"wide computer"),fu(a,"wide large screen"),fu(l,"wide mobile"),fu(h,"wide tablet"),fu(p,"wide widescreen"),fu(m,"wide"),"column",r),v=pu(wx,e),y=mu(wx,e);return t.createElement(y,ss({},v,{className:g}),n)}wx.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],wx.propTypes={},wx.create=Uu(wx,(function(e){return{children:e}}));const Ex=wx;function Sx(e){var n=e.centered,r=e.children,i=e.className,o=e.color,s=e.columns,a=e.divided,l=e.only,c=e.reversed,u=e.stretched,h=e.textAlign,d=e.verticalAlign,f=sl(o,au(n,"centered"),au(a,"divided"),au(u,"stretched"),uu(l,"only"),uu(c,"reversed"),hu(h),du(d),fu(s,"column",!0),"row",i),p=pu(Sx,e),m=mu(Sx,e);return t.createElement(m,ss({},p,{className:f}),r)}Sx.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Sx.propTypes={};const Cx=Sx;function kx(e){var n=e.celled,r=e.centered,i=e.children,o=e.className,s=e.columns,a=e.container,l=e.divided,c=e.doubling,u=e.inverted,h=e.padded,d=e.relaxed,f=e.reversed,p=e.stackable,m=e.stretched,g=e.textAlign,v=e.verticalAlign,y=sl("ui",au(r,"centered"),au(a,"container"),au(c,"doubling"),au(u,"inverted"),au(p,"stackable"),au(m,"stretched"),cu(n,"celled"),cu(l,"divided"),cu(h,"padded"),cu(d,"relaxed"),uu(f,"reversed"),hu(g),du(v),fu(s,"column",!0),"grid",o),_=pu(kx,e),b=mu(kx,e);return t.createElement(b,ss({},_,{className:y}),i)}kx.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],kx.Column=Ex,kx.Row=Cx,kx.propTypes={};const Tx=kx;const Ix=function(e,t,n){"__proto__"==t&&qa?qa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Nx=Object.prototype.hasOwnProperty;const xx=function(e,t,n){var r=e[t];Nx.call(e,t)&&na(r,n)&&(void 0!==n||t in e)||Ix(e,t,n)};const Px=function(e,t,n,r){if(!xs(e))return e;for(var i=-1,o=(t=Aa(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var l=Da(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=xs(u)?u:Kl(t[i+1])?[]:{})}xx(a,l,c),a=a[l]}return e};const Rx=function(e,t,n){return null==e?e:Px(e,t,n)};var Ax=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=(0,t.createRef)(),n.labelRef=(0,t.createRef)(),n.canToggle=function(){var e=n.props,t=e.disabled,r=e.radio,i=e.readOnly,o=n.state.checked;return!t&&!i&&!(r&&o)},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return $a(r)?t?-1:0:r},n.handleClick=function(e){var t=n.props.id,r=n.state,i=r.checked,o=r.indeterminate,s=Ya(n.inputRef.current,"contains",e.target),a=Ya(n.labelRef.current,"contains",e.target),l=!a&&!s,c=!$a(t);a&&c||Ya(n.props,"onClick",e,ss({},n.props,{checked:!i,indeterminate:!!o})),n.isClickFromMouse&&(n.isClickFromMouse=!1,a&&!c&&n.handleChange(e),l&&n.handleChange(e),a&&c&&e.stopPropagation())},n.handleChange=function(e){var t=n.state.checked;n.canToggle()&&(Ya(n.props,"onChange",e,ss({},n.props,{checked:!t,indeterminate:!1})),n.setState({checked:!t,indeterminate:!1}))},n.handleMouseDown=function(e){var t=n.state,r=t.checked,i=t.indeterminate;Ya(n.props,"onMouseDown",e,ss({},n.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||Ya(n.inputRef.current,"focus"),e.preventDefault()},n.handleMouseUp=function(e){var t=n.state,r=t.checked,i=t.indeterminate;n.isClickFromMouse=!0,Ya(n.props,"onMouseUp",e,ss({},n.props,{checked:!!r,indeterminate:!!i}))},n.setIndeterminate=function(){var e=n.state.indeterminate;Rx(n.inputRef,"current.indeterminate",!!e)},n}ls(n,e);var r=n.prototype;return r.componentDidMount=function(){this.setIndeterminate()},r.componentDidUpdate=function(){this.setIndeterminate()},r.render=function(){var e=this.props,r=e.className,i=e.disabled,o=e.label,s=e.id,a=e.name,l=e.radio,c=e.readOnly,u=e.slider,h=e.toggle,d=e.type,f=e.value,p=this.state,m=p.checked,g=p.indeterminate,v=sl("ui",au(m,"checked"),au(i,"disabled"),au(g,"indeterminate"),au($a(o),"fitted"),au(l,"radio"),au(c,"read-only"),au(u,"slider"),au(h,"toggle"),"checkbox",r),y=pu(n,this.props),_=mu(n,this.props),b=ph(y,{htmlProps:hh}),w=b[0],E=b[1],S=Vu(o,{defaultProps:{htmlFor:s},autoGenerateKey:!1})||t.createElement("label",{htmlFor:s});return t.createElement(_,ss({},E,{className:v,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),t.createElement(il,{innerRef:this.inputRef},t.createElement("input",ss({},w,{checked:m,className:"hidden",disabled:i,id:s,name:a,readOnly:!0,tabIndex:this.computeTabIndex(),type:d,value:f}))),t.createElement(il,{innerRef:this.labelRef},S))},n}(Nh);function Ox(e){var n=e.slider,r=e.toggle,i=e.type,o=pu(Ox,e),s=!(n||r)||void 0;return t.createElement(Ax,ss({},o,{type:i,radio:s,slider:n,toggle:r}))}Ax.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],Ax.propTypes={},Ax.defaultProps={type:"checkbox"},Ax.autoControlledProps=["checked","indeterminate"],Ox.handledProps=["slider","toggle","type"],Ox.propTypes={},Ox.defaultProps={type:"radio"};const Dx=Ox;function Lx(e){var n=e.children,r=e.className,i=e.content,o=e.control,s=e.disabled,a=e.error,l=e.inline,c=e.label,u=e.required,h=e.type,d=e.width,f=e.id,p=sl(au(s,"disabled"),au(a,"error"),au(l,"inline"),au(u,"required"),fu(d,"wide"),"field",r),m=pu(Lx,e),g=mu(Lx,e),v=qc(a,"pointing","above"),y=Wh.create(a,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:v,id:f?f+"-error-message":void 0,role:"alert","aria-atomic":!0}}),_=("below"===v||"right"===v)&&y,b=("above"===v||"left"===v)&&y;if($a(o))return $a(c)?t.createElement(g,ss({},m,{className:p,id:f}),iu(n)?i:n):t.createElement(g,ss({},m,{className:p,id:f}),_,Vu(c,{autoGenerateKey:!1}),b);var w={"aria-describedby":f&&a?f+"-error-message":null,"aria-invalid":!!a||void 0},E=ss({},m,{content:i,children:n,disabled:s,required:u,type:h,id:f});return"input"!==o||"checkbox"!==h&&"radio"!==h?o===Ax||o===Dx?t.createElement(g,{className:p},_,(0,t.createElement)(o,ss({},w,E,{label:c})),b):t.createElement(g,{className:p},Vu(c,{defaultProps:{htmlFor:f},autoGenerateKey:!1}),_,(0,t.createElement)(o,ss({},w,E)),b):t.createElement(g,{className:p},t.createElement("label",null,_,(0,t.createElement)(o,ss({},w,E))," ",c,b))}Lx.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],Lx.propTypes={};const Mx=Lx;function Fx(e){var n=e.control,r=pu(Fx,e),i=mu(Fx,e);return t.createElement(i,ss({},r,{control:n}))}Fx.handledProps=["as","control"],Fx.propTypes={},Fx.defaultProps={as:Mx,control:td};const Ux=Fx;function jx(e){var n=e.control,r=pu(jx,e),i=mu(jx,e);return t.createElement(i,ss({},r,{control:n}))}jx.handledProps=["as","control"],jx.propTypes={},jx.defaultProps={as:Mx,control:Ax};const Vx=jx;const zx=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i};const Bx=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};const qx=function(e,t){var n=!0;return eu(e,(function(e,r,i){return n=!!t(e,r,i)})),n};const Hx=function(e,t,n){var r=us(e)?Bx:qx;return n&&nu(e,t,n)&&(t=void 0),r(e,Jc(t,3))};const Wx=function(e,t,n,r){var i=-1,o=bu,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Ia(t,$l(n))),r?(o=wu,s=!1):t.length>=200&&(o=_l,s=!1,t=new yl(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h===h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else o(t,h,r)||l.push(u)}return l};const Kx=function(e){return Cs(e)&&hc(e)};var Gx=Qa((function(e,t){return Kx(e)?Wx(e,t):[]}));const Qx=Gx;const Yx=function(e){return function(t,n,r){var i=Object(t);if(!hc(t)){var o=Jc(n,3);t=dc(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}};var $x=Math.max;const Jx=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rh(n);return i<0&&(i=$x(r+i,0)),gu(e,Jc(t,3),i)};const Xx=Yx(Jx);const Zx=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:rh(t),Ma(e,0,(t=r-t)<0?0:t)):[]};var eP=Object.prototype.hasOwnProperty;const tP=function(e){if(null==e)return!0;if(hc(e)&&(us(e)||"string"==typeof e||"function"==typeof e.splice||Hl(e)||nc(e)||jl(e)))return!e.length;var t=Rc(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(sc(e))return!uc(e).length;for(var n in e)if(eP.call(e,n))return!1;return!0};const nP=Qc("length");var rP=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const iP=function(e){return rP.test(e)};var oP="\\ud800-\\udfff",sP="["+oP+"]",aP="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",lP="\\ud83c[\\udffb-\\udfff]",cP="[^"+oP+"]",uP="(?:\\ud83c[\\udde6-\\uddff]){2}",hP="[\\ud800-\\udbff][\\udc00-\\udfff]",dP="(?:"+aP+"|"+lP+")"+"?",fP="[\\ufe0e\\ufe0f]?",pP=fP+dP+("(?:\\u200d(?:"+[cP,uP,hP].join("|")+")"+fP+dP+")*"),mP="(?:"+[cP+aP+"?",aP,uP,hP,sP].join("|")+")",gP=RegExp(lP+"(?="+lP+")|"+mP+pP,"g");const vP=function(e){for(var t=gP.lastIndex=0;gP.test(e);)++t;return t};const yP=function(e){return iP(e)?vP(e):nP(e)};const _P=function(e){if(null==e)return 0;if(hc(e))return Lu(e)?yP(e):e.length;var t=Rc(e);return"[object Map]"==t||"[object Set]"==t?e.size:uc(e).length};var bP=ps?ps.isConcatSpreadable:void 0;const wP=function(e){return us(e)||jl(e)||!!(bP&&e&&e[bP])};const EP=function e(t,n,r,i,o){var s=-1,a=t.length;for(r||(r=wP),o||(o=[]);++s<a;){var l=t[s];n>0&&r(l)?n>1?e(l,n-1,r,i,o):Il(o,l):i||(o[o.length]=l)}return o};var SP=Qa((function(e,t){return Kx(e)?Wx(e,EP(t,1,Kx,!0)):[]}));const CP=SP;const kP=Qa((function(e){return ku(EP(e,1,Kx,!0))}));const TP=function(e,t){return Fc(e,t)};const IP=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=La(e,s);n(a,s)&&Px(o,Aa(s,e),a)}return o};const NP=function(e,t){return IP(e,t,(function(t,n){return Kc(e,n)}))};const xP=function(e){return(null==e?0:e.length)?EP(e,1):[]};const PP=function(e){return Ga(za(e,void 0,xP),e+"")}((function(e,t){return null==e?{}:NP(e,t)}));var RP=n(324),AP=n.n(RP),OP=function(e){function n(){return e.apply(this,arguments)||this}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.className,i=e.name,o=sl(i,"flag",r),s=pu(n,this.props),a=mu(n,this.props);return t.createElement(a,ss({},s,{className:o}))},n}(t.PureComponent);OP.handledProps=["as","className","name"],OP.propTypes={},OP.defaultProps={as:"i"},OP.create=Uu(OP,(function(e){return{name:e}}));const DP=OP;function LP(e){var n=e.className,r=sl("divider",n),i=pu(LP,e),o=mu(LP,e);return t.createElement(o,ss({},i,{className:r}))}LP.handledProps=["as","className"],LP.propTypes={};const MP=LP;var FP=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){Ya(t.props,"onClick",e,t.props)},t}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.active,i=e.children,o=e.className,s=e.content,a=e.disabled,l=e.description,c=e.flag,u=e.icon,h=e.image,d=e.label,f=e.selected,p=e.text,m=sl(au(r,"active"),au(a,"disabled"),au(f,"selected"),"item",o),g=$a(u)?function(e,n){return ru(t.Children.toArray(e),{type:n})}(i,"DropdownMenu")&&"dropdown":u,v=pu(n,this.props),y=mu(n,this.props),_={role:"option","aria-disabled":a,"aria-checked":r,"aria-selected":f};if(!iu(i))return t.createElement(y,ss({},v,_,{className:m,onClick:this.handleClick}),i);var b=DP.create(c,{autoGenerateKey:!1}),w=Hu.create(g,{autoGenerateKey:!1}),E=Vh.create(h,{autoGenerateKey:!1}),S=Wh.create(d,{autoGenerateKey:!1}),C=Fu("span",(function(e){return{children:e}}),l,{defaultProps:{className:"description"},autoGenerateKey:!1}),k=Fu("span",(function(e){return{children:e}}),iu(s)?p:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return t.createElement(y,ss({},v,_,{className:m,onClick:this.handleClick}),E,w,b,S,C,k)},n}(t.Component);FP.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],FP.propTypes={},FP.create=Uu(FP,(function(e){return e}));const UP=FP;function jP(e){var n=e.children,r=e.className,i=e.content,o=e.icon,s=sl("header",r),a=pu(jP,e),l=mu(jP,e);return iu(n)?t.createElement(l,ss({},a,{className:s}),Hu.create(o,{autoGenerateKey:!1}),i):t.createElement(l,ss({},a,{className:s}),n)}jP.handledProps=["as","children","className","content","icon"],jP.propTypes={},jP.create=Uu(jP,(function(e){return{content:e}}));const VP=jP;function zP(e){var n=e.children,r=e.className,i=e.content,o=e.direction,s=e.open,a=e.scrolling,l=sl(o,au(s,"visible"),au(a,"scrolling"),"menu transition",r),c=pu(zP,e),u=mu(zP,e);return t.createElement(u,ss({},c,{className:l}),iu(n)?i:n)}zP.handledProps=["as","children","className","content","direction","open","scrolling"],zP.propTypes={};const BP=zP;var qP=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=qc(e,"target.value");Ya(t.props,"onChange",e,ss({},t.props,{value:n}))},t}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.autoComplete,i=e.className,o=e.tabIndex,s=e.type,a=e.value,l=sl("search",i),c=pu(n,this.props);return t.createElement("input",ss({},c,{"aria-autocomplete":"list",autoComplete:r,className:l,onChange:this.handleChange,tabIndex:o,type:s,value:a}))},n}(t.Component);qP.handledProps=["as","autoComplete","className","tabIndex","type","value"],qP.propTypes={},qP.defaultProps={autoComplete:"off",type:"text"},qP.create=Uu(qP,(function(e){return{type:e}}));const HP=qP;function WP(e){var n=e.children,r=e.className,i=e.content,o=sl("divider",r),s=pu(WP,e),a=mu(WP,e);return t.createElement(a,ss({"aria-atomic":!0,"aria-live":"polite",role:"alert"},s,{className:o}),iu(n)?i:n)}WP.handledProps=["as","children","className","content"],WP.propTypes={},WP.create=Uu(WP,(function(e){return{content:e}}));const KP=WP;var GP=/[\\^$.*+?()[\]{}|]/g,QP=RegExp(GP.source);const YP=function(e){return(e=Ra(e))&&QP.test(e)?e.replace(GP,"\\$&"):e};const $P=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var JP=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,XP=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const ZP=function(e){return(e=Ra(e))&&e.replace(JP,$P).replace(XP,"")};const eR=function(e,t){var n=[];return eu(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};const tR=function(e,t){return(us(e)?xl:eR)(e,Jc(t,3))};function nR(e){var n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,o=e.deburr,s=e.multiple,a=e.options,l=e.search,c=e.searchQuery,u=e.value,h=a;if(s&&(h=tR(h,(function(e){return!ah(u,e.value)}))),l&&c)if(Ps(l))h=l(h,c);else{var d=o?ZP(c):c,f=new RegExp(YP(d),"i");h=tR(h,(function(e){return f.test(o?ZP(e.text):e.text)}))}if(i&&l&&c&&!ru(h,{text:c})){var p={key:"addition",text:[t.isValidElement(n)?t.cloneElement(n,{key:"addition-label"}):n||"",t.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===r?h.unshift(p):h.push(p)}return h}nR.handledProps=[];const rR=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};const iR=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};const oR=function(e,t,n){var r=us(e)?rR:iR,i=arguments.length<3;return r(e,Jc(t,4),n,i,eu)};function sR(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,o=e.deburr,s=e.multiple,a=e.options,l=e.search,c=e.searchQuery,u=e.selectedIndex,h=e.value,d=nR({value:h,options:a,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:o,multiple:s,search:l}),f=oR(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!u||u<0){var p=f[0];t=s?p:Jx(d,["value",h])||f[0]}else if(s)t=Xx(f,(function(e){return e>=u})),u>=d.length-1&&(t=f[f.length-1]);else{var m=Jx(d,["value",h]);t=ah(f,m)?m:void 0}return(!t||t<0)&&(t=f[0]),t}var aR=function(e,t){return $a(e)?t:e},lR=function(e){return e?e.map((function(e){return PP(e,["key","value"])})):e};function cR(e){var n=e.flag,r=e.image,i=e.text;return Ps(i)?i:{content:t.createElement(t.Fragment,null,DP.create(n),Vh.create(r),i)}}var uR=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).searchRef=(0,t.createRef)(),n.sizerRef=(0,t.createRef)(),n.ref=(0,t.createRef)(),n.handleChange=function(e,t){Ya(n.props,"onChange",e,ss({},n.props,{value:t}))},n.closeOnChange=function(e){var t=n.props,r=t.closeOnChange,i=t.multiple;(Wu(r)?!i:r)&&n.close(e,Eu)},n.closeOnEscape=function(e){n.props.closeOnEscape&&wh().getCode(e)===wh().Escape&&(e.preventDefault(),n.close(e))},n.moveSelectionOnKeyDown=function(e){var t,r=n.props,i=r.multiple,o=r.selectOnNavigation;if(n.state.open){var s=((t={})[wh().ArrowDown]=1,t[wh().ArrowUp]=-1,t)[wh().getCode(e)];if(void 0!==s){e.preventDefault();var a=n.getSelectedIndexAfterMove(s);!i&&o&&n.makeSelectedItemActive(e,a),n.setState({selectedIndex:a})}}},n.openOnSpace=function(e){var t,r,i,o=n.state.focus&&!n.state.open&&wh().getCode(e)===wh().Spacebar,s="INPUT"!==(null==(t=e.target)?void 0:t.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);o&&(s&&e.preventDefault(),n.open(e))},n.openOnArrow=function(e){var t=n.state,r=t.focus,i=t.open;if(r&&!i){var o=wh().getCode(e);o!==wh().ArrowDown&&o!==wh().ArrowUp||(e.preventDefault(),n.open(e))}},n.makeSelectedItemActive=function(e,t){var r=n.state,i=r.open,o=r.value,s=n.props.multiple,a=n.getSelectedItem(t),l=qc(a,"value"),c=qc(a,"disabled");if($a(l)||!i||c)return o;var u=s?kP(o,[l]):l;return(s?!!CP(u,o).length:u!==o)&&(n.setState({value:u}),n.handleChange(e,u),a["data-additional"]&&Ya(n.props,"onAddItem",e,ss({},n.props,{value:l}))),o},n.selectItemOnEnter=function(e){var t=n.props.search,r=n.state,i=r.open,o=r.selectedIndex;if(i&&(wh().getCode(e)===wh().Enter||!t&&wh().getCode(e)===wh().Spacebar)){e.preventDefault();var s=_P(nR({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search}));if(!t||0!==s){var a=n.makeSelectedItemActive(e,o);n.setState({selectedIndex:sR({additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search,selectedIndex:o,value:a,options:n.props.options,searchQuery:""})}),n.closeOnChange(e),n.clearSearchQuery(),t&&Ya(n.searchRef.current,"focus")}}},n.removeItemOnBackspace=function(e){var t=n.props,r=t.multiple,i=t.search,o=n.state,s=o.searchQuery,a=o.value;if(wh().getCode(e)===wh().Backspace&&!s&&i&&r&&!tP(a)){e.preventDefault();var l=Zx(a);n.setState({value:l}),n.handleChange(e,l)}},n.closeOnDocumentClick=function(e){n.props.closeOnBlur&&(n.ref.current&&Ih(n.ref.current,e)||n.close())},n.handleMouseDown=function(e){n.isMouseDown=!0,Ya(n.props,"onMouseDown",e,n.props),document.addEventListener("mouseup",n.handleDocumentMouseUp)},n.handleDocumentMouseUp=function(){n.isMouseDown=!1,document.removeEventListener("mouseup",n.handleDocumentMouseUp)},n.handleClick=function(e){var t=n.props,r=t.minCharacters,i=t.search,o=n.state,s=o.open,a=o.searchQuery;if(Ya(n.props,"onClick",e,n.props),e.stopPropagation(),!i)return n.toggle(e);s?Ya(n.searchRef.current,"focus"):a.length>=r||1===r?n.open(e):Ya(n.searchRef.current,"focus")},n.handleIconClick=function(e){var t=n.props.clearable,r=n.hasValue();Ya(n.props,"onClick",e,n.props),e.stopPropagation(),t&&r?n.clearValue(e):n.toggle(e)},n.handleItemClick=function(e,t){var r=n.props,i=r.multiple,o=r.search,s=n.state.value,a=t.value;if(e.stopPropagation(),(i||t.disabled)&&e.nativeEvent.stopImmediatePropagation(),!t.disabled){var l=t["data-additional"],c=i?kP(n.state.value,[a]):a;(i?!!CP(c,s).length:c!==s)&&(n.setState({value:c}),n.handleChange(e,c)),n.clearSearchQuery(),Ya(o?n.searchRef.current:n.ref.current,"focus"),n.closeOnChange(e),l&&Ya(n.props,"onAddItem",e,ss({},n.props,{value:a}))}},n.handleFocus=function(e){n.state.focus||(Ya(n.props,"onFocus",e,n.props),n.setState({focus:!0}))},n.handleBlur=function(e){var t=qc(e,"currentTarget");if(!t||!t.contains(document.activeElement)){var r=n.props,i=r.closeOnBlur,o=r.multiple,s=r.selectOnBlur;n.isMouseDown||(Ya(n.props,"onBlur",e,n.props),s&&!o&&(n.makeSelectedItemActive(e,n.state.selectedIndex),i&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}},n.handleSearchChange=function(e,t){var r=t.value;e.stopPropagation();var i=n.props.minCharacters,o=n.state.open,s=r;Ya(n.props,"onSearchChange",e,ss({},n.props,{searchQuery:s})),n.setState({searchQuery:s,selectedIndex:0}),!o&&s.length>=i?n.open():o&&1!==i&&s.length<i&&n.close()},n.handleKeyDown=function(e){n.moveSelectionOnKeyDown(e),n.openOnArrow(e),n.openOnSpace(e),n.selectItemOnEnter(e),Ya(n.props,"onKeyDown",e)},n.getSelectedItem=function(e){var t=nR({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});return qc(t,"["+e+"]")},n.getItemByValue=function(e){var t=n.props.options;return Xx(t,{value:e})},n.getDropdownAriaOptions=function(){var e=n.props,t=e.loading,r=e.disabled,i=e.search,o=e.multiple,s={role:i?"combobox":"listbox","aria-busy":t,"aria-disabled":r,"aria-expanded":!!n.state.open};return"listbox"===s.role&&(s["aria-multiselectable"]=o),s},n.clearSearchQuery=function(){var e=n.state.searchQuery;void 0!==e&&""!==e&&n.setState({searchQuery:""})},n.handleLabelClick=function(e,t){e.stopPropagation(),n.setState({selectedLabel:t.value}),Ya(n.props,"onLabelClick",e,t)},n.handleLabelRemove=function(e,t){e.stopPropagation();var r=n.state.value,i=Qx(r,t.value);n.setState({value:i}),n.handleChange(e,i)},n.getSelectedIndexAfterMove=function(e,t){void 0===t&&(t=n.state.selectedIndex);var r=nR({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(void 0!==r&&!Hx(r,"disabled")){var i=r.length-1,o=t+e;return!n.props.wrapSelection&&(o>i||o<0)?o=t:o>i?o=0:o<0&&(o=i),r[o].disabled?n.getSelectedIndexAfterMove(e,o):o}},n.handleIconOverrides=function(e){var t=n.props.clearable;return{className:sl(t&&n.hasValue()&&"clear",e.className),onClick:function(t){Ya(e,"onClick",t,e),n.handleIconClick(t)}}},n.clearValue=function(e){var t=n.props.multiple?[]:"";n.setState({value:t}),n.handleChange(e,t)},n.computeSearchInputTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return $a(r)?t?-1:0:r},n.computeSearchInputWidth=function(){var e=n.state.searchQuery;if(n.sizerRef.current&&e){n.sizerRef.current.style.display="inline",n.sizerRef.current.textContent=e;var t=Math.ceil(n.sizerRef.current.getBoundingClientRect().width);return n.sizerRef.current.style.removeProperty("display"),t}},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.search,i=e.tabIndex;if(!r)return t?-1:$a(i)?0:i},n.handleSearchInputOverrides=function(e){return{onChange:function(t,r){Ya(e,"onChange",t,r),n.handleSearchChange(t,r)}}},n.hasValue=function(){var e=n.props.multiple,t=n.state.value;return e?!tP(t):!$a(t)&&""!==t},n.scrollSelectedItemIntoView=function(){if(n.ref.current){var e=n.ref.current.querySelector(".menu.visible");if(e){var t=e.querySelector(".item.selected");if(t){var r=t.offsetTop<e.scrollTop,i=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=t.offsetTop:i&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}},n.setOpenDirection=function(){if(n.ref.current){var e=n.ref.current.querySelector(".menu.visible");if(e){var t=n.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-t.top-t.height-r,o=t.top-r,s=i<0&&o>i;!s!==!n.state.upward&&n.setState({upward:s})}}},n.open=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!0);var r=n.props,i=r.disabled,o=r.search;i||(o&&Ya(n.searchRef.current,"focus"),Ya(n.props,"onOpen",e,n.props),t&&n.setState({open:!0}),n.scrollSelectedItemIntoView())},n.close=function(e,t){void 0===t&&(t=n.handleClose),n.state.open&&(Ya(n.props,"onClose",e,n.props),n.setState({open:!1},t))},n.handleClose=function(){var e=document.activeElement===n.searchRef.current;!e&&n.ref.current&&n.ref.current.blur();var t=document.activeElement===n.ref.current,r=e||t;n.setState({focus:r})},n.toggle=function(e){return n.state.open?n.close(e):n.open(e)},n.renderText=function(){var e,t=n.props,r=t.multiple,i=t.placeholder,o=t.search,s=t.text,a=n.state,l=a.searchQuery,c=a.selectedIndex,u=a.value,h=a.open,d=n.hasValue(),f=sl(i&&!d&&"default","text",o&&l&&"filtered"),p=i;return s?p=s:h&&!r?e=n.getSelectedItem(c):d&&(e=n.getItemByValue(u)),KP.create(e?cR(e):p,{defaultProps:{className:f}})},n.renderSearchInput=function(){var e=n.props,r=e.search,i=e.searchInput,o=n.state.searchQuery;return r&&t.createElement(il,{innerRef:n.searchRef},HP.create(i,{defaultProps:{style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:o},overrideProps:n.handleSearchInputOverrides}))},n.renderSearchSizer=function(){var e=n.props,r=e.search,i=e.multiple;return r&&i&&t.createElement("span",{className:"sizer",ref:n.sizerRef})},n.renderLabels=function(){var e=n.props,t=e.multiple,r=e.renderLabel,i=n.state,o=i.selectedLabel,s=i.value;if(t&&!tP(s)){var a=Yh(s,n.getItemByValue);return Yh(zx(a),(function(e,t){var i={active:e.value===o,as:"a",key:aR(e.key,e.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:e.value};return Wh.create(r(e,t,i),{defaultProps:i})}))}},n.renderOptions=function(){var e=n.props,r=e.lazyLoad,i=e.multiple,o=e.search,s=e.noResultsMessage,a=n.state,l=a.open,c=a.selectedIndex,u=a.value;if(r&&!l)return null;var h=nR({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(null!==s&&o&&tP(h))return t.createElement("div",{className:"message"},s);var d=i?function(e){return ah(u,e)}:function(e){return e===u};return Yh(h,(function(e,t){return UP.create(ss({active:d(e.value),selected:c===t},e,{key:aR(e.key,e.value),style:ss({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(t,r){null==e.onClick||e.onClick(t,r),n.handleItemClick(t,r)}}}})}))},n.renderMenu=function(){var e=n.props,r=e.children,i=e.direction,o=e.header,s=n.state.open,a=n.getDropdownMenuAriaOptions();if(!iu(r)){var l=t.Children.only(r),c=sl(i,au(s,"visible"),l.props.className);return(0,t.cloneElement)(l,ss({className:c},a))}return t.createElement(BP,ss({},a,{direction:i,open:s}),VP.create(o,{autoGenerateKey:!1}),n.renderOptions())},n}ls(n,e);var r=n.prototype;return r.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},n.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!AP()(n.__value,t.value)||!TP(lR(e.options),lR(n.__options)))&&(r.selectedIndex=sR({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},r.componentDidMount=function(){this.state.open&&this.open(null,!1)},r.shouldComponentUpdate=function(e,t){return!AP()(e,this.props)||!AP()(t,this.state)},r.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,o=n.openOnFocus,s=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var a=!s||s&&1===i&&!this.state.open;o&&a&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},r.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},r.render=function(){var e=this.props,r=e.basic,i=e.button,o=e.className,s=e.compact,a=e.disabled,l=e.error,c=e.fluid,u=e.floating,h=e.icon,d=e.inline,f=e.item,p=e.labeled,m=e.loading,g=e.multiple,v=e.pointing,y=e.search,_=e.selection,b=e.scrolling,w=e.simple,E=e.trigger,S=this.state,C=S.focus,k=S.open,T=S.upward,I=sl("ui",au(k,"active visible"),au(a,"disabled"),au(l,"error"),au(m,"loading"),au(r,"basic"),au(i,"button"),au(s,"compact"),au(c,"fluid"),au(u,"floating"),au(d,"inline"),au(p,"labeled"),au(f,"item"),au(g,"multiple"),au(y,"search"),au(_,"selection"),au(w,"simple"),au(b,"scrolling"),au(T,"upward"),cu(v,"pointing"),"dropdown",o),N=pu(n,this.props),x=mu(n,this.props),P=this.getDropdownAriaOptions(x,this.props);return t.createElement(il,{innerRef:this.ref},t.createElement(x,ss({},N,P,{className:I,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),E||this.renderText(),Hu.create(h,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),k&&t.createElement(_h(),{name:"keydown",on:this.closeOnEscape}),k&&t.createElement(_h(),{name:"click",on:this.closeOnDocumentClick}),C&&t.createElement(_h(),{name:"keydown",on:this.removeItemOnBackspace})))},n}(Nh);function hR(e){var n=e.control,r=pu(hR,e),i=mu(hR,e);return t.createElement(i,ss({},r,{control:n}))}uR.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],uR.propTypes={},uR.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:cR,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},uR.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],uR.Divider=MP,uR.Header=VP,uR.Item=UP,uR.Menu=BP,uR.SearchInput=HP,uR.Text=KP,hR.handledProps=["as","control"],hR.propTypes={},hR.defaultProps={as:Mx,control:uR};const dR=hR;function fR(e){var n=e.children,r=e.className,i=e.grouped,o=e.inline,s=e.unstackable,a=e.widths,l=sl(au(i,"grouped"),au(o,"inline"),au(s,"unstackable"),fu(a,null,!0),"fields",r),c=pu(fR,e),u=mu(fR,e);return t.createElement(u,ss({},c,{className:l}),n)}fR.handledProps=["as","children","className","grouped","inline","unstackable","widths"],fR.propTypes={};const pR=fR;var mR=function(e){function n(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.call.apply(e,[this].concat(o))||this).inputRef=(0,t.createRef)(),r.computeIcon=function(){var e=r.props,t=e.loading,n=e.icon;return $a(n)?t?"spinner":void 0:n},r.computeTabIndex=function(){var e=r.props,t=e.disabled,n=e.tabIndex;return $a(n)?t?-1:void 0:n},r.focus=function(e){return r.inputRef.current.focus(e)},r.select=function(){return r.inputRef.current.select()},r.handleChange=function(e){var t=qc(e,"target.value");Ya(r.props,"onChange",e,ss({},r.props,{value:t}))},r.handleChildOverrides=function(e,t){return ss({},t,e.props,{ref:function(t){el(e.ref,t),r.inputRef.current=t}})},r.partitionProps=function(){var e=r.props,t=e.disabled,i=e.type,o=r.computeTabIndex(),s=pu(n,r.props),a=ph(s),l=a[0],c=a[1];return[ss({},l,{disabled:t,type:i,tabIndex:o,onChange:r.handleChange,ref:r.inputRef}),c]},r}return ls(n,e),n.prototype.render=function(){var e=this,r=this.props,i=r.action,o=r.actionPosition,s=r.children,a=r.className,l=r.disabled,c=r.error,u=r.fluid,h=r.focus,d=r.icon,f=r.iconPosition,p=r.input,m=r.inverted,g=r.label,v=r.labelPosition,y=r.loading,_=r.size,b=r.transparent,w=r.type,E=sl("ui",_,au(l,"disabled"),au(c,"error"),au(u,"fluid"),au(h,"focus"),au(m,"inverted"),au(y,"loading"),au(b,"transparent"),lu(o,"action")||au(i,"action"),lu(f,"icon")||au(d||y,"icon"),lu(v,"labeled")||au(g,"labeled"),"input",a),S=mu(n,this.props),C=this.partitionProps(),k=C[0],T=C[1];if(!iu(s)){var I=Yh(t.Children.toArray(s),(function(n){return"input"!==n.type?n:(0,t.cloneElement)(n,e.handleChildOverrides(n,k))}));return t.createElement(S,ss({},T,{className:E}),I)}var N=td.create(i,{autoGenerateKey:!1}),x=Wh.create(g,{defaultProps:{className:sl("label",ah(v,"corner")&&v)},autoGenerateKey:!1});return t.createElement(S,ss({},T,{className:E}),"left"===o&&N,"right"!==v&&x,ju(p||w,{defaultProps:k,autoGenerateKey:!1}),Hu.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==o&&N,"right"===v&&x)},n}(t.Component);mR.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],mR.propTypes={},mR.defaultProps={type:"text"},mR.create=Uu(mR,(function(e){return{type:e}}));const gR=mR;function vR(e){var n=e.control,r=pu(vR,e),i=mu(vR,e);return t.createElement(i,ss({},r,{control:n}))}vR.handledProps=["as","control"],vR.propTypes={},vR.defaultProps={as:Mx,control:gR};const yR=vR;function _R(e){var n=e.control,r=pu(_R,e),i=mu(_R,e);return t.createElement(i,ss({},r,{control:n}))}_R.handledProps=["as","control"],_R.propTypes={},_R.defaultProps={as:Mx,control:Dx};const bR=_R;function wR(e){return t.createElement(uR,ss({},e,{selection:!0}))}wR.handledProps=["options"],wR.propTypes={},wR.Divider=uR.Divider,wR.Header=uR.Header,wR.Item=uR.Item,wR.Menu=uR.Menu;const ER=wR;function SR(e){var n=e.control,r=e.options,i=pu(SR,e),o=mu(SR,e);return t.createElement(o,ss({},i,{control:n,options:r}))}SR.handledProps=["as","control","options"],SR.propTypes={},SR.defaultProps={as:Mx,control:ER};const CR=SR;var kR=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).ref=(0,t.createRef)(),n.focus=function(){return n.ref.current.focus()},n.handleChange=function(e){var t=qc(e,"target.value");Ya(n.props,"onChange",e,ss({},n.props,{value:t}))},n.handleInput=function(e){var t=qc(e,"target.value");Ya(n.props,"onInput",e,ss({},n.props,{value:t}))},n}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.rows,i=e.value,o=pu(n,this.props),s=mu(n,this.props);return t.createElement(il,{innerRef:this.ref},t.createElement(s,ss({},o,{onChange:this.handleChange,onInput:this.handleInput,rows:r,value:i})))},n}(t.Component);kR.handledProps=["as","onChange","onInput","rows","value"],kR.propTypes={},kR.defaultProps={as:"textarea",rows:3};const TR=kR;function IR(e){var n=e.control,r=pu(IR,e),i=mu(IR,e);return t.createElement(i,ss({},r,{control:n}))}IR.handledProps=["as","control"],IR.propTypes={},IR.defaultProps={as:Mx,control:TR};const NR=IR;var xR=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&Ya(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ya.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.action,i=e.children,o=e.className,s=e.error,a=e.inverted,l=e.loading,c=e.reply,u=e.size,h=e.success,d=e.unstackable,f=e.warning,p=e.widths,m=sl("ui",u,au(s,"error"),au(a,"inverted"),au(l,"loading"),au(c,"reply"),au(h,"success"),au(d,"unstackable"),au(f,"warning"),fu(p,null,!0),"form",o),g=pu(n,this.props),v=mu(n,this.props);return t.createElement(v,ss({},g,{action:r,className:m,onSubmit:this.handleSubmit}),i)},n}(t.Component);xR.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],xR.propTypes={},xR.defaultProps={as:"form"},xR.Field=Mx,xR.Button=Ux,xR.Checkbox=Vx,xR.Dropdown=dR,xR.Group=pR,xR.Input=yR,xR.Radio=bR,xR.Select=CR,xR.TextArea=NR;const PR=xR,RR=e=>{let{setSearchedQuery:n}=e;const[r]=bd(_x),[i,o]=(0,t.useState)("");return(0,nd.jsx)(Tx,{column:2,textAlign:"center",className:"search-box",children:(0,nd.jsxs)(Tx.Column,{children:[(0,nd.jsxs)("h2",{className:"search-heading",children:["Search Recipes with ",(0,nd.jsx)("span",{style:{color:"#2185D0"},children:"Our Recipe"})]}),(0,nd.jsx)("h4",{children:"Input Recipes separated by comma"}),(0,nd.jsx)(PR,{onSubmit:async e=>{if(e.preventDefault(),n(i),r&&r.email){const e=r.email.replace(/\./g,"."),t=DN(bx,"search history",e);try{const e=await fx(t);let n=i;e.exists()&&e.data().query&&(n="".concat(e.data().query," | ").concat(i)),await mx(t,{query:n,email:r.email,timestamp:new Date},{merge:!0}),console.log("Search query updated successfully")}catch(jd){console.error("Error updating search query: ",jd)}}else console.log("User is not logged in or does not have an email")},children:(0,nd.jsx)(gR,{placeholder:"tomato,potato,pizza",action:{icon:"search",color:"blue"},onChange:e=>o(e.target.value),value:i})})]})})};function AR(e){var n=e.children,r=e.className,i=e.content,o=e.fluid,s=e.text,a=e.textAlign,l=sl("ui",au(s,"text"),au(o,"fluid"),hu(a),"container",r),c=pu(AR,e),u=mu(AR,e);return t.createElement(u,ss({},c,{className:l}),iu(n)?i:n)}AR.handledProps=["as","children","className","content","fluid","text","textAlign"],AR.propTypes={};const OR=AR;function DR(e){var n=e.children,r=e.className,i=e.content,o=sl("sub header",r),s=pu(DR,e),a=mu(DR,e);return t.createElement(a,ss({},s,{className:o}),iu(n)?i:n)}DR.handledProps=["as","children","className","content"],DR.propTypes={},DR.create=Uu(DR,(function(e){return{content:e}}));const LR=DR;function MR(e){var n=e.children,r=e.className,i=e.content,o=sl("content",r),s=pu(MR,e),a=mu(MR,e);return t.createElement(a,ss({},s,{className:o}),iu(n)?i:n)}MR.handledProps=["as","children","className","content"],MR.propTypes={};const FR=MR;function UR(e){var n=e.attached,r=e.block,i=e.children,o=e.className,s=e.color,a=e.content,l=e.disabled,c=e.dividing,u=e.floated,h=e.icon,d=e.image,f=e.inverted,p=e.size,m=e.sub,g=e.subheader,v=e.textAlign,y=sl("ui",s,p,au(r,"block"),au(l,"disabled"),au(c,"dividing"),lu(u,"floated"),au(!0===h,"icon"),au(!0===d,"image"),au(f,"inverted"),au(m,"sub"),cu(n,"attached"),hu(v),"header",o),_=pu(UR,e),b=mu(UR,e);if(!iu(i))return t.createElement(b,ss({},_,{className:y}),i);var w=Hu.create(h,{autoGenerateKey:!1}),E=Vh.create(d,{autoGenerateKey:!1}),S=LR.create(g,{autoGenerateKey:!1});return w||E?t.createElement(b,ss({},_,{className:y}),w||E,(a||S)&&t.createElement(FR,null,a,S)):t.createElement(b,ss({},_,{className:y}),a,S)}UR.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],UR.propTypes={},UR.Content=FR,UR.Subheader=LR;const jR=UR;function VR(e){var n=e.children,r=e.className,i=e.content,o=e.textAlign,s=sl(hu(o),"description",r),a=pu(VR,e),l=mu(VR,e);return t.createElement(l,ss({},a,{className:s}),iu(n)?i:n)}VR.handledProps=["as","children","className","content","textAlign"],VR.propTypes={};const zR=VR;function BR(e){var n=e.children,r=e.className,i=e.content,o=e.textAlign,s=sl(hu(o),"header",r),a=pu(BR,e),l=mu(BR,e);return t.createElement(l,ss({},a,{className:s}),iu(n)?i:n)}BR.handledProps=["as","children","className","content","textAlign"],BR.propTypes={};const qR=BR;function HR(e){var n=e.children,r=e.className,i=e.content,o=e.textAlign,s=sl(hu(o),"meta",r),a=pu(HR,e),l=mu(HR,e);return t.createElement(l,ss({},a,{className:s}),iu(n)?i:n)}HR.handledProps=["as","children","className","content","textAlign"],HR.propTypes={};const WR=HR;function KR(e){var n=e.children,r=e.className,i=e.content,o=e.description,s=e.extra,a=e.header,l=e.meta,c=e.textAlign,u=sl(au(s,"extra"),hu(c),"content",r),h=pu(KR,e),d=mu(KR,e);return iu(n)?iu(i)?t.createElement(d,ss({},h,{className:u}),Fu(qR,(function(e){return{content:e}}),a,{autoGenerateKey:!1}),Fu(WR,(function(e){return{content:e}}),l,{autoGenerateKey:!1}),Fu(zR,(function(e){return{content:e}}),o,{autoGenerateKey:!1})):t.createElement(d,ss({},h,{className:u}),i):t.createElement(d,ss({},h,{className:u}),n)}KR.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],KR.propTypes={};const GR=KR;function QR(e){var n=e.centered,r=e.children,i=e.className,o=e.content,s=e.doubling,a=e.items,l=e.itemsPerRow,c=e.stackable,u=e.textAlign,h=sl("ui",au(n,"centered"),au(s,"doubling"),au(c,"stackable"),hu(u),fu(l),"cards",i),d=pu(QR,e),f=mu(QR,e);if(!iu(r))return t.createElement(f,ss({},d,{className:h}),r);if(!iu(o))return t.createElement(f,ss({},d,{className:h}),o);var p=Yh(a,(function(e){var n,r=null!=(n=e.key)?n:[e.header,e.description].join("-");return t.createElement($R,ss({key:r},e))}));return t.createElement(f,ss({},d,{className:h}),p)}QR.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],QR.propTypes={};const YR=QR;var $R=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return ls(n,e),n.prototype.render=function(){var e=this.props,r=e.centered,i=e.children,o=e.className,s=e.color,a=e.content,l=e.description,c=e.extra,u=e.fluid,h=e.header,d=e.href,f=e.image,p=e.link,m=e.meta,g=e.onClick,v=e.raised,y=sl("ui",s,au(r,"centered"),au(u,"fluid"),au(p,"link"),au(v,"raised"),"card",o),_=pu(n,this.props),b=mu(n,this.props,(function(){if(g)return"a"}));return iu(i)?iu(a)?t.createElement(b,ss({},_,{className:y,href:d,onClick:this.handleClick}),Vh.create(f,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(l||h||m)&&t.createElement(GR,{description:l,header:h,meta:m}),c&&t.createElement(GR,{extra:!0},c)):t.createElement(b,ss({},_,{className:y,href:d,onClick:this.handleClick}),a):t.createElement(b,ss({},_,{className:y,href:d,onClick:this.handleClick}),i)},n}(t.Component);$R.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],$R.propTypes={},$R.Content=GR,$R.Description=zR,$R.Group=YR,$R.Header=qR,$R.Meta=WR;const JR=e=>{let{recipe:t}=e;return(0,nd.jsxs)($R,{children:[(0,nd.jsx)("img",{src:t.image_url,alt:"thumbnail",style:{height:170}}),(0,nd.jsxs)($R.Content,{children:[(0,nd.jsx)($R.Header,{content:t.title}),(0,nd.jsx)($R.Description,{children:(0,nd.jsx)("h4",{children:t.publisher})})]}),(0,nd.jsx)($R.Content,{extra:!0,style:{display:"flex",justifyContent:"flex-end"},children:(0,nd.jsx)(td,{as:hd,to:"/recipes/".concat(t.recipe_id),content:"View Details",color:"blue",size:"tiny"})})]})},XR=e=>{let{recipes:t,searchedQuery:n}=e;return(0,nd.jsxs)(OR,{children:[(0,nd.jsx)(jR,{size:"huge",content:"RECIPE LIST FOR ".concat(n),textAlign:"center"}),(0,nd.jsx)(Tx,{columns:4,doubling:!0,children:t&&t.map((e=>(0,nd.jsx)(Tx.Column,{children:(0,nd.jsx)(JR,{recipe:e})})))})]})};function ZR(e,t){return function(){return e.apply(t,arguments)}}const{toString:eA}=Object.prototype,{getPrototypeOf:tA}=Object,nA=(rA=Object.create(null),e=>{const t=eA.call(e);return rA[t]||(rA[t]=t.slice(8,-1).toLowerCase())});var rA;const iA=e=>(e=e.toLowerCase(),t=>nA(t)===e),oA=e=>t=>typeof t===e,{isArray:sA}=Array,aA=oA("undefined");const lA=iA("ArrayBuffer");const cA=oA("string"),uA=oA("function"),hA=oA("number"),dA=e=>null!==e&&"object"===typeof e,fA=e=>{if("object"!==nA(e))return!1;const t=tA(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pA=iA("Date"),mA=iA("File"),gA=iA("Blob"),vA=iA("FileList"),yA=iA("URLSearchParams");function _A(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),sA(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function bA(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const wA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,EA=e=>!aA(e)&&e!==wA;const SA=(CA="undefined"!==typeof Uint8Array&&tA(Uint8Array),e=>CA&&e instanceof CA);var CA;const kA=iA("HTMLFormElement"),TA=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),IA=iA("RegExp"),NA=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_A(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},xA="abcdefghijklmnopqrstuvwxyz",PA="0123456789",RA={DIGIT:PA,ALPHA:xA,ALPHA_DIGIT:xA+xA.toUpperCase()+PA};const AA=iA("AsyncFunction"),OA={isArray:sA,isArrayBuffer:lA,isBuffer:function(e){return null!==e&&!aA(e)&&null!==e.constructor&&!aA(e.constructor)&&uA(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||uA(e.append)&&("formdata"===(t=nA(e))||"object"===t&&uA(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&lA(e.buffer),t},isString:cA,isNumber:hA,isBoolean:e=>!0===e||!1===e,isObject:dA,isPlainObject:fA,isUndefined:aA,isDate:pA,isFile:mA,isBlob:gA,isRegExp:IA,isFunction:uA,isStream:e=>dA(e)&&uA(e.pipe),isURLSearchParams:yA,isTypedArray:SA,isFileList:vA,forEach:_A,merge:function e(){const{caseless:t}=EA(this)&&this||{},n={},r=(r,i)=>{const o=t&&bA(n,i)||i;fA(n[o])&&fA(r)?n[o]=e(n[o],r):fA(r)?n[o]=e({},r):sA(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&_A(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _A(t,((t,r)=>{n&&uA(t)?e[r]=ZR(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&tA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:nA,kindOfTest:iA,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(sA(e))return e;let t=e.length;if(!hA(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:kA,hasOwnProperty:TA,hasOwnProp:TA,reduceDescriptors:NA,freezeMethods:e=>{NA(e,((t,n)=>{if(uA(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];uA(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return sA(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:bA,global:wA,isContextDefined:EA,ALPHABET:RA,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RA.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&uA(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(dA(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=sA(e)?[]:{};return _A(e,((e,t)=>{const o=n(e,r+1);!aA(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:AA,isThenable:e=>e&&(dA(e)||uA(e))&&uA(e.then)&&uA(e.catch)};function DA(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}OA.inherits(DA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:OA.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const LA=DA.prototype,MA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{MA[e]={value:e}})),Object.defineProperties(DA,MA),Object.defineProperty(LA,"isAxiosError",{value:!0}),DA.from=(e,t,n,r,i,o)=>{const s=Object.create(LA);return OA.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),DA.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const FA=DA;function UA(e){return OA.isPlainObject(e)||OA.isArray(e)}function jA(e){return OA.endsWith(e,"[]")?e.slice(0,-2):e}function VA(e,t,n){return e?e.concat(t).map((function(e,t){return e=jA(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const zA=OA.toFlatObject(OA,{},null,(function(e){return/^is[A-Z]/.test(e)}));const BA=function(e,t,n){if(!OA.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=OA.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!OA.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&OA.isSpecCompliantForm(t);if(!OA.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(OA.isDate(e))return e.toISOString();if(!a&&OA.isBlob(e))throw new FA("Blob is not supported. Use a Buffer instead.");return OA.isArrayBuffer(e)||OA.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(OA.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(OA.isArray(e)&&function(e){return OA.isArray(e)&&!e.some(UA)}(e)||(OA.isFileList(e)||OA.endsWith(n,"[]"))&&(a=OA.toArray(e)))return n=jA(n),a.forEach((function(e,r){!OA.isUndefined(e)&&null!==e&&t.append(!0===s?VA([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!UA(e)||(t.append(VA(i,n,o),l(e)),!1)}const u=[],h=Object.assign(zA,{defaultVisitor:c,convertValue:l,isVisitable:UA});if(!OA.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!OA.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),OA.forEach(n,(function(n,o){!0===(!(OA.isUndefined(n)||null===n)&&i.call(t,n,OA.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function qA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function HA(e,t){this._pairs=[],e&&BA(e,this,t)}const WA=HA.prototype;WA.append=function(e,t){this._pairs.push([e,t])},WA.toString=function(e){const t=e?function(t){return e.call(this,t,qA)}:qA;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const KA=HA;function GA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QA(e,t,n){if(!t)return e;const r=n&&n.encode||GA,i=n&&n.serialize;let o;if(o=i?i(t,n):OA.isURLSearchParams(t)?t.toString():new KA(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const YA=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){OA.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},$A={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JA={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:KA,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},XA="undefined"!==typeof window&&"undefined"!==typeof document,ZA=(eO="undefined"!==typeof navigator&&navigator.product,XA&&["ReactNative","NativeScript","NS"].indexOf(eO)<0);var eO;const tO="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,nO={...e,...JA};const rO=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&OA.isArray(r)?r.length:o,a)return OA.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&OA.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&OA.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(OA.isFormData(e)&&OA.isFunction(e.entries)){const n={};return OA.forEachEntry(e,((e,r)=>{t(function(e){return OA.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const iO={transitional:$A,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=OA.isObject(e);i&&OA.isHTMLForm(e)&&(e=new FormData(e));if(OA.isFormData(e))return r?JSON.stringify(rO(e)):e;if(OA.isArrayBuffer(e)||OA.isBuffer(e)||OA.isStream(e)||OA.isFile(e)||OA.isBlob(e))return e;if(OA.isArrayBufferView(e))return e.buffer;if(OA.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return BA(e,new nO.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return nO.isNode&&OA.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=OA.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return BA(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(OA.isString(e))try{return(t||JSON.parse)(e),OA.trim(e)}catch(oD){if("SyntaxError"!==oD.name)throw oD}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||iO.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&OA.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(oD){if(n){if("SyntaxError"===oD.name)throw FA.from(oD,FA.ERR_BAD_RESPONSE,this,null,this.response);throw oD}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nO.classes.FormData,Blob:nO.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};OA.forEach(["delete","get","head","post","put","patch"],(e=>{iO.headers[e]={}}));const oO=iO,sO=OA.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aO=Symbol("internals");function lO(e){return e&&String(e).trim().toLowerCase()}function cO(e){return!1===e||null==e?e:OA.isArray(e)?e.map(cO):String(e)}function uO(e,t,n,r,i){return OA.isFunction(r)?r.call(this,t,n):(i&&(t=n),OA.isString(t)?OA.isString(r)?-1!==t.indexOf(r):OA.isRegExp(r)?r.test(t):void 0:void 0)}class hO{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=lO(t);if(!i)throw new Error("header name must be a non-empty string");const o=OA.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=cO(e))}const o=(e,t)=>OA.forEach(e,((e,n)=>i(e,n,t)));return OA.isPlainObject(e)||e instanceof this.constructor?o(e,t):OA.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&sO[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=lO(e)){const n=OA.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(OA.isFunction(t))return t.call(this,e,n);if(OA.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lO(e)){const n=OA.findKey(this,e);return!(!n||void 0===this[n]||t&&!uO(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=lO(e)){const i=OA.findKey(n,e);!i||t&&!uO(0,n[i],i,t)||(delete n[i],r=!0)}}return OA.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!uO(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return OA.forEach(this,((r,i)=>{const o=OA.findKey(n,i);if(o)return t[o]=cO(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=cO(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return OA.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&OA.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[aO]=this[aO]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=lO(e);t[r]||(!function(e,t){const n=OA.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return OA.isArray(e)?e.forEach(r):r(e),this}}hO.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),OA.reduceDescriptors(hO.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),OA.freezeMethods(hO);const dO=hO;function fO(e,t){const n=this||oO,r=t||n,i=dO.from(r.headers);let o=r.data;return OA.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function pO(e){return!(!e||!e.__CANCEL__)}function mO(e,t,n){FA.call(this,null==e?"canceled":e,FA.ERR_CANCELED,t,n),this.name="CanceledError"}OA.inherits(mO,FA,{__CANCEL__:!0});const gO=mO;const vO=nO.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];OA.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),OA.isString(r)&&s.push("path="+r),OA.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function yO(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const _O=nO.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=OA.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const bO=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,h=0;for(;u!==o;)h+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function wO(e,t){let n=0;const r=bO(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const EO="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=dO.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(OA.isFormData(r))if(nO.hasStandardBrowserEnv||nO.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const h=yO(e.baseURL,e.url);function d(){if(!u)return;const r=dO.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new FA("Request failed with status code "+n.status,[FA.ERR_BAD_REQUEST,FA.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),QA(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new FA("Request aborted",FA.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new FA("Network Error",FA.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||$A;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new FA(t,r.clarifyTimeoutError?FA.ETIMEDOUT:FA.ECONNABORTED,e,u)),u=null},nO.hasStandardBrowserEnv&&(l&&OA.isFunction(l)&&(l=l(e)),l||!1!==l&&_O(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&vO.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&OA.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),OA.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",wO(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",wO(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new gO(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);f&&-1===nO.protocols.indexOf(f)?n(new FA("Unsupported protocol "+f+":",FA.ERR_BAD_REQUEST,e)):u.send(r||null)}))},SO={http:null,xhr:EO};OA.forEach(SO,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(oD){}Object.defineProperty(e,"adapterName",{value:t})}}));const CO=e=>"- ".concat(e),kO=e=>OA.isFunction(e)||null===e||!1===e,TO=e=>{e=OA.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!kO(n)&&(r=SO[(t=String(n)).toLowerCase()],void 0===r))throw new FA("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(CO).join("\n"):" "+CO(e[0]):"as no adapter specified";throw new FA("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function IO(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gO(null,e)}function NO(e){IO(e),e.headers=dO.from(e.headers),e.data=fO.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return TO(e.adapter||oO.adapter)(e).then((function(t){return IO(e),t.data=fO.call(e,e.transformResponse,t),t.headers=dO.from(t.headers),t}),(function(t){return pO(t)||(IO(e),t&&t.response&&(t.response.data=fO.call(e,e.transformResponse,t.response),t.response.headers=dO.from(t.response.headers))),Promise.reject(t)}))}const xO=e=>e instanceof dO?{...e}:e;function PO(e,t){t=t||{};const n={};function r(e,t,n){return OA.isPlainObject(e)&&OA.isPlainObject(t)?OA.merge.call({caseless:n},e,t):OA.isPlainObject(t)?OA.merge({},t):OA.isArray(t)?t.slice():t}function i(e,t,n){return OA.isUndefined(t)?OA.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!OA.isUndefined(t))return r(void 0,t)}function s(e,t){return OA.isUndefined(t)?OA.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(xO(e),xO(t),!0)};return OA.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);OA.isUndefined(s)&&o!==a||(n[r]=s)})),n}const RO="1.6.8",AO={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{AO[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const OO={};AO.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new FA(r(i," has been removed"+(t?" in "+t:"")),FA.ERR_DEPRECATED);return t&&!OO[i]&&(OO[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const DO={assertOptions:function(e,t,n){if("object"!==typeof e)throw new FA("options must be an object",FA.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new FA("option "+o+" must be "+n,FA.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new FA("Unknown option "+o,FA.ERR_BAD_OPTION)}},validators:AO},LO=DO.validators;class MO{constructor(e){this.defaults=e,this.interceptors={request:new YA,response:new YA}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=PO(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&DO.assertOptions(n,{silentJSONParsing:LO.transitional(LO.boolean),forcedJSONParsing:LO.transitional(LO.boolean),clarifyTimeoutError:LO.transitional(LO.boolean)},!1),null!=r&&(OA.isFunction(r)?t.paramsSerializer={serialize:r}:DO.assertOptions(r,{encode:LO.function,serialize:LO.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&OA.merge(i.common,i[t.method]);i&&OA.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=dO.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[NO.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let d=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{d=e(d)}catch(jd){t.call(this,jd);break}}try{c=NO.call(this,d)}catch(jd){return Promise.reject(jd)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return QA(yO((e=PO(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}OA.forEach(["delete","get","head","options"],(function(e){MO.prototype[e]=function(t,n){return this.request(PO(n||{},{method:e,url:t,data:(n||{}).data}))}})),OA.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(PO(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}MO.prototype[e]=t(),MO.prototype[e+"Form"]=t(!0)}));const FO=MO;class UO{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new gO(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new UO((function(t){e=t})),cancel:e}}}const jO=UO;const VO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(VO).forEach((e=>{let[t,n]=e;VO[n]=t}));const zO=VO;const BO=function e(t){const n=new FO(t),r=ZR(FO.prototype.request,n);return OA.extend(r,FO.prototype,n,{allOwnKeys:!0}),OA.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(PO(t,n))},r}(oO);BO.Axios=FO,BO.CanceledError=gO,BO.CancelToken=jO,BO.isCancel=pO,BO.VERSION=RO,BO.toFormData=BA,BO.AxiosError=FA,BO.Cancel=BO.CanceledError,BO.all=function(e){return Promise.all(e)},BO.spread=function(e){return function(t){return e.apply(null,t)}},BO.isAxiosError=function(e){return OA.isObject(e)&&!0===e.isAxiosError},BO.mergeConfig=PO,BO.AxiosHeaders=dO,BO.formToJSON=e=>rO(OA.isHTMLForm(e)?new FormData(e):e),BO.getAdapter=TO,BO.HttpStatusCode=zO,BO.default=BO;const qO=BO,HO="https://forkify-api.herokuapp.com/api",WO=e=>{let{recipe:n}=e;const[r,i]=(0,t.useState)("pizza"),[o,s]=(0,t.useState)([]),a=X();(0,t.useEffect)((()=>{l()}),[r]);const l=async()=>{let e=await(async e=>{try{return(await qO.get("".concat(HO,"/search?q=").concat(e))).data}catch(jd){return console.log("Error while calling the api ",jd.message),jd.response}})(r);e&&e.recipes&&s(e.recipes)};return(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)("style",{children:"\n                header {\n                    display: flex;\n                    justify-content: flex-end;\n                    padding: 10px 20px;\n                    background-color: #f0f0f0;\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n                }\n\n                .logoutButton {\n                    margin: 10px;\n                    padding: 8px 16px;\n                    background-color: #3498db;\n                    color: #ffffff;\n                    border: none;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    font-weight: bold;\n                    transition: background-color 0.2s;\n                }\n\n                .logoutButton:hover {\n                    background-color: #2980b9;\n                }\n\n                .search-container,\n                .recipe-list {\n                    padding: 20px;\n                }\n\n                .recipe-list {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n                    gap: 20px;\n                }\n\n                .recipe-item {\n                    border: 1px solid #ddd;\n                    border-radius: 4px;\n                    overflow: hidden;\n                }\n\n                .recipe-item img {\n                    width: 100%;\n                    height: auto;\n                }\n\n                .recipe-item h3 {\n                    padding: 10px;\n                    background-color: #3498db;\n                    color: white;\n                    margin: 0;\n                }\n            "}),(0,nd.jsxs)("header",{children:[(0,nd.jsx)("button",{onClick:()=>{a("/history")},className:"logoutButton",children:"History\u231b"}),(0,nd.jsx)("button",{onClick:async()=>{try{await function(e){return lt(e).signOut()}(_x),a("/login")}catch(jd){console.error("Logout Error:",jd)}},className:"logoutButton",children:"Logout \u21aa"})]}),(0,nd.jsx)(RR,{setSearchedQuery:i}),(0,nd.jsx)(XR,{recipes:o,searchedQuery:r})]})};function KO(e){var n=e.children,r=e.className,i=e.compact,o=e.content,s=e.horizontal,a=e.piled,l=e.raised,c=e.size,u=e.stacked,h=sl("ui",c,au(i,"compact"),au(s,"horizontal"),au(a,"piled"),au(l,"raised"),au(u,"stacked"),"segments",r),d=pu(KO,e),f=mu(KO,e);return t.createElement(f,ss({},d,{className:h}),iu(n)?o:n)}KO.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],KO.propTypes={};const GO=KO;function QO(e){var n=e.children,r=e.className,i=e.content,o=sl("inline",r),s=pu(QO,e),a=mu(QO,e);return t.createElement(a,ss({},s,{className:o}),iu(n)?i:n)}QO.handledProps=["as","children","className","content"],QO.propTypes={};const YO=QO;function $O(e){var n=e.attached,r=e.basic,i=e.children,o=e.circular,s=e.className,a=e.clearing,l=e.color,c=e.compact,u=e.content,h=e.disabled,d=e.floated,f=e.inverted,p=e.loading,m=e.placeholder,g=e.padded,v=e.piled,y=e.raised,_=e.secondary,b=e.size,w=e.stacked,E=e.tertiary,S=e.textAlign,C=e.vertical,k=sl("ui",l,b,au(r,"basic"),au(o,"circular"),au(a,"clearing"),au(c,"compact"),au(h,"disabled"),au(f,"inverted"),au(p,"loading"),au(m,"placeholder"),au(v,"piled"),au(y,"raised"),au(_,"secondary"),au(w,"stacked"),au(E,"tertiary"),au(C,"vertical"),cu(n,"attached"),cu(g,"padded"),hu(S),lu(d,"floated"),"segment",s),T=pu($O,e),I=mu($O,e);return t.createElement(I,ss({},T,{className:k}),iu(i)?u:i)}$O.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],$O.Group=GO,$O.Inline=YO,$O.propTypes={};const JO=$O,XO=()=>{const[e,n]=(0,t.useState)({}),{recipeId:r}=function(){let{matches:e}=t.useContext(G),n=e[e.length-1];return n?n.params:{}}();return(0,t.useEffect)((()=>{(async()=>{let e=await(async e=>{try{return(await qO.get("".concat(HO,"/get?rId=").concat(e))).data}catch(jd){return console.log("Error while calling the api ",jd.message),jd.response}})(r);e&&e.recipe&&n(e.recipe)})()}),[]),Object.keys(e).length>0?(0,nd.jsxs)(Tx,{container:!0,stackable:!0,columns:2,className:"detailsPageContent",children:[(0,nd.jsxs)(Tx.Column,{children:[(0,nd.jsx)(td,{as:hd,to:"/recipes",content:"Back to recipe List",color:"yellow",style:{marginBottom:40}}),(0,nd.jsx)(Vh,{src:e.image_url})]}),(0,nd.jsxs)(Tx.Column,{children:[(0,nd.jsx)(jR,{size:"large",children:e.title}),(0,nd.jsx)(jR,{size:"medium",content:"Ingredients"}),(0,nd.jsx)(JO.Group,{children:e&&e.ingredients.map((e=>(0,nd.jsx)(JO,{children:(0,nd.jsx)("h5",{children:e})})))})]})]}):null},ZO=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),o=X();return(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)("style",{children:"\n              \nbody {\n  background-color: #f0f2f5;\n  font-family: 'Arial', sans-serif;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n/* Styling for the login form container */\n.login-form {\n  background: white;\n  padding: 40px;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  width: 300px;\n}\n\n/* Styling for input fields */\n.login-form input {\n  width: 100%;\n  padding: 10px;\n  margin: 10px 0;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  box-sizing: border-box; /* Makes sure padding does not affect the total width */\n}\n\n/* Styling for the login button */\n.login-button {\n  width: 100%;\n  padding: 10px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n.login-button:hover {\n  background-color: #0056b3;\n}\n\n/* Styling for the signup link */\n.login-form p {\n  text-align: center;\n}\n\n.login-form a {\n  color: #007bff;\n  text-decoration: none;\n}\n\n.login-form a:hover {\n  text-decoration: underline;\n}\n\n/* Styling for the login page title */\nh1 {\n  text-align: center;\n  color: #333;\n}\n            "}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("h1",{children:"Login Page"}),(0,nd.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await function(e,t,n){return bn(e.app)?Promise.reject(Qn(e)):Li(lt(e),bi.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fi(e),t}))}(_x,e,r);console.log(t);const n=t.user,i=n.email.replace(/\./g,".");await mx(DN(bx,"users",i),{uid:n.uid,email:e,password:r,lastLogin:new Date},{merge:!0}),localStorage.setItem("token",n.accessToken),localStorage.setItem("user",JSON.stringify(n)),o("/home")}catch(jd){console.error(jd)}},className:"login-form",children:[(0,nd.jsx)("input",{type:"email",placeholder:"Your Email",required:!0,value:e,onChange:e=>n(e.target.value)}),(0,nd.jsx)("input",{type:"password",placeholder:"Your Password",required:!0,value:r,onChange:e=>i(e.target.value)}),(0,nd.jsx)("button",{type:"submit",className:"login-button",children:"Login"})]}),(0,nd.jsxs)("p",{children:["New Here..!",(0,nd.jsx)(hd,{to:"/signup",children:"Create Account"})]})]})]})},eD=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),o=X();return(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)("style",{children:"\n                /* General body styling for background */\n                body {\n                  background-color: #f0f2f5;\n                  font-family: 'Arial', sans-serif;\n                  margin: 0;\n                  padding: 0;\n                  display: flex;\n                  justify-content: center;\n                  align-items: center;\n                  height: 100vh;\n                }\n                \n                /* Styling for the signup form container */\n                .signup-form {\n                  background: white;\n                  padding: 40px;\n                  border-radius: 8px;\n                  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n                  width: 300px;\n                }\n                \n                /* Styling for input fields */\n                .signup-form input {\n                  width: 100%;\n                  padding: 10px;\n                  margin: 10px 0;\n                  border-radius: 5px;\n                  border: 1px solid #ccc;\n                  box-sizing: border-box; /* Makes sure padding does not affect the total width */\n                }\n                \n                /* Styling for the signup button */\n                .signup-button {\n                  width: 100%;\n                  padding: 10px;\n                  background-color: #007bff;\n                  color: white;\n                  border: none;\n                  border-radius: 5px;\n                  cursor: pointer;\n                  font-size: 16px;\n                }\n                \n                .signup-button:hover {\n                  background-color: #0056b3;\n                }\n                \n                /* Styling for the login link */\n                .signup-form p {\n                  text-align: center;\n                }\n                \n                .signup-form a {\n                  color: #007bff;\n                  text-decoration: none;\n                }\n                \n                .signup-form a:hover {\n                  text-decoration: underline;\n                }\n                \n                /* Styling for the signup page title */\n                h1 {\n                  text-align: center;\n                  color: #333;\n                }\n            "}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("h1",{children:"Signup Page"}),(0,nd.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await async function(e,t,n){if(bn(e.app))return Promise.reject(Qn(e));const r=Zr(e),i=si(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ii),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fi(e),t})),s=await Ni._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(_x,e,r),n=t.user;console.log(n),await Ui(n);const i=n.email.replace(/\./g,".");await mx(DN(bx,"users",i),{uid:n.uid,email:n.email,password:r,createdAt:new Date}),localStorage.setItem("token",n.accessToken),localStorage.setItem("user",JSON.stringify({uid:n.uid,email:n.email})),o("/home")}catch(jd){console.error(jd),"auth/email-already-in-use"===jd.code?alert("This email is already in use. Please use a different email or log in."):alert("An error occurred. Please try again later.")}},className:"signup-form",children:[(0,nd.jsx)("input",{type:"email",placeholder:"Your Email",required:!0,value:e,onChange:e=>n(e.target.value)}),(0,nd.jsx)("input",{type:"password",placeholder:"Your Password",required:!0,value:r,onChange:e=>i(e.target.value)}),(0,nd.jsx)("button",{type:"submit",className:"signup-button",children:"Signup"})]}),(0,nd.jsxs)("p",{children:["Already user? ",(0,nd.jsx)(hd,{to:"/login",children:"Login"})]})]})]})},tD=()=>{const e=X(),n=is(),[r,i]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const t=ji(n,(t=>{if(t){if(!t.emailVerified){const n=setInterval((()=>{t.reload().then((()=>{t.emailVerified&&(clearInterval(n),e("/home"),i(!1))}))}),1e3);return()=>clearInterval(n)}e("/home"),i(!1)}else e("/login"),i(!1)}));return()=>{t()}}),[n,e]),r?(0,nd.jsx)("div",{children:"Checking email verification..."}):(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)("style",{children:"\n            body {\n                background-color: #f0f2f5;\n                font-family: 'Arial', sans-serif;\n                margin: 0;\n                padding: 0;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 100vh;\n            }\n            .loader {\n                border: 4px solid #f3f3f3; /* Light grey */\n                border-top: 4px solid #3498db; /* Blue */\n                border-radius: 50%;\n                justify-content: center;\n                align-items: center;\n                width: 40px;\n                height: 40px;\n                animation: spin 2s linear infinite;\n            }\n            @keyframes spin {\n                0% { transform: rotate(0deg); }\n                100% { transform: rotate(360deg); }\n            }\n        "}),(0,nd.jsx)("div",{children:r?(0,nd.jsxs)("div",{className:"loader-container",children:[(0,nd.jsx)("div",{className:"loader"}),(0,nd.jsx)("p",{children:"Verifying your email, please wait..."})]}):(0,nd.jsxs)("div",{children:[(0,nd.jsx)("p",{children:"Your email has been verified."}),(0,nd.jsx)("p",{children:"Redirecting you to the home page..."})]})})]})},nD=()=>{const[e]=bd(_x),[n,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{if(e&&e.email){const t=e.email.replace(/\./g,"."),n=DN(bx,"search history",t);try{const e=await fx(n);if(e.exists()&&e.data().query){const t=e.data().query.split(" | ");r(t)}else console.log("No search history found")}catch(jd){console.error("Error fetching search history: ",jd)}}})()}),[e]),(0,nd.jsxs)("div",{children:[(0,nd.jsx)(td,{as:hd,to:"/recipes",content:"Back to recipe List",color:"yellow",style:{margin:30}}),(0,nd.jsx)("h2",{style:{margin:25,color:"#4a47a3"},children:"Search History"}),(0,nd.jsx)("ul",{style:{listStyleType:"none",padding:0,margin:15},children:n.map(((e,t)=>(0,nd.jsx)("li",{style:{backgroundColor:t%2===0?"#f0f0f0":"#d9d9d9",color:"#333",padding:"10px",margin:"5px 0",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e},t)))})]})};const rD=function(){return(0,nd.jsx)(ld,{children:(0,nd.jsxs)(me,{children:[(0,nd.jsx)(fe,{path:"/signup",element:(0,nd.jsx)(eD,{})}),(0,nd.jsx)(fe,{path:"/login",element:(0,nd.jsx)(ZO,{})}),(0,nd.jsx)(fe,{path:"/verify-email",element:(0,nd.jsx)(tD,{})}),(0,nd.jsx)(fe,{path:"/home",element:(0,nd.jsx)(pd,{})}),(0,nd.jsx)(fe,{path:"/recipes",element:(0,nd.jsx)(WO,{})}),(0,nd.jsx)(fe,{path:"/history",element:(0,nd.jsx)(nD,{})}),(0,nd.jsx)(fe,{path:"/recipes/:recipeId",element:(0,nd.jsx)(XO,{})}),(0,nd.jsx)(fe,{path:"/",element:(0,nd.jsx)(de,{replace:!0,to:"/signup"})})," "]})})},iD=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,nd.jsx)(t.StrictMode,{children:(0,nd.jsx)(rD,{})})),iD()})()})();
//# sourceMappingURL=main.1e185bcd.js.map